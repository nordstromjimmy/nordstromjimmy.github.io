var F3=Object.defineProperty;var j3=(e,t,r)=>t in e?F3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var lt=(e,t,r)=>j3(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function U1(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const ur={},_l=[],mi=()=>{},B3=()=>!1,Bh=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),V1=e=>e.startsWith("onUpdate:"),hn=Object.assign,G1=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},q3=Object.prototype.hasOwnProperty,Xt=(e,t)=>q3.call(e,t),St=Array.isArray,wl=e=>qh(e)==="[object Map]",O5=e=>qh(e)==="[object Set]",At=e=>typeof e=="function",_r=e=>typeof e=="string",zi=e=>typeof e=="symbol",pr=e=>e!==null&&typeof e=="object",E5=e=>(pr(e)||At(e))&&At(e.then)&&At(e.catch),R5=Object.prototype.toString,qh=e=>R5.call(e),$3=e=>qh(e).slice(8,-1),M5=e=>qh(e)==="[object Object]",H1=e=>_r(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,wc=U1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$h=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},U3=/-(\w)/g,La=$h(e=>e.replace(U3,(t,r)=>r?r.toUpperCase():"")),V3=/\B([A-Z])/g,Rs=$h(e=>e.replace(V3,"-$1").toLowerCase()),Uh=$h(e=>e.charAt(0).toUpperCase()+e.slice(1)),n0=$h(e=>e?`on${Uh(e)}`:""),Ps=(e,t)=>!Object.is(e,t),fh=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},D5=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},e1=e=>{const t=parseFloat(e);return isNaN(t)?e:t},G3=e=>{const t=_r(e)?Number(e):NaN;return isNaN(t)?e:t};let h2;const Vh=()=>h2||(h2=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _n(e){if(St(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],a=_r(n)?Y3(n):_n(n);if(a)for(const i in a)t[i]=a[i]}return t}else if(_r(e)||pr(e))return e}const H3=/;(?![^(]*\))/g,z3=/:([^]+)/,W3=/\/\*[^]*?\*\//g;function Y3(e){const t={};return e.replace(W3,"").split(H3).forEach(r=>{if(r){const n=r.split(z3);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function xt(e){let t="";if(_r(e))t=e;else if(St(e))for(let r=0;r<e.length;r++){const n=xt(e[r]);n&&(t+=n+" ")}else if(pr(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}function cn(e){if(!e)return null;let{class:t,style:r}=e;return t&&!_r(t)&&(e.class=xt(t)),r&&(e.style=_n(r)),e}const K3="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",X3=U1(K3);function I5(e){return!!e||e===""}const F5=e=>!!(e&&e.__v_isRef===!0),qt=e=>_r(e)?e:e==null?"":St(e)||pr(e)&&(e.toString===R5||!At(e.toString))?F5(e)?qt(e.value):JSON.stringify(e,j5,2):String(e),j5=(e,t)=>F5(t)?j5(e,t.value):wl(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,a],i)=>(r[a0(n,i)+" =>"]=a,r),{})}:O5(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>a0(r))}:zi(t)?a0(t):pr(t)&&!St(t)&&!M5(t)?String(t):t,a0=(e,t="")=>{var r;return zi(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bn;class J3{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Bn,!t&&Bn&&(this.index=(Bn.scopes||(Bn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=Bn;try{return Bn=this,t()}finally{Bn=r}}}on(){Bn=this}off(){Bn=this.parent}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function B5(){return Bn}function Q3(e,t=!1){Bn&&Bn.cleanups.push(e)}let fr;const i0=new WeakSet;class q5{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Bn&&Bn.active&&Bn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,i0.has(this)&&(i0.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||U5(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,f2(this),V5(this);const t=fr,r=za;fr=this,za=!0;try{return this.fn()}finally{G5(this),fr=t,za=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Y1(t);this.deps=this.depsTail=void 0,f2(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?i0.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){t1(this)&&this.run()}get dirty(){return t1(this)}}let $5=0,Sc,xc;function U5(e,t=!1){if(e.flags|=8,t){e.next=xc,xc=e;return}e.next=Sc,Sc=e}function z1(){$5++}function W1(){if(--$5>0)return;if(xc){let t=xc;for(xc=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;Sc;){let t=Sc;for(Sc=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function V5(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function G5(e){let t,r=e.depsTail,n=r;for(;n;){const a=n.prevDep;n.version===-1?(n===r&&(r=a),Y1(n),Z3(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=a}e.deps=t,e.depsTail=r}function t1(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(H5(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function H5(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Dc))return;e.globalVersion=Dc;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!t1(e)){e.flags&=-3;return}const r=fr,n=za;fr=e,za=!0;try{V5(e);const a=e.fn(e._value);(t.version===0||Ps(a,e._value))&&(e._value=a,t.version++)}catch(a){throw t.version++,a}finally{fr=r,za=n,G5(e),e.flags&=-3}}function Y1(e,t=!1){const{dep:r,prevSub:n,nextSub:a}=e;if(n&&(n.nextSub=a,e.prevSub=void 0),a&&(a.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)Y1(i,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function Z3(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let za=!0;const z5=[];function Ms(){z5.push(za),za=!1}function Ds(){const e=z5.pop();za=e===void 0?!0:e}function f2(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=fr;fr=void 0;try{t()}finally{fr=r}}}let Dc=0;class e4{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class K1{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!fr||!za||fr===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==fr)r=this.activeLink=new e4(fr,this),fr.deps?(r.prevDep=fr.depsTail,fr.depsTail.nextDep=r,fr.depsTail=r):fr.deps=fr.depsTail=r,W5(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=fr.depsTail,r.nextDep=void 0,fr.depsTail.nextDep=r,fr.depsTail=r,fr.deps===r&&(fr.deps=n)}return r}trigger(t){this.version++,Dc++,this.notify(t)}notify(t){z1();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{W1()}}}function W5(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)W5(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const kh=new WeakMap,uo=Symbol(""),r1=Symbol(""),Ic=Symbol("");function Nn(e,t,r){if(za&&fr){let n=kh.get(e);n||kh.set(e,n=new Map);let a=n.get(r);a||(n.set(r,a=new K1),a.map=n,a.key=r),a.track()}}function qi(e,t,r,n,a,i){const s=kh.get(e);if(!s){Dc++;return}const o=l=>{l&&l.trigger()};if(z1(),t==="clear")s.forEach(o);else{const l=St(e),c=l&&H1(r);if(l&&r==="length"){const u=Number(n);s.forEach((h,p)=>{(p==="length"||p===Ic||!zi(p)&&p>=u)&&o(h)})}else switch((r!==void 0||s.has(void 0))&&o(s.get(r)),c&&o(s.get(Ic)),t){case"add":l?c&&o(s.get("length")):(o(s.get(uo)),wl(e)&&o(s.get(r1)));break;case"delete":l||(o(s.get(uo)),wl(e)&&o(s.get(r1)));break;case"set":wl(e)&&o(s.get(uo));break}}W1()}function t4(e,t){const r=kh.get(e);return r&&r.get(t)}function Xo(e){const t=Ht(e);return t===e?t:(Nn(t,"iterate",Ic),Ca(e)?t:t.map(Tn))}function Gh(e){return Nn(e=Ht(e),"iterate",Ic),e}const r4={__proto__:null,[Symbol.iterator](){return s0(this,Symbol.iterator,Tn)},concat(...e){return Xo(this).concat(...e.map(t=>St(t)?Xo(t):t))},entries(){return s0(this,"entries",e=>(e[1]=Tn(e[1]),e))},every(e,t){return Oi(this,"every",e,t,void 0,arguments)},filter(e,t){return Oi(this,"filter",e,t,r=>r.map(Tn),arguments)},find(e,t){return Oi(this,"find",e,t,Tn,arguments)},findIndex(e,t){return Oi(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Oi(this,"findLast",e,t,Tn,arguments)},findLastIndex(e,t){return Oi(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Oi(this,"forEach",e,t,void 0,arguments)},includes(...e){return o0(this,"includes",e)},indexOf(...e){return o0(this,"indexOf",e)},join(e){return Xo(this).join(e)},lastIndexOf(...e){return o0(this,"lastIndexOf",e)},map(e,t){return Oi(this,"map",e,t,void 0,arguments)},pop(){return wu(this,"pop")},push(...e){return wu(this,"push",e)},reduce(e,...t){return p2(this,"reduce",e,t)},reduceRight(e,...t){return p2(this,"reduceRight",e,t)},shift(){return wu(this,"shift")},some(e,t){return Oi(this,"some",e,t,void 0,arguments)},splice(...e){return wu(this,"splice",e)},toReversed(){return Xo(this).toReversed()},toSorted(e){return Xo(this).toSorted(e)},toSpliced(...e){return Xo(this).toSpliced(...e)},unshift(...e){return wu(this,"unshift",e)},values(){return s0(this,"values",Tn)}};function s0(e,t,r){const n=Gh(e),a=n[t]();return n!==e&&!Ca(e)&&(a._next=a.next,a.next=()=>{const i=a._next();return i.value&&(i.value=r(i.value)),i}),a}const n4=Array.prototype;function Oi(e,t,r,n,a,i){const s=Gh(e),o=s!==e&&!Ca(e),l=s[t];if(l!==n4[t]){const h=l.apply(e,i);return o?Tn(h):h}let c=r;s!==e&&(o?c=function(h,p){return r.call(this,Tn(h),p,e)}:r.length>2&&(c=function(h,p){return r.call(this,h,p,e)}));const u=l.call(s,c,n);return o&&a?a(u):u}function p2(e,t,r,n){const a=Gh(e);let i=r;return a!==e&&(Ca(e)?r.length>3&&(i=function(s,o,l){return r.call(this,s,o,l,e)}):i=function(s,o,l){return r.call(this,s,Tn(o),l,e)}),a[t](i,...n)}function o0(e,t,r){const n=Ht(e);Nn(n,"iterate",Ic);const a=n[t](...r);return(a===-1||a===!1)&&Q1(r[0])?(r[0]=Ht(r[0]),n[t](...r)):a}function wu(e,t,r=[]){Ms(),z1();const n=Ht(e)[t].apply(e,r);return W1(),Ds(),n}const a4=U1("__proto__,__v_isRef,__isVue"),Y5=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(zi));function i4(e){zi(e)||(e=String(e));const t=Ht(this);return Nn(t,"has",e),t.hasOwnProperty(e)}class K5{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const a=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!a;if(r==="__v_isReadonly")return a;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(a?i?g4:Z5:i?Q5:J5).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const s=St(t);if(!a){let l;if(s&&(l=r4[r]))return l;if(r==="hasOwnProperty")return i4}const o=Reflect.get(t,r,Wr(t)?t:n);return(zi(r)?Y5.has(r):a4(r))||(a||Nn(t,"get",r),i)?o:Wr(o)?s&&H1(r)?o:o.value:pr(o)?a?tv(o):ga(o):o}}class X5 extends K5{constructor(t=!1){super(!1,t)}set(t,r,n,a){let i=t[r];if(!this._isShallow){const l=po(i);if(!Ca(n)&&!po(n)&&(i=Ht(i),n=Ht(n)),!St(t)&&Wr(i)&&!Wr(n))return l?!1:(i.value=n,!0)}const s=St(t)&&H1(r)?Number(r)<t.length:Xt(t,r),o=Reflect.set(t,r,n,Wr(t)?t:a);return t===Ht(a)&&(s?Ps(n,i)&&qi(t,"set",r,n):qi(t,"add",r,n)),o}deleteProperty(t,r){const n=Xt(t,r);t[r];const a=Reflect.deleteProperty(t,r);return a&&n&&qi(t,"delete",r,void 0),a}has(t,r){const n=Reflect.has(t,r);return(!zi(r)||!Y5.has(r))&&Nn(t,"has",r),n}ownKeys(t){return Nn(t,"iterate",St(t)?"length":uo),Reflect.ownKeys(t)}}class s4 extends K5{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const o4=new X5,l4=new s4,u4=new X5(!0);const n1=e=>e,Xd=e=>Reflect.getPrototypeOf(e);function c4(e,t,r){return function(...n){const a=this.__v_raw,i=Ht(a),s=wl(i),o=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,c=a[e](...n),u=r?n1:t?a1:Tn;return!t&&Nn(i,"iterate",l?r1:uo),{next(){const{value:h,done:p}=c.next();return p?{value:h,done:p}:{value:o?[u(h[0]),u(h[1])]:u(h),done:p}},[Symbol.iterator](){return this}}}}function Jd(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function d4(e,t){const r={get(a){const i=this.__v_raw,s=Ht(i),o=Ht(a);e||(Ps(a,o)&&Nn(s,"get",a),Nn(s,"get",o));const{has:l}=Xd(s),c=t?n1:e?a1:Tn;if(l.call(s,a))return c(i.get(a));if(l.call(s,o))return c(i.get(o));i!==s&&i.get(a)},get size(){const a=this.__v_raw;return!e&&Nn(Ht(a),"iterate",uo),Reflect.get(a,"size",a)},has(a){const i=this.__v_raw,s=Ht(i),o=Ht(a);return e||(Ps(a,o)&&Nn(s,"has",a),Nn(s,"has",o)),a===o?i.has(a):i.has(a)||i.has(o)},forEach(a,i){const s=this,o=s.__v_raw,l=Ht(o),c=t?n1:e?a1:Tn;return!e&&Nn(l,"iterate",uo),o.forEach((u,h)=>a.call(i,c(u),c(h),s))}};return hn(r,e?{add:Jd("add"),set:Jd("set"),delete:Jd("delete"),clear:Jd("clear")}:{add(a){!t&&!Ca(a)&&!po(a)&&(a=Ht(a));const i=Ht(this);return Xd(i).has.call(i,a)||(i.add(a),qi(i,"add",a,a)),this},set(a,i){!t&&!Ca(i)&&!po(i)&&(i=Ht(i));const s=Ht(this),{has:o,get:l}=Xd(s);let c=o.call(s,a);c||(a=Ht(a),c=o.call(s,a));const u=l.call(s,a);return s.set(a,i),c?Ps(i,u)&&qi(s,"set",a,i):qi(s,"add",a,i),this},delete(a){const i=Ht(this),{has:s,get:o}=Xd(i);let l=s.call(i,a);l||(a=Ht(a),l=s.call(i,a)),o&&o.call(i,a);const c=i.delete(a);return l&&qi(i,"delete",a,void 0),c},clear(){const a=Ht(this),i=a.size!==0,s=a.clear();return i&&qi(a,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(a=>{r[a]=c4(a,e,t)}),r}function X1(e,t){const r=d4(e,t);return(n,a,i)=>a==="__v_isReactive"?!e:a==="__v_isReadonly"?e:a==="__v_raw"?n:Reflect.get(Xt(r,a)&&a in n?r:n,a,i)}const h4={get:X1(!1,!1)},f4={get:X1(!1,!0)},p4={get:X1(!0,!1)};const J5=new WeakMap,Q5=new WeakMap,Z5=new WeakMap,g4=new WeakMap;function m4(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function v4(e){return e.__v_skip||!Object.isExtensible(e)?0:m4($3(e))}function ga(e){return po(e)?e:J1(e,!1,o4,h4,J5)}function ev(e){return J1(e,!1,u4,f4,Q5)}function tv(e){return J1(e,!0,l4,p4,Z5)}function J1(e,t,r,n,a){if(!pr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=a.get(e);if(i)return i;const s=v4(e);if(s===0)return e;const o=new Proxy(e,s===2?n:r);return a.set(e,o),o}function Sl(e){return po(e)?Sl(e.__v_raw):!!(e&&e.__v_isReactive)}function po(e){return!!(e&&e.__v_isReadonly)}function Ca(e){return!!(e&&e.__v_isShallow)}function Q1(e){return e?!!e.__v_raw:!1}function Ht(e){const t=e&&e.__v_raw;return t?Ht(t):e}function y4(e){return!Xt(e,"__v_skip")&&Object.isExtensible(e)&&D5(e,"__v_skip",!0),e}const Tn=e=>pr(e)?ga(e):e,a1=e=>pr(e)?tv(e):e;function Wr(e){return e?e.__v_isRef===!0:!1}function Ie(e){return rv(e,!1)}function b4(e){return rv(e,!0)}function rv(e,t){return Wr(e)?e:new _4(e,t)}class _4{constructor(t,r){this.dep=new K1,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:Ht(t),this._value=r?t:Tn(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||Ca(t)||po(t);t=n?t:Ht(t),Ps(t,r)&&(this._rawValue=t,this._value=n?t:Tn(t),this.dep.trigger())}}function pe(e){return Wr(e)?e.value:e}function w4(e){return At(e)?e():pe(e)}const S4={get:(e,t,r)=>t==="__v_raw"?e:pe(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const a=e[t];return Wr(a)&&!Wr(r)?(a.value=r,!0):Reflect.set(e,t,r,n)}};function nv(e){return Sl(e)?e:new Proxy(e,S4)}class x4{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return t4(Ht(this._object),this._key)}}class k4{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Fc(e,t,r){return Wr(e)?e:At(e)?new k4(e):pr(e)&&arguments.length>1?A4(e,t,r):Ie(e)}function A4(e,t,r){const n=e[t];return Wr(n)?n:new x4(e,t,r)}class P4{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new K1(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Dc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&fr!==this)return U5(this,!0),!0}get value(){const t=this.dep.track();return H5(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function C4(e,t,r=!1){let n,a;return At(e)?n=e:(n=e.get,a=e.set),new P4(n,a,r)}const Qd={},Ah=new WeakMap;let to;function L4(e,t=!1,r=to){if(r){let n=Ah.get(r);n||Ah.set(r,n=[]),n.push(e)}}function N4(e,t,r=ur){const{immediate:n,deep:a,once:i,scheduler:s,augmentJob:o,call:l}=r,c=P=>a?P:Ca(P)||a===!1||a===0?$i(P,1):$i(P);let u,h,p,d,g=!1,y=!1;if(Wr(e)?(h=()=>e.value,g=Ca(e)):Sl(e)?(h=()=>c(e),g=!0):St(e)?(y=!0,g=e.some(P=>Sl(P)||Ca(P)),h=()=>e.map(P=>{if(Wr(P))return P.value;if(Sl(P))return c(P);if(At(P))return l?l(P,2):P()})):At(e)?t?h=l?()=>l(e,2):e:h=()=>{if(p){Ms();try{p()}finally{Ds()}}const P=to;to=u;try{return l?l(e,3,[d]):e(d)}finally{to=P}}:h=mi,t&&a){const P=h,M=a===!0?1/0:a;h=()=>$i(P(),M)}const S=B5(),w=()=>{u.stop(),S&&S.active&&G1(S.effects,u)};if(i&&t){const P=t;t=(...M)=>{P(...M),w()}}let v=y?new Array(e.length).fill(Qd):Qd;const b=P=>{if(!(!(u.flags&1)||!u.dirty&&!P))if(t){const M=u.run();if(a||g||(y?M.some((F,U)=>Ps(F,v[U])):Ps(M,v))){p&&p();const F=to;to=u;try{const U=[M,v===Qd?void 0:y&&v[0]===Qd?[]:v,d];l?l(t,3,U):t(...U),v=M}finally{to=F}}}else u.run()};return o&&o(b),u=new q5(h),u.scheduler=s?()=>s(b,!1):b,d=P=>L4(P,!1,u),p=u.onStop=()=>{const P=Ah.get(u);if(P){if(l)l(P,4);else for(const M of P)M();Ah.delete(u)}},t?n?b(!0):v=u.run():s?s(b.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function $i(e,t=1/0,r){if(t<=0||!pr(e)||e.__v_skip||(r=r||new Set,r.has(e)))return e;if(r.add(e),t--,Wr(e))$i(e.value,t,r);else if(St(e))for(let n=0;n<e.length;n++)$i(e[n],t,r);else if(O5(e)||wl(e))e.forEach(n=>{$i(n,t,r)});else if(M5(e)){for(const n in e)$i(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&$i(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Jc(e,t,r,n){try{return n?e(...n):e()}catch(a){Hh(a,t,r)}}function Ya(e,t,r,n){if(At(e)){const a=Jc(e,t,r,n);return a&&E5(a)&&a.catch(i=>{Hh(i,t,r)}),a}if(St(e)){const a=[];for(let i=0;i<e.length;i++)a.push(Ya(e[i],t,r,n));return a}}function Hh(e,t,r,n=!0){const a=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||ur;if(t){let o=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const u=o.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,l,c)===!1)return}o=o.parent}if(i){Ms(),Jc(i,null,10,[e,l,c]),Ds();return}}T4(e,r,a,n,s)}function T4(e,t,r,n=!0,a=!1){if(a)throw e;console.error(e)}const qn=[];let ci=-1;const xl=[];let vs=null,cl=0;const av=Promise.resolve();let Ph=null;function Hn(e){const t=Ph||av;return e?t.then(this?e.bind(this):e):t}function O4(e){let t=ci+1,r=qn.length;for(;t<r;){const n=t+r>>>1,a=qn[n],i=jc(a);i<e||i===e&&a.flags&2?t=n+1:r=n}return t}function Z1(e){if(!(e.flags&1)){const t=jc(e),r=qn[qn.length-1];!r||!(e.flags&2)&&t>=jc(r)?qn.push(e):qn.splice(O4(t),0,e),e.flags|=1,iv()}}function iv(){Ph||(Ph=av.then(ov))}function E4(e){St(e)?xl.push(...e):vs&&e.id===-1?vs.splice(cl+1,0,e):e.flags&1||(xl.push(e),e.flags|=1),iv()}function g2(e,t,r=ci+1){for(;r<qn.length;r++){const n=qn[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;qn.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function sv(e){if(xl.length){const t=[...new Set(xl)].sort((r,n)=>jc(r)-jc(n));if(xl.length=0,vs){vs.push(...t);return}for(vs=t,cl=0;cl<vs.length;cl++){const r=vs[cl];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}vs=null,cl=0}}const jc=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ov(e){try{for(ci=0;ci<qn.length;ci++){const t=qn[ci];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Jc(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ci<qn.length;ci++){const t=qn[ci];t&&(t.flags&=-2)}ci=-1,qn.length=0,sv(),Ph=null,(qn.length||xl.length)&&ov()}}let dn=null,lv=null;function Ch(e){const t=dn;return dn=e,lv=e&&e.type.__scopeId||null,t}function dt(e,t=dn,r){if(!t||e._n)return e;const n=(...a)=>{n._d&&N2(-1);const i=Ch(t);let s;try{s=e(...a)}finally{Ch(i),n._d&&N2(1)}return s};return n._n=!0,n._c=!0,n._d=!0,n}function Jr(e,t){if(dn===null)return e;const r=Xh(dn),n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[i,s,o,l=ur]=t[a];i&&(At(i)&&(i={mounted:i,updated:i}),i.deep&&$i(s),n.push({dir:i,instance:r,value:s,oldValue:void 0,arg:o,modifiers:l}))}return e}function Ks(e,t,r,n){const a=e.dirs,i=t&&t.dirs;for(let s=0;s<a.length;s++){const o=a[s];i&&(o.oldValue=i[s].value);let l=o.dir[n];l&&(Ms(),Ya(l,r,8,[e.el,o,e,t]),Ds())}}const uv=Symbol("_vte"),cv=e=>e.__isTeleport,kc=e=>e&&(e.disabled||e.disabled===""),m2=e=>e&&(e.defer||e.defer===""),v2=e=>typeof SVGElement<"u"&&e instanceof SVGElement,y2=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,i1=(e,t)=>{const r=e&&e.to;return _r(r)?t?t(r):null:r},dv={name:"Teleport",__isTeleport:!0,process(e,t,r,n,a,i,s,o,l,c){const{mc:u,pc:h,pbc:p,o:{insert:d,querySelector:g,createText:y,createComment:S}}=c,w=kc(t.props);let{shapeFlag:v,children:b,dynamicChildren:P}=t;if(e==null){const M=t.el=y(""),F=t.anchor=y("");d(M,r,n),d(F,r,n);const U=(R,T)=>{v&16&&(a&&a.isCE&&(a.ce._teleportTarget=R),u(b,R,T,a,i,s,o,l))},O=()=>{const R=t.target=i1(t.props,g),T=hv(R,t,y,d);R&&(s!=="svg"&&v2(R)?s="svg":s!=="mathml"&&y2(R)&&(s="mathml"),w||(U(R,T),ph(t,!1)))};w&&(U(r,F),ph(t,!0)),m2(t.props)?jn(()=>{O(),t.el.__isMounted=!0},i):O()}else{if(m2(t.props)&&!e.el.__isMounted){jn(()=>{dv.process(e,t,r,n,a,i,s,o,l,c),delete e.el.__isMounted},i);return}t.el=e.el,t.targetStart=e.targetStart;const M=t.anchor=e.anchor,F=t.target=e.target,U=t.targetAnchor=e.targetAnchor,O=kc(e.props),R=O?r:F,T=O?M:U;if(s==="svg"||v2(F)?s="svg":(s==="mathml"||y2(F))&&(s="mathml"),P?(p(e.dynamicChildren,P,R,a,i,s,o),np(e,t,!0)):l||h(e,t,R,T,a,i,s,o,!1),w)O?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Zd(t,r,M,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const C=t.target=i1(t.props,g);C&&Zd(t,C,null,c,0)}else O&&Zd(t,F,U,c,1);ph(t,w)}},remove(e,t,r,{um:n,o:{remove:a}},i){const{shapeFlag:s,children:o,anchor:l,targetStart:c,targetAnchor:u,target:h,props:p}=e;if(h&&(a(c),a(u)),i&&a(l),s&16){const d=i||!kc(p);for(let g=0;g<o.length;g++){const y=o[g];n(y,t,r,d,!!y.dynamicChildren)}}},move:Zd,hydrate:R4};function Zd(e,t,r,{o:{insert:n},m:a},i=2){i===0&&n(e.targetAnchor,t,r);const{el:s,anchor:o,shapeFlag:l,children:c,props:u}=e,h=i===2;if(h&&n(s,t,r),(!h||kc(u))&&l&16)for(let p=0;p<c.length;p++)a(c[p],t,r,2);h&&n(o,t,r)}function R4(e,t,r,n,a,i,{o:{nextSibling:s,parentNode:o,querySelector:l,insert:c,createText:u}},h){const p=t.target=i1(t.props,l);if(p){const d=kc(t.props),g=p._lpa||p.firstChild;if(t.shapeFlag&16)if(d)t.anchor=h(s(e),t,o(e),r,n,a,i),t.targetStart=g,t.targetAnchor=g&&s(g);else{t.anchor=s(e);let y=g;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")t.targetStart=y;else if(y.data==="teleport anchor"){t.targetAnchor=y,p._lpa=t.targetAnchor&&s(t.targetAnchor);break}}y=s(y)}t.targetAnchor||hv(p,t,u,c),h(g&&s(g),t,p,r,n,a,i)}ph(t,d)}return t.anchor&&s(t.anchor)}const M4=dv;function ph(e,t){const r=e.ctx;if(r&&r.ut){let n,a;for(t?(n=e.el,a=e.anchor):(n=e.targetStart,a=e.targetAnchor);n&&n!==a;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function hv(e,t,r,n){const a=t.targetStart=r(""),i=t.targetAnchor=r("");return a[uv]=i,e&&(n(a,e),n(i,e)),i}const ys=Symbol("_leaveCb"),eh=Symbol("_enterCb");function D4(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return nr(()=>{e.isMounted=!0}),tp(()=>{e.isUnmounting=!0}),e}const Aa=[Function,Array],fv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Aa,onEnter:Aa,onAfterEnter:Aa,onEnterCancelled:Aa,onBeforeLeave:Aa,onLeave:Aa,onAfterLeave:Aa,onLeaveCancelled:Aa,onBeforeAppear:Aa,onAppear:Aa,onAfterAppear:Aa,onAppearCancelled:Aa},pv=e=>{const t=e.subTree;return t.component?pv(t.component):t},I4={name:"BaseTransition",props:fv,setup(e,{slots:t}){const r=Zc(),n=D4();return()=>{const a=t.default&&vv(t.default(),!0);if(!a||!a.length)return;const i=gv(a),s=Ht(e),{mode:o}=s;if(n.isLeaving)return l0(i);const l=b2(i);if(!l)return l0(i);let c=s1(l,s,n,r,h=>c=h);l.type!==$n&&Bc(l,c);let u=r.subTree&&b2(r.subTree);if(u&&u.type!==$n&&!io(l,u)&&pv(r).type!==$n){let h=s1(u,s,n,r);if(Bc(u,h),o==="out-in"&&l.type!==$n)return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete h.afterLeave,u=void 0},l0(i);o==="in-out"&&l.type!==$n?h.delayLeave=(p,d,g)=>{const y=mv(n,u);y[String(u.key)]=u,p[ys]=()=>{d(),p[ys]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function gv(e){let t=e[0];if(e.length>1){for(const r of e)if(r.type!==$n){t=r;break}}return t}const F4=I4;function mv(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function s1(e,t,r,n,a){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:p,onLeave:d,onAfterLeave:g,onLeaveCancelled:y,onBeforeAppear:S,onAppear:w,onAfterAppear:v,onAppearCancelled:b}=t,P=String(e.key),M=mv(r,e),F=(R,T)=>{R&&Ya(R,n,9,T)},U=(R,T)=>{const C=T[1];F(R,T),St(R)?R.every(E=>E.length<=1)&&C():R.length<=1&&C()},O={mode:s,persisted:o,beforeEnter(R){let T=l;if(!r.isMounted)if(i)T=S||l;else return;R[ys]&&R[ys](!0);const C=M[P];C&&io(e,C)&&C.el[ys]&&C.el[ys](),F(T,[R])},enter(R){let T=c,C=u,E=h;if(!r.isMounted)if(i)T=w||c,C=v||u,E=b||h;else return;let x=!1;const k=R[eh]=L=>{x||(x=!0,L?F(E,[R]):F(C,[R]),O.delayedLeave&&O.delayedLeave(),R[eh]=void 0)};T?U(T,[R,k]):k()},leave(R,T){const C=String(e.key);if(R[eh]&&R[eh](!0),r.isUnmounting)return T();F(p,[R]);let E=!1;const x=R[ys]=k=>{E||(E=!0,T(),k?F(y,[R]):F(g,[R]),R[ys]=void 0,M[C]===e&&delete M[C])};M[C]=e,d?U(d,[R,x]):x()},clone(R){const T=s1(R,t,r,n,a);return a&&a(T),T}};return O}function l0(e){if(zh(e))return e=Ns(e),e.children=null,e}function b2(e){if(!zh(e))return cv(e.type)&&e.children?gv(e.children):e;const{shapeFlag:t,children:r}=e;if(r){if(t&16)return r[0];if(t&32&&At(r.default))return r.default()}}function Bc(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Bc(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function vv(e,t=!1,r){let n=[],a=0;for(let i=0;i<e.length;i++){let s=e[i];const o=r==null?s.key:String(r)+String(s.key!=null?s.key:i);s.type===ct?(s.patchFlag&128&&a++,n=n.concat(vv(s.children,t,o))):(t||s.type!==$n)&&n.push(o!=null?Ns(s,{key:o}):s)}if(a>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function qr(e,t){return At(e)?hn({name:e.name},t,{setup:e}):e}function yv(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Lh(e,t,r,n,a=!1){if(St(e)){e.forEach((g,y)=>Lh(g,t&&(St(t)?t[y]:t),r,n,a));return}if(kl(n)&&!a){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Lh(e,t,r,n.component.subTree);return}const i=n.shapeFlag&4?Xh(n.component):n.el,s=a?null:i,{i:o,r:l}=e,c=t&&t.r,u=o.refs===ur?o.refs={}:o.refs,h=o.setupState,p=Ht(h),d=h===ur?()=>!1:g=>Xt(p,g);if(c!=null&&c!==l&&(_r(c)?(u[c]=null,d(c)&&(h[c]=null)):Wr(c)&&(c.value=null)),At(l))Jc(l,o,12,[s,u]);else{const g=_r(l),y=Wr(l);if(g||y){const S=()=>{if(e.f){const w=g?d(l)?h[l]:u[l]:l.value;a?St(w)&&G1(w,i):St(w)?w.includes(i)||w.push(i):g?(u[l]=[i],d(l)&&(h[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else g?(u[l]=s,d(l)&&(h[l]=s)):y&&(l.value=s,e.k&&(u[e.k]=s))};s?(S.id=-1,jn(S,r)):S()}}}Vh().requestIdleCallback;Vh().cancelIdleCallback;const kl=e=>!!e.type.__asyncLoader,zh=e=>e.type.__isKeepAlive;function j4(e,t){bv(e,"a",t)}function B4(e,t){bv(e,"da",t)}function bv(e,t,r=bn){const n=e.__wdc||(e.__wdc=()=>{let a=r;for(;a;){if(a.isDeactivated)return;a=a.parent}return e()});if(Wh(t,n,r),r){let a=r.parent;for(;a&&a.parent;)zh(a.parent.vnode)&&q4(n,t,r,a),a=a.parent}}function q4(e,t,r,n){const a=Wh(t,e,n,!0);bi(()=>{G1(n[t],a)},r)}function Wh(e,t,r=bn,n=!1){if(r){const a=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...s)=>{Ms();const o=ed(r),l=Ya(t,r,e,s);return o(),Ds(),l});return n?a.unshift(i):a.push(i),i}}const Wi=e=>(t,r=bn)=>{(!Uc||e==="sp")&&Wh(e,(...n)=>t(...n),r)},$4=Wi("bm"),nr=Wi("m"),_v=Wi("bu"),ep=Wi("u"),tp=Wi("bum"),bi=Wi("um"),U4=Wi("sp"),V4=Wi("rtg"),G4=Wi("rtc");function H4(e,t=bn){Wh("ec",e,t)}const wv="components";function xs(e,t){return xv(wv,e,!0,t)||e}const Sv=Symbol.for("v-ndc");function Qc(e){return _r(e)?xv(wv,e,!1)||e:e||Sv}function xv(e,t,r=!0,n=!1){const a=dn||bn;if(a){const i=a.type;{const o=N_(i,!1);if(o&&(o===t||o===La(t)||o===Uh(La(t))))return i}const s=_2(a[e]||i[e],t)||_2(a.appContext[e],t);return!s&&n?i:s}}function _2(e,t){return e&&(e[t]||e[La(t)]||e[Uh(La(t))])}function Jt(e,t,r,n){let a;const i=r,s=St(e);if(s||_r(e)){const o=s&&Sl(e);let l=!1;o&&(l=!Ca(e),e=Gh(e)),a=new Array(e.length);for(let c=0,u=e.length;c<u;c++)a[c]=t(l?Tn(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){a=new Array(e);for(let o=0;o<e;o++)a[o]=t(o+1,o,void 0,i)}else if(pr(e))if(e[Symbol.iterator])a=Array.from(e,(o,l)=>t(o,l,void 0,i));else{const o=Object.keys(e);a=new Array(o.length);for(let l=0,c=o.length;l<c;l++){const u=o[l];a[l]=t(e[u],u,l,i)}}else a=[];return a}function En(e,t){for(let r=0;r<t.length;r++){const n=t[r];if(St(n))for(let a=0;a<n.length;a++)e[n[a].name]=n[a].fn;else n&&(e[n.name]=n.key?(...a)=>{const i=n.fn(...a);return i&&(i.key=n.key),i}:n.fn)}return e}function ot(e,t,r={},n,a){if(dn.ce||dn.parent&&kl(dn.parent)&&dn.parent.ce)return t!=="default"&&(r.name=t),be(),pt(ct,null,[at("slot",r,n)],64);let i=e[t];i&&i._c&&(i._d=!1),be();const s=i&&kv(i(r)),o=r.key||s&&s.key,l=pt(ct,{key:(o&&!zi(o)?o:`_${t}`)+""},s||[],s&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function kv(e){return e.some(t=>$c(t)?!(t.type===$n||t.type===ct&&!kv(t.children)):!0)?e:null}const o1=e=>e?zv(e)?Xh(e):o1(e.parent):null,Ac=hn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>o1(e.parent),$root:e=>o1(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Cv(e),$forceUpdate:e=>e.f||(e.f=()=>{Z1(e.update)}),$nextTick:e=>e.n||(e.n=Hn.bind(e.proxy)),$watch:e=>f_.bind(e)}),u0=(e,t)=>e!==ur&&!e.__isScriptSetup&&Xt(e,t),z4={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:a,props:i,accessCache:s,type:o,appContext:l}=e;let c;if(t[0]!=="$"){const d=s[t];if(d!==void 0)switch(d){case 1:return n[t];case 2:return a[t];case 4:return r[t];case 3:return i[t]}else{if(u0(n,t))return s[t]=1,n[t];if(a!==ur&&Xt(a,t))return s[t]=2,a[t];if((c=e.propsOptions[0])&&Xt(c,t))return s[t]=3,i[t];if(r!==ur&&Xt(r,t))return s[t]=4,r[t];l1&&(s[t]=0)}}const u=Ac[t];let h,p;if(u)return t==="$attrs"&&Nn(e.attrs,"get",""),u(e);if((h=o.__cssModules)&&(h=h[t]))return h;if(r!==ur&&Xt(r,t))return s[t]=4,r[t];if(p=l.config.globalProperties,Xt(p,t))return p[t]},set({_:e},t,r){const{data:n,setupState:a,ctx:i}=e;return u0(a,t)?(a[t]=r,!0):n!==ur&&Xt(n,t)?(n[t]=r,!0):Xt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:a,propsOptions:i}},s){let o;return!!r[s]||e!==ur&&Xt(e,s)||u0(t,s)||(o=i[0])&&Xt(o,s)||Xt(n,s)||Xt(Ac,s)||Xt(a.config.globalProperties,s)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Xt(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function mo(){return Av().slots}function W4(){return Av().attrs}function Av(){const e=Zc();return e.setupContext||(e.setupContext=Yv(e))}function w2(e){return St(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let l1=!0;function Y4(e){const t=Cv(e),r=e.proxy,n=e.ctx;l1=!1,t.beforeCreate&&S2(t.beforeCreate,e,"bc");const{data:a,computed:i,methods:s,watch:o,provide:l,inject:c,created:u,beforeMount:h,mounted:p,beforeUpdate:d,updated:g,activated:y,deactivated:S,beforeDestroy:w,beforeUnmount:v,destroyed:b,unmounted:P,render:M,renderTracked:F,renderTriggered:U,errorCaptured:O,serverPrefetch:R,expose:T,inheritAttrs:C,components:E,directives:x,filters:k}=t;if(c&&K4(c,n,null),s)for(const q in s){const W=s[q];At(W)&&(n[q]=W.bind(r))}if(a){const q=a.call(r,r);pr(q)&&(e.data=ga(q))}if(l1=!0,i)for(const q in i){const W=i[q],Q=At(W)?W.bind(r,r):At(W.get)?W.get.bind(r,r):mi,ne=!At(W)&&At(W.set)?W.set.bind(r):mi,oe=Ue({get:Q,set:ne});Object.defineProperty(n,q,{enumerable:!0,configurable:!0,get:()=>oe.value,set:$=>oe.value=$})}if(o)for(const q in o)Pv(o[q],n,r,q);if(l){const q=At(l)?l.call(r):l;Reflect.ownKeys(q).forEach(W=>{Pc(W,q[W])})}u&&S2(u,e,"c");function D(q,W){St(W)?W.forEach(Q=>q(Q.bind(r))):W&&q(W.bind(r))}if(D($4,h),D(nr,p),D(_v,d),D(ep,g),D(j4,y),D(B4,S),D(H4,O),D(G4,F),D(V4,U),D(tp,v),D(bi,P),D(U4,R),St(T))if(T.length){const q=e.exposed||(e.exposed={});T.forEach(W=>{Object.defineProperty(q,W,{get:()=>r[W],set:Q=>r[W]=Q})})}else e.exposed||(e.exposed={});M&&e.render===mi&&(e.render=M),C!=null&&(e.inheritAttrs=C),E&&(e.components=E),x&&(e.directives=x),R&&yv(e)}function K4(e,t,r=mi){St(e)&&(e=u1(e));for(const n in e){const a=e[n];let i;pr(a)?"default"in a?i=ra(a.from||n,a.default,!0):i=ra(a.from||n):i=ra(a),Wr(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:s=>i.value=s}):t[n]=i}}function S2(e,t,r){Ya(St(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Pv(e,t,r,n){let a=n.includes(".")?qv(r,n):()=>r[n];if(_r(e)){const i=t[e];At(i)&&Zr(a,i)}else if(At(e))Zr(a,e.bind(r));else if(pr(e))if(St(e))e.forEach(i=>Pv(i,t,r,n));else{const i=At(e.handler)?e.handler.bind(r):t[e.handler];At(i)&&Zr(a,i,e)}}function Cv(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:a,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,o=i.get(t);let l;return o?l=o:!a.length&&!r&&!n?l=t:(l={},a.length&&a.forEach(c=>Nh(l,c,s,!0)),Nh(l,t,s)),pr(t)&&i.set(t,l),l}function Nh(e,t,r,n=!1){const{mixins:a,extends:i}=t;i&&Nh(e,i,r,!0),a&&a.forEach(s=>Nh(e,s,r,!0));for(const s in t)if(!(n&&s==="expose")){const o=X4[s]||r&&r[s];e[s]=o?o(e[s],t[s]):t[s]}return e}const X4={data:x2,props:k2,emits:k2,methods:bc,computed:bc,beforeCreate:In,created:In,beforeMount:In,mounted:In,beforeUpdate:In,updated:In,beforeDestroy:In,beforeUnmount:In,destroyed:In,unmounted:In,activated:In,deactivated:In,errorCaptured:In,serverPrefetch:In,components:bc,directives:bc,watch:Q4,provide:x2,inject:J4};function x2(e,t){return t?e?function(){return hn(At(e)?e.call(this,this):e,At(t)?t.call(this,this):t)}:t:e}function J4(e,t){return bc(u1(e),u1(t))}function u1(e){if(St(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function In(e,t){return e?[...new Set([].concat(e,t))]:t}function bc(e,t){return e?hn(Object.create(null),e,t):t}function k2(e,t){return e?St(e)&&St(t)?[...new Set([...e,...t])]:hn(Object.create(null),w2(e),w2(t??{})):t}function Q4(e,t){if(!e)return t;if(!t)return e;const r=hn(Object.create(null),e);for(const n in t)r[n]=In(e[n],t[n]);return r}function Lv(){return{app:null,config:{isNativeTag:B3,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Z4=0;function e_(e,t){return function(n,a=null){At(n)||(n=hn({},n)),a!=null&&!pr(a)&&(a=null);const i=Lv(),s=new WeakSet,o=[];let l=!1;const c=i.app={_uid:Z4++,_component:n,_props:a,_container:null,_context:i,_instance:null,version:O_,get config(){return i.config},set config(u){},use(u,...h){return s.has(u)||(u&&At(u.install)?(s.add(u),u.install(c,...h)):At(u)&&(s.add(u),u(c,...h))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,h){return h?(i.components[u]=h,c):i.components[u]},directive(u,h){return h?(i.directives[u]=h,c):i.directives[u]},mount(u,h,p){if(!l){const d=c._ceVNode||at(n,a);return d.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),e(d,u,p),l=!0,c._container=u,u.__vue_app__=c,Xh(d.component)}},onUnmount(u){o.push(u)},unmount(){l&&(Ya(o,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,h){return i.provides[u]=h,c},runWithContext(u){const h=Al;Al=c;try{return u()}finally{Al=h}}};return c}}let Al=null;function Pc(e,t){if(bn){let r=bn.provides;const n=bn.parent&&bn.parent.provides;n===r&&(r=bn.provides=Object.create(n)),r[e]=t}}function ra(e,t,r=!1){const n=bn||dn;if(n||Al){const a=Al?Al._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return r&&At(t)?t.call(n&&n.proxy):t}}const Nv={},Tv=()=>Object.create(Nv),Ov=e=>Object.getPrototypeOf(e)===Nv;function t_(e,t,r,n=!1){const a={},i=Tv();e.propsDefaults=Object.create(null),Ev(e,t,a,i);for(const s in e.propsOptions[0])s in a||(a[s]=void 0);r?e.props=n?a:ev(a):e.type.props?e.props=a:e.props=i,e.attrs=i}function r_(e,t,r,n){const{props:a,attrs:i,vnode:{patchFlag:s}}=e,o=Ht(a),[l]=e.propsOptions;let c=!1;if((n||s>0)&&!(s&16)){if(s&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let p=u[h];if(Yh(e.emitsOptions,p))continue;const d=t[p];if(l)if(Xt(i,p))d!==i[p]&&(i[p]=d,c=!0);else{const g=La(p);a[g]=c1(l,o,g,d,e,!1)}else d!==i[p]&&(i[p]=d,c=!0)}}}else{Ev(e,t,a,i)&&(c=!0);let u;for(const h in o)(!t||!Xt(t,h)&&((u=Rs(h))===h||!Xt(t,u)))&&(l?r&&(r[h]!==void 0||r[u]!==void 0)&&(a[h]=c1(l,o,h,void 0,e,!0)):delete a[h]);if(i!==o)for(const h in i)(!t||!Xt(t,h))&&(delete i[h],c=!0)}c&&qi(e.attrs,"set","")}function Ev(e,t,r,n){const[a,i]=e.propsOptions;let s=!1,o;if(t)for(let l in t){if(wc(l))continue;const c=t[l];let u;a&&Xt(a,u=La(l))?!i||!i.includes(u)?r[u]=c:(o||(o={}))[u]=c:Yh(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,s=!0)}if(i){const l=Ht(r),c=o||ur;for(let u=0;u<i.length;u++){const h=i[u];r[h]=c1(a,l,h,c[h],e,!Xt(c,h))}}return s}function c1(e,t,r,n,a,i){const s=e[r];if(s!=null){const o=Xt(s,"default");if(o&&n===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&At(l)){const{propsDefaults:c}=a;if(r in c)n=c[r];else{const u=ed(a);n=c[r]=l.call(null,t),u()}}else n=l;a.ce&&a.ce._setProp(r,n)}s[0]&&(i&&!o?n=!1:s[1]&&(n===""||n===Rs(r))&&(n=!0))}return n}const n_=new WeakMap;function Rv(e,t,r=!1){const n=r?n_:t.propsCache,a=n.get(e);if(a)return a;const i=e.props,s={},o=[];let l=!1;if(!At(e)){const u=h=>{l=!0;const[p,d]=Rv(h,t,!0);hn(s,p),d&&o.push(...d)};!r&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return pr(e)&&n.set(e,_l),_l;if(St(i))for(let u=0;u<i.length;u++){const h=La(i[u]);A2(h)&&(s[h]=ur)}else if(i)for(const u in i){const h=La(u);if(A2(h)){const p=i[u],d=s[h]=St(p)||At(p)?{type:p}:hn({},p),g=d.type;let y=!1,S=!0;if(St(g))for(let w=0;w<g.length;++w){const v=g[w],b=At(v)&&v.name;if(b==="Boolean"){y=!0;break}else b==="String"&&(S=!1)}else y=At(g)&&g.name==="Boolean";d[0]=y,d[1]=S,(y||Xt(d,"default"))&&o.push(h)}}const c=[s,o];return pr(e)&&n.set(e,c),c}function A2(e){return e[0]!=="$"&&!wc(e)}const Mv=e=>e[0]==="_"||e==="$stable",rp=e=>St(e)?e.map(di):[di(e)],a_=(e,t,r)=>{if(t._n)return t;const n=dt((...a)=>rp(t(...a)),r);return n._c=!1,n},Dv=(e,t,r)=>{const n=e._ctx;for(const a in e){if(Mv(a))continue;const i=e[a];if(At(i))t[a]=a_(a,i,n);else if(i!=null){const s=rp(i);t[a]=()=>s}}},Iv=(e,t)=>{const r=rp(t);e.slots.default=()=>r},Fv=(e,t,r)=>{for(const n in t)(r||n!=="_")&&(e[n]=t[n])},i_=(e,t,r)=>{const n=e.slots=Tv();if(e.vnode.shapeFlag&32){const a=t._;a?(Fv(n,t,r),r&&D5(n,"_",a,!0)):Dv(t,n)}else t&&Iv(e,t)},s_=(e,t,r)=>{const{vnode:n,slots:a}=e;let i=!0,s=ur;if(n.shapeFlag&32){const o=t._;o?r&&o===1?i=!1:Fv(a,t,r):(i=!t.$stable,Dv(t,a)),s=t}else t&&(Iv(e,t),s={default:1});if(i)for(const o in a)!Mv(o)&&s[o]==null&&delete a[o]},jn=__;function o_(e){return l_(e)}function l_(e,t){const r=Vh();r.__VUE__=!0;const{insert:n,remove:a,patchProp:i,createElement:s,createText:o,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:p,setScopeId:d=mi,insertStaticContent:g}=e,y=(X,z,se,B=null,H=null,de=null,ge=void 0,me=null,ve=!!z.dynamicChildren)=>{if(X===z)return;X&&!io(X,z)&&(B=_(X),$(X,H,de,!0),X=null),z.patchFlag===-2&&(ve=!1,z.dynamicChildren=null);const{type:Se,ref:Ce,shapeFlag:ue}=z;switch(Se){case Kh:S(X,z,se,B);break;case $n:w(X,z,se,B);break;case gh:X==null&&v(z,se,B,ge);break;case ct:E(X,z,se,B,H,de,ge,me,ve);break;default:ue&1?M(X,z,se,B,H,de,ge,me,ve):ue&6?x(X,z,se,B,H,de,ge,me,ve):(ue&64||ue&128)&&Se.process(X,z,se,B,H,de,ge,me,ve,fe)}Ce!=null&&H&&Lh(Ce,X&&X.ref,de,z||X,!z)},S=(X,z,se,B)=>{if(X==null)n(z.el=o(z.children),se,B);else{const H=z.el=X.el;z.children!==X.children&&c(H,z.children)}},w=(X,z,se,B)=>{X==null?n(z.el=l(z.children||""),se,B):z.el=X.el},v=(X,z,se,B)=>{[X.el,X.anchor]=g(X.children,z,se,B,X.el,X.anchor)},b=({el:X,anchor:z},se,B)=>{let H;for(;X&&X!==z;)H=p(X),n(X,se,B),X=H;n(z,se,B)},P=({el:X,anchor:z})=>{let se;for(;X&&X!==z;)se=p(X),a(X),X=se;a(z)},M=(X,z,se,B,H,de,ge,me,ve)=>{z.type==="svg"?ge="svg":z.type==="math"&&(ge="mathml"),X==null?F(z,se,B,H,de,ge,me,ve):R(X,z,H,de,ge,me,ve)},F=(X,z,se,B,H,de,ge,me)=>{let ve,Se;const{props:Ce,shapeFlag:ue,transition:ke,dirs:Me}=X;if(ve=X.el=s(X.type,de,Ce&&Ce.is,Ce),ue&8?u(ve,X.children):ue&16&&O(X.children,ve,null,B,H,c0(X,de),ge,me),Me&&Ks(X,null,B,"created"),U(ve,X,X.scopeId,ge,B),Ce){for(const Ze in Ce)Ze!=="value"&&!wc(Ze)&&i(ve,Ze,null,Ce[Ze],de,B);"value"in Ce&&i(ve,"value",null,Ce.value,de),(Se=Ce.onVnodeBeforeMount)&&oi(Se,B,X)}Me&&Ks(X,null,B,"beforeMount");const Ve=u_(H,ke);Ve&&ke.beforeEnter(ve),n(ve,z,se),((Se=Ce&&Ce.onVnodeMounted)||Ve||Me)&&jn(()=>{Se&&oi(Se,B,X),Ve&&ke.enter(ve),Me&&Ks(X,null,B,"mounted")},H)},U=(X,z,se,B,H)=>{if(se&&d(X,se),B)for(let de=0;de<B.length;de++)d(X,B[de]);if(H){let de=H.subTree;if(z===de||Uv(de.type)&&(de.ssContent===z||de.ssFallback===z)){const ge=H.vnode;U(X,ge,ge.scopeId,ge.slotScopeIds,H.parent)}}},O=(X,z,se,B,H,de,ge,me,ve=0)=>{for(let Se=ve;Se<X.length;Se++){const Ce=X[Se]=me?bs(X[Se]):di(X[Se]);y(null,Ce,z,se,B,H,de,ge,me)}},R=(X,z,se,B,H,de,ge)=>{const me=z.el=X.el;let{patchFlag:ve,dynamicChildren:Se,dirs:Ce}=z;ve|=X.patchFlag&16;const ue=X.props||ur,ke=z.props||ur;let Me;if(se&&Xs(se,!1),(Me=ke.onVnodeBeforeUpdate)&&oi(Me,se,z,X),Ce&&Ks(z,X,se,"beforeUpdate"),se&&Xs(se,!0),(ue.innerHTML&&ke.innerHTML==null||ue.textContent&&ke.textContent==null)&&u(me,""),Se?T(X.dynamicChildren,Se,me,se,B,c0(z,H),de):ge||W(X,z,me,null,se,B,c0(z,H),de,!1),ve>0){if(ve&16)C(me,ue,ke,se,H);else if(ve&2&&ue.class!==ke.class&&i(me,"class",null,ke.class,H),ve&4&&i(me,"style",ue.style,ke.style,H),ve&8){const Ve=z.dynamicProps;for(let Ze=0;Ze<Ve.length;Ze++){const Fe=Ve[Ze],Qe=ue[Fe],nt=ke[Fe];(nt!==Qe||Fe==="value")&&i(me,Fe,Qe,nt,H,se)}}ve&1&&X.children!==z.children&&u(me,z.children)}else!ge&&Se==null&&C(me,ue,ke,se,H);((Me=ke.onVnodeUpdated)||Ce)&&jn(()=>{Me&&oi(Me,se,z,X),Ce&&Ks(z,X,se,"updated")},B)},T=(X,z,se,B,H,de,ge)=>{for(let me=0;me<z.length;me++){const ve=X[me],Se=z[me],Ce=ve.el&&(ve.type===ct||!io(ve,Se)||ve.shapeFlag&70)?h(ve.el):se;y(ve,Se,Ce,null,B,H,de,ge,!0)}},C=(X,z,se,B,H)=>{if(z!==se){if(z!==ur)for(const de in z)!wc(de)&&!(de in se)&&i(X,de,z[de],null,H,B);for(const de in se){if(wc(de))continue;const ge=se[de],me=z[de];ge!==me&&de!=="value"&&i(X,de,me,ge,H,B)}"value"in se&&i(X,"value",z.value,se.value,H)}},E=(X,z,se,B,H,de,ge,me,ve)=>{const Se=z.el=X?X.el:o(""),Ce=z.anchor=X?X.anchor:o("");let{patchFlag:ue,dynamicChildren:ke,slotScopeIds:Me}=z;Me&&(me=me?me.concat(Me):Me),X==null?(n(Se,se,B),n(Ce,se,B),O(z.children||[],se,Ce,H,de,ge,me,ve)):ue>0&&ue&64&&ke&&X.dynamicChildren?(T(X.dynamicChildren,ke,se,H,de,ge,me),(z.key!=null||H&&z===H.subTree)&&np(X,z,!0)):W(X,z,se,Ce,H,de,ge,me,ve)},x=(X,z,se,B,H,de,ge,me,ve)=>{z.slotScopeIds=me,X==null?z.shapeFlag&512?H.ctx.activate(z,se,B,ge,ve):k(z,se,B,H,de,ge,ve):L(X,z,ve)},k=(X,z,se,B,H,de,ge)=>{const me=X.component=A_(X,B,H);if(zh(X)&&(me.ctx.renderer=fe),P_(me,!1,ge),me.asyncDep){if(H&&H.registerDep(me,D,ge),!X.el){const ve=me.subTree=at($n);w(null,ve,z,se)}}else D(me,X,z,se,H,de,ge)},L=(X,z,se)=>{const B=z.component=X.component;if(y_(X,z,se))if(B.asyncDep&&!B.asyncResolved){q(B,z,se);return}else B.next=z,B.update();else z.el=X.el,B.vnode=z},D=(X,z,se,B,H,de,ge)=>{const me=()=>{if(X.isMounted){let{next:ue,bu:ke,u:Me,parent:Ve,vnode:Ze}=X;{const Ct=jv(X);if(Ct){ue&&(ue.el=Ze.el,q(X,ue,ge)),Ct.asyncDep.then(()=>{X.isUnmounted||me()});return}}let Fe=ue,Qe;Xs(X,!1),ue?(ue.el=Ze.el,q(X,ue,ge)):ue=Ze,ke&&fh(ke),(Qe=ue.props&&ue.props.onVnodeBeforeUpdate)&&oi(Qe,Ve,ue,Ze),Xs(X,!0);const nt=C2(X),Ke=X.subTree;X.subTree=nt,y(Ke,nt,h(Ke.el),_(Ke),X,H,de),ue.el=nt.el,Fe===null&&b_(X,nt.el),Me&&jn(Me,H),(Qe=ue.props&&ue.props.onVnodeUpdated)&&jn(()=>oi(Qe,Ve,ue,Ze),H)}else{let ue;const{el:ke,props:Me}=z,{bm:Ve,m:Ze,parent:Fe,root:Qe,type:nt}=X,Ke=kl(z);Xs(X,!1),Ve&&fh(Ve),!Ke&&(ue=Me&&Me.onVnodeBeforeMount)&&oi(ue,Fe,z),Xs(X,!0);{Qe.ce&&Qe.ce._injectChildStyle(nt);const Ct=X.subTree=C2(X);y(null,Ct,se,B,X,H,de),z.el=Ct.el}if(Ze&&jn(Ze,H),!Ke&&(ue=Me&&Me.onVnodeMounted)){const Ct=z;jn(()=>oi(ue,Fe,Ct),H)}(z.shapeFlag&256||Fe&&kl(Fe.vnode)&&Fe.vnode.shapeFlag&256)&&X.a&&jn(X.a,H),X.isMounted=!0,z=se=B=null}};X.scope.on();const ve=X.effect=new q5(me);X.scope.off();const Se=X.update=ve.run.bind(ve),Ce=X.job=ve.runIfDirty.bind(ve);Ce.i=X,Ce.id=X.uid,ve.scheduler=()=>Z1(Ce),Xs(X,!0),Se()},q=(X,z,se)=>{z.component=X;const B=X.vnode.props;X.vnode=z,X.next=null,r_(X,z.props,B,se),s_(X,z.children,se),Ms(),g2(X),Ds()},W=(X,z,se,B,H,de,ge,me,ve=!1)=>{const Se=X&&X.children,Ce=X?X.shapeFlag:0,ue=z.children,{patchFlag:ke,shapeFlag:Me}=z;if(ke>0){if(ke&128){ne(Se,ue,se,B,H,de,ge,me,ve);return}else if(ke&256){Q(Se,ue,se,B,H,de,ge,me,ve);return}}Me&8?(Ce&16&&re(Se,H,de),ue!==Se&&u(se,ue)):Ce&16?Me&16?ne(Se,ue,se,B,H,de,ge,me,ve):re(Se,H,de,!0):(Ce&8&&u(se,""),Me&16&&O(ue,se,B,H,de,ge,me,ve))},Q=(X,z,se,B,H,de,ge,me,ve)=>{X=X||_l,z=z||_l;const Se=X.length,Ce=z.length,ue=Math.min(Se,Ce);let ke;for(ke=0;ke<ue;ke++){const Me=z[ke]=ve?bs(z[ke]):di(z[ke]);y(X[ke],Me,se,null,H,de,ge,me,ve)}Se>Ce?re(X,H,de,!0,!1,ue):O(z,se,B,H,de,ge,me,ve,ue)},ne=(X,z,se,B,H,de,ge,me,ve)=>{let Se=0;const Ce=z.length;let ue=X.length-1,ke=Ce-1;for(;Se<=ue&&Se<=ke;){const Me=X[Se],Ve=z[Se]=ve?bs(z[Se]):di(z[Se]);if(io(Me,Ve))y(Me,Ve,se,null,H,de,ge,me,ve);else break;Se++}for(;Se<=ue&&Se<=ke;){const Me=X[ue],Ve=z[ke]=ve?bs(z[ke]):di(z[ke]);if(io(Me,Ve))y(Me,Ve,se,null,H,de,ge,me,ve);else break;ue--,ke--}if(Se>ue){if(Se<=ke){const Me=ke+1,Ve=Me<Ce?z[Me].el:B;for(;Se<=ke;)y(null,z[Se]=ve?bs(z[Se]):di(z[Se]),se,Ve,H,de,ge,me,ve),Se++}}else if(Se>ke)for(;Se<=ue;)$(X[Se],H,de,!0),Se++;else{const Me=Se,Ve=Se,Ze=new Map;for(Se=Ve;Se<=ke;Se++){const _t=z[Se]=ve?bs(z[Se]):di(z[Se]);_t.key!=null&&Ze.set(_t.key,Se)}let Fe,Qe=0;const nt=ke-Ve+1;let Ke=!1,Ct=0;const ft=new Array(nt);for(Se=0;Se<nt;Se++)ft[Se]=0;for(Se=Me;Se<=ue;Se++){const _t=X[Se];if(Qe>=nt){$(_t,H,de,!0);continue}let Et;if(_t.key!=null)Et=Ze.get(_t.key);else for(Fe=Ve;Fe<=ke;Fe++)if(ft[Fe-Ve]===0&&io(_t,z[Fe])){Et=Fe;break}Et===void 0?$(_t,H,de,!0):(ft[Et-Ve]=Se+1,Et>=Ct?Ct=Et:Ke=!0,y(_t,z[Et],se,null,H,de,ge,me,ve),Qe++)}const Yt=Ke?c_(ft):_l;for(Fe=Yt.length-1,Se=nt-1;Se>=0;Se--){const _t=Ve+Se,Et=z[_t],mn=_t+1<Ce?z[_t+1].el:B;ft[Se]===0?y(null,Et,se,mn,H,de,ge,me,ve):Ke&&(Fe<0||Se!==Yt[Fe]?oe(Et,se,mn,2):Fe--)}}},oe=(X,z,se,B,H=null)=>{const{el:de,type:ge,transition:me,children:ve,shapeFlag:Se}=X;if(Se&6){oe(X.component.subTree,z,se,B);return}if(Se&128){X.suspense.move(z,se,B);return}if(Se&64){ge.move(X,z,se,fe);return}if(ge===ct){n(de,z,se);for(let ue=0;ue<ve.length;ue++)oe(ve[ue],z,se,B);n(X.anchor,z,se);return}if(ge===gh){b(X,z,se);return}if(B!==2&&Se&1&&me)if(B===0)me.beforeEnter(de),n(de,z,se),jn(()=>me.enter(de),H);else{const{leave:ue,delayLeave:ke,afterLeave:Me}=me,Ve=()=>n(de,z,se),Ze=()=>{ue(de,()=>{Ve(),Me&&Me()})};ke?ke(de,Ve,Ze):Ze()}else n(de,z,se)},$=(X,z,se,B=!1,H=!1)=>{const{type:de,props:ge,ref:me,children:ve,dynamicChildren:Se,shapeFlag:Ce,patchFlag:ue,dirs:ke,cacheIndex:Me}=X;if(ue===-2&&(H=!1),me!=null&&Lh(me,null,se,X,!0),Me!=null&&(z.renderCache[Me]=void 0),Ce&256){z.ctx.deactivate(X);return}const Ve=Ce&1&&ke,Ze=!kl(X);let Fe;if(Ze&&(Fe=ge&&ge.onVnodeBeforeUnmount)&&oi(Fe,z,X),Ce&6)J(X.component,se,B);else{if(Ce&128){X.suspense.unmount(se,B);return}Ve&&Ks(X,null,z,"beforeUnmount"),Ce&64?X.type.remove(X,z,se,fe,B):Se&&!Se.hasOnce&&(de!==ct||ue>0&&ue&64)?re(Se,z,se,!1,!0):(de===ct&&ue&384||!H&&Ce&16)&&re(ve,z,se),B&&I(X)}(Ze&&(Fe=ge&&ge.onVnodeUnmounted)||Ve)&&jn(()=>{Fe&&oi(Fe,z,X),Ve&&Ks(X,null,z,"unmounted")},se)},I=X=>{const{type:z,el:se,anchor:B,transition:H}=X;if(z===ct){G(se,B);return}if(z===gh){P(X);return}const de=()=>{a(se),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(X.shapeFlag&1&&H&&!H.persisted){const{leave:ge,delayLeave:me}=H,ve=()=>ge(se,de);me?me(X.el,de,ve):ve()}else de()},G=(X,z)=>{let se;for(;X!==z;)se=p(X),a(X),X=se;a(z)},J=(X,z,se)=>{const{bum:B,scope:H,job:de,subTree:ge,um:me,m:ve,a:Se}=X;P2(ve),P2(Se),B&&fh(B),H.stop(),de&&(de.flags|=8,$(ge,X,z,se)),me&&jn(me,z),jn(()=>{X.isUnmounted=!0},z),z&&z.pendingBranch&&!z.isUnmounted&&X.asyncDep&&!X.asyncResolved&&X.suspenseId===z.pendingId&&(z.deps--,z.deps===0&&z.resolve())},re=(X,z,se,B=!1,H=!1,de=0)=>{for(let ge=de;ge<X.length;ge++)$(X[ge],z,se,B,H)},_=X=>{if(X.shapeFlag&6)return _(X.component.subTree);if(X.shapeFlag&128)return X.suspense.next();const z=p(X.anchor||X.el),se=z&&z[uv];return se?p(se):z};let V=!1;const Z=(X,z,se)=>{X==null?z._vnode&&$(z._vnode,null,null,!0):y(z._vnode||null,X,z,null,null,null,se),z._vnode=X,V||(V=!0,g2(),sv(),V=!1)},fe={p:y,um:$,m:oe,r:I,mt:k,mc:O,pc:W,pbc:T,n:_,o:e};return{render:Z,hydrate:void 0,createApp:e_(Z)}}function c0({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Xs({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function u_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function np(e,t,r=!1){const n=e.children,a=t.children;if(St(n)&&St(a))for(let i=0;i<n.length;i++){const s=n[i];let o=a[i];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=a[i]=bs(a[i]),o.el=s.el),!r&&o.patchFlag!==-2&&np(s,o)),o.type===Kh&&(o.el=s.el)}}function c_(e){const t=e.slice(),r=[0];let n,a,i,s,o;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(a=r[r.length-1],e[a]<c){t[n]=a,r.push(n);continue}for(i=0,s=r.length-1;i<s;)o=i+s>>1,e[r[o]]<c?i=o+1:s=o;c<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,s=r[i-1];i-- >0;)r[i]=s,s=t[s];return r}function jv(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:jv(t)}function P2(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const d_=Symbol.for("v-scx"),h_=()=>ra(d_);function Zr(e,t,r){return Bv(e,t,r)}function Bv(e,t,r=ur){const{immediate:n,deep:a,flush:i,once:s}=r,o=hn({},r),l=t&&n||!t&&i!=="post";let c;if(Uc){if(i==="sync"){const d=h_();c=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=mi,d.resume=mi,d.pause=mi,d}}const u=bn;o.call=(d,g,y)=>Ya(d,u,g,y);let h=!1;i==="post"?o.scheduler=d=>{jn(d,u&&u.suspense)}:i!=="sync"&&(h=!0,o.scheduler=(d,g)=>{g?d():Z1(d)}),o.augmentJob=d=>{t&&(d.flags|=4),h&&(d.flags|=2,u&&(d.id=u.uid,d.i=u))};const p=N4(e,t,o);return Uc&&(c?c.push(p):l&&p()),p}function f_(e,t,r){const n=this.proxy,a=_r(e)?e.includes(".")?qv(n,e):()=>n[e]:e.bind(n,n);let i;At(t)?i=t:(i=t.handler,r=t);const s=ed(this),o=Bv(a,i.bind(n),r);return s(),o}function qv(e,t){const r=t.split(".");return()=>{let n=e;for(let a=0;a<r.length&&n;a++)n=n[r[a]];return n}}const p_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${La(t)}Modifiers`]||e[`${Rs(t)}Modifiers`];function g_(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||ur;let a=r;const i=t.startsWith("update:"),s=i&&p_(n,t.slice(7));s&&(s.trim&&(a=r.map(u=>_r(u)?u.trim():u)),s.number&&(a=r.map(e1)));let o,l=n[o=n0(t)]||n[o=n0(La(t))];!l&&i&&(l=n[o=n0(Rs(t))]),l&&Ya(l,e,6,a);const c=n[o+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,Ya(c,e,6,a)}}function $v(e,t,r=!1){const n=t.emitsCache,a=n.get(e);if(a!==void 0)return a;const i=e.emits;let s={},o=!1;if(!At(e)){const l=c=>{const u=$v(c,t,!0);u&&(o=!0,hn(s,u))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!o?(pr(e)&&n.set(e,null),null):(St(i)?i.forEach(l=>s[l]=null):hn(s,i),pr(e)&&n.set(e,s),s)}function Yh(e,t){return!e||!Bh(t)?!1:(t=t.slice(2).replace(/Once$/,""),Xt(e,t[0].toLowerCase()+t.slice(1))||Xt(e,Rs(t))||Xt(e,t))}function C2(e){const{type:t,vnode:r,proxy:n,withProxy:a,propsOptions:[i],slots:s,attrs:o,emit:l,render:c,renderCache:u,props:h,data:p,setupState:d,ctx:g,inheritAttrs:y}=e,S=Ch(e);let w,v;try{if(r.shapeFlag&4){const P=a||n,M=P;w=di(c.call(M,P,u,h,d,p,g)),v=o}else{const P=t;w=di(P.length>1?P(h,{attrs:o,slots:s,emit:l}):P(h,null)),v=t.props?o:m_(o)}}catch(P){Cc.length=0,Hh(P,e,1),w=at($n)}let b=w;if(v&&y!==!1){const P=Object.keys(v),{shapeFlag:M}=b;P.length&&M&7&&(i&&P.some(V1)&&(v=v_(v,i)),b=Ns(b,v,!1,!0))}return r.dirs&&(b=Ns(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(r.dirs):r.dirs),r.transition&&Bc(b,r.transition),w=b,Ch(S),w}const m_=e=>{let t;for(const r in e)(r==="class"||r==="style"||Bh(r))&&((t||(t={}))[r]=e[r]);return t},v_=(e,t)=>{const r={};for(const n in e)(!V1(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function y_(e,t,r){const{props:n,children:a,component:i}=e,{props:s,children:o,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?L2(n,s,c):!!s;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const p=u[h];if(s[p]!==n[p]&&!Yh(c,p))return!0}}}else return(a||o)&&(!o||!o.$stable)?!0:n===s?!1:n?s?L2(n,s,c):!0:!!s;return!1}function L2(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let a=0;a<n.length;a++){const i=n[a];if(t[i]!==e[i]&&!Yh(r,i))return!0}return!1}function b_({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const Uv=e=>e.__isSuspense;function __(e,t){t&&t.pendingBranch?St(e)?t.effects.push(...e):t.effects.push(e):E4(e)}const ct=Symbol.for("v-fgt"),Kh=Symbol.for("v-txt"),$n=Symbol.for("v-cmt"),gh=Symbol.for("v-stc"),Cc=[];let ha=null;function be(e=!1){Cc.push(ha=e?null:[])}function w_(){Cc.pop(),ha=Cc[Cc.length-1]||null}let qc=1;function N2(e,t=!1){qc+=e,e<0&&ha&&t&&(ha.hasOnce=!0)}function Vv(e){return e.dynamicChildren=qc>0?ha||_l:null,w_(),qc>0&&ha&&ha.push(e),e}function Oe(e,t,r,n,a,i){return Vv(Ee(e,t,r,n,a,i,!0))}function pt(e,t,r,n,a){return Vv(at(e,t,r,n,a,!0))}function $c(e){return e?e.__v_isVNode===!0:!1}function io(e,t){return e.type===t.type&&e.key===t.key}const Gv=({key:e})=>e??null,mh=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?_r(e)||Wr(e)||At(e)?{i:dn,r:e,k:t,f:!!r}:e:null);function Ee(e,t=null,r=null,n=0,a=null,i=e===ct?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Gv(t),ref:t&&mh(t),scopeId:lv,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:dn};return o?(ap(l,r),i&128&&e.normalize(l)):r&&(l.shapeFlag|=_r(r)?8:16),qc>0&&!s&&ha&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ha.push(l),l}const at=S_;function S_(e,t=null,r=null,n=0,a=null,i=!1){if((!e||e===Sv)&&(e=$n),$c(e)){const o=Ns(e,t,!0);return r&&ap(o,r),qc>0&&!i&&ha&&(o.shapeFlag&6?ha[ha.indexOf(e)]=o:ha.push(o)),o.patchFlag=-2,o}if(T_(e)&&(e=e.__vccOpts),t){t=Vn(t);let{class:o,style:l}=t;o&&!_r(o)&&(t.class=xt(o)),pr(l)&&(Q1(l)&&!St(l)&&(l=hn({},l)),t.style=_n(l))}const s=_r(e)?1:Uv(e)?128:cv(e)?64:pr(e)?4:At(e)?2:0;return Ee(e,t,r,n,a,s,i,!0)}function Vn(e){return e?Q1(e)||Ov(e)?hn({},e):e:null}function Ns(e,t,r=!1,n=!1){const{props:a,ref:i,patchFlag:s,children:o,transition:l}=e,c=t?Qr(a||{},t):a,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Gv(c),ref:t&&t.ref?r&&i?St(i)?i.concat(mh(t)):[i,mh(t)]:mh(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ct?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ns(e.ssContent),ssFallback:e.ssFallback&&Ns(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Bc(u,l.clone(u)),u}function ir(e=" ",t=0){return at(Kh,null,e,t)}function Hv(e,t){const r=at(gh,null,e);return r.staticCount=t,r}function He(e="",t=!1){return t?(be(),pt($n,null,e)):at($n,null,e)}function di(e){return e==null||typeof e=="boolean"?at($n):St(e)?at(ct,null,e.slice()):$c(e)?bs(e):at(Kh,null,String(e))}function bs(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ns(e)}function ap(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(St(t))r=16;else if(typeof t=="object")if(n&65){const a=t.default;a&&(a._c&&(a._d=!1),ap(e,a()),a._c&&(a._d=!0));return}else{r=32;const a=t._;!a&&!Ov(t)?t._ctx=dn:a===3&&dn&&(dn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else At(t)?(t={default:t,_ctx:dn},r=32):(t=String(t),n&64?(r=16,t=[ir(t)]):r=8);e.children=t,e.shapeFlag|=r}function Qr(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const a in n)if(a==="class")t.class!==n.class&&(t.class=xt([t.class,n.class]));else if(a==="style")t.style=_n([t.style,n.style]);else if(Bh(a)){const i=t[a],s=n[a];s&&i!==s&&!(St(i)&&i.includes(s))&&(t[a]=i?[].concat(i,s):s)}else a!==""&&(t[a]=n[a])}return t}function oi(e,t,r,n=null){Ya(e,t,7,[r,n])}const x_=Lv();let k_=0;function A_(e,t,r){const n=e.type,a=(t?t.appContext:e.appContext)||x_,i={uid:k_++,vnode:e,type:n,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new J3(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Rv(n,a),emitsOptions:$v(n,a),emit:null,emitted:null,propsDefaults:ur,inheritAttrs:n.inheritAttrs,ctx:ur,data:ur,props:ur,attrs:ur,slots:ur,refs:ur,setupState:ur,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=g_.bind(null,i),e.ce&&e.ce(i),i}let bn=null;const Zc=()=>bn||dn;let Th,d1;{const e=Vh(),t=(r,n)=>{let a;return(a=e[r])||(a=e[r]=[]),a.push(n),i=>{a.length>1?a.forEach(s=>s(i)):a[0](i)}};Th=t("__VUE_INSTANCE_SETTERS__",r=>bn=r),d1=t("__VUE_SSR_SETTERS__",r=>Uc=r)}const ed=e=>{const t=bn;return Th(e),e.scope.on(),()=>{e.scope.off(),Th(t)}},T2=()=>{bn&&bn.scope.off(),Th(null)};function zv(e){return e.vnode.shapeFlag&4}let Uc=!1;function P_(e,t=!1,r=!1){t&&d1(t);const{props:n,children:a}=e.vnode,i=zv(e);t_(e,n,i,t),i_(e,a,r);const s=i?C_(e,t):void 0;return t&&d1(!1),s}function C_(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,z4);const{setup:n}=r;if(n){Ms();const a=e.setupContext=n.length>1?Yv(e):null,i=ed(e),s=Jc(n,e,0,[e.props,a]),o=E5(s);if(Ds(),i(),(o||e.sp)&&!kl(e)&&yv(e),o){if(s.then(T2,T2),t)return s.then(l=>{O2(e,l)}).catch(l=>{Hh(l,e,0)});e.asyncDep=s}else O2(e,s)}else Wv(e)}function O2(e,t,r){At(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:pr(t)&&(e.setupState=nv(t)),Wv(e)}function Wv(e,t,r){const n=e.type;e.render||(e.render=n.render||mi);{const a=ed(e);Ms();try{Y4(e)}finally{Ds(),a()}}}const L_={get(e,t){return Nn(e,"get",""),e[t]}};function Yv(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,L_),slots:e.slots,emit:e.emit,expose:t}}function Xh(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(nv(y4(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Ac)return Ac[r](e)},has(t,r){return r in t||r in Ac}})):e.proxy}function N_(e,t=!0){return At(e)?e.displayName||e.name:e.name||t&&e.__name}function T_(e){return At(e)&&"__vccOpts"in e}const Ue=(e,t)=>C4(e,t,Uc);function Vi(e,t,r){const n=arguments.length;return n===2?pr(t)&&!St(t)?$c(t)?at(e,null,[t]):at(e,t):at(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&$c(r)&&(r=[r]),at(e,t,r))}const O_="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let h1;const E2=typeof window<"u"&&window.trustedTypes;if(E2)try{h1=E2.createPolicy("vue",{createHTML:e=>e})}catch{}const Kv=h1?e=>h1.createHTML(e):e=>e,E_="http://www.w3.org/2000/svg",R_="http://www.w3.org/1998/Math/MathML",Fi=typeof document<"u"?document:null,R2=Fi&&Fi.createElement("template"),M_={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const a=t==="svg"?Fi.createElementNS(E_,e):t==="mathml"?Fi.createElementNS(R_,e):r?Fi.createElement(e,{is:r}):Fi.createElement(e);return e==="select"&&n&&n.multiple!=null&&a.setAttribute("multiple",n.multiple),a},createText:e=>Fi.createTextNode(e),createComment:e=>Fi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Fi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,a,i){const s=r?r.previousSibling:t.lastChild;if(a&&(a===i||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),r),!(a===i||!(a=a.nextSibling)););else{R2.innerHTML=Kv(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const o=R2.content;if(n==="svg"||n==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},ls="transition",Su="animation",Vc=Symbol("_vtc"),Xv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},D_=hn({},fv,Xv),I_=e=>(e.displayName="Transition",e.props=D_,e),$l=I_((e,{slots:t})=>Vi(F4,F_(e),t)),Js=(e,t=[])=>{St(e)?e.forEach(r=>r(...t)):e&&e(...t)},M2=e=>e?St(e)?e.some(t=>t.length>1):e.length>1:!1;function F_(e){const t={};for(const E in e)E in Xv||(t[E]=e[E]);if(e.css===!1)return t;const{name:r="v",type:n,duration:a,enterFromClass:i=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:l=i,appearActiveClass:c=s,appearToClass:u=o,leaveFromClass:h=`${r}-leave-from`,leaveActiveClass:p=`${r}-leave-active`,leaveToClass:d=`${r}-leave-to`}=e,g=j_(a),y=g&&g[0],S=g&&g[1],{onBeforeEnter:w,onEnter:v,onEnterCancelled:b,onLeave:P,onLeaveCancelled:M,onBeforeAppear:F=w,onAppear:U=v,onAppearCancelled:O=b}=t,R=(E,x,k,L)=>{E._enterCancelled=L,Qs(E,x?u:o),Qs(E,x?c:s),k&&k()},T=(E,x)=>{E._isLeaving=!1,Qs(E,h),Qs(E,d),Qs(E,p),x&&x()},C=E=>(x,k)=>{const L=E?U:v,D=()=>R(x,E,k);Js(L,[x,D]),D2(()=>{Qs(x,E?l:i),Ei(x,E?u:o),M2(L)||I2(x,n,y,D)})};return hn(t,{onBeforeEnter(E){Js(w,[E]),Ei(E,i),Ei(E,s)},onBeforeAppear(E){Js(F,[E]),Ei(E,l),Ei(E,c)},onEnter:C(!1),onAppear:C(!0),onLeave(E,x){E._isLeaving=!0;const k=()=>T(E,x);Ei(E,h),E._enterCancelled?(Ei(E,p),B2()):(B2(),Ei(E,p)),D2(()=>{E._isLeaving&&(Qs(E,h),Ei(E,d),M2(P)||I2(E,n,S,k))}),Js(P,[E,k])},onEnterCancelled(E){R(E,!1,void 0,!0),Js(b,[E])},onAppearCancelled(E){R(E,!0,void 0,!0),Js(O,[E])},onLeaveCancelled(E){T(E),Js(M,[E])}})}function j_(e){if(e==null)return null;if(pr(e))return[d0(e.enter),d0(e.leave)];{const t=d0(e);return[t,t]}}function d0(e){return G3(e)}function Ei(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[Vc]||(e[Vc]=new Set)).add(t)}function Qs(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[Vc];r&&(r.delete(t),r.size||(e[Vc]=void 0))}function D2(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let B_=0;function I2(e,t,r,n){const a=e._endId=++B_,i=()=>{a===e._endId&&n()};if(r!=null)return setTimeout(i,r);const{type:s,timeout:o,propCount:l}=q_(e,t);if(!s)return n();const c=s+"end";let u=0;const h=()=>{e.removeEventListener(c,p),i()},p=d=>{d.target===e&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},o+1),e.addEventListener(c,p)}function q_(e,t){const r=window.getComputedStyle(e),n=g=>(r[g]||"").split(", "),a=n(`${ls}Delay`),i=n(`${ls}Duration`),s=F2(a,i),o=n(`${Su}Delay`),l=n(`${Su}Duration`),c=F2(o,l);let u=null,h=0,p=0;t===ls?s>0&&(u=ls,h=s,p=i.length):t===Su?c>0&&(u=Su,h=c,p=l.length):(h=Math.max(s,c),u=h>0?s>c?ls:Su:null,p=u?u===ls?i.length:l.length:0);const d=u===ls&&/\b(transform|all)(,|$)/.test(n(`${ls}Property`).toString());return{type:u,timeout:h,propCount:p,hasTransform:d}}function F2(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>j2(r)+j2(e[n])))}function j2(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function B2(){return document.body.offsetHeight}function $_(e,t,r){const n=e[Vc];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const Oh=Symbol("_vod"),Jv=Symbol("_vsh"),vh={beforeMount(e,{value:t},{transition:r}){e[Oh]=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):xu(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:n}){!t!=!r&&(n?t?(n.beforeEnter(e),xu(e,!0),n.enter(e)):n.leave(e,()=>{xu(e,!1)}):xu(e,t))},beforeUnmount(e,{value:t}){xu(e,t)}};function xu(e,t){e.style.display=t?e[Oh]:"none",e[Jv]=!t}const U_=Symbol(""),V_=/(^|;)\s*display\s*:/;function G_(e,t,r){const n=e.style,a=_r(r);let i=!1;if(r&&!a){if(t)if(_r(t))for(const s of t.split(";")){const o=s.slice(0,s.indexOf(":")).trim();r[o]==null&&yh(n,o,"")}else for(const s in t)r[s]==null&&yh(n,s,"");for(const s in r)s==="display"&&(i=!0),yh(n,s,r[s])}else if(a){if(t!==r){const s=n[U_];s&&(r+=";"+s),n.cssText=r,i=V_.test(r)}}else t&&e.removeAttribute("style");Oh in e&&(e[Oh]=i?n.display:"",e[Jv]&&(n.display="none"))}const q2=/\s*!important$/;function yh(e,t,r){if(St(r))r.forEach(n=>yh(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=H_(e,t);q2.test(r)?e.setProperty(Rs(n),r.replace(q2,""),"important"):e[n]=r}}const $2=["Webkit","Moz","ms"],h0={};function H_(e,t){const r=h0[t];if(r)return r;let n=La(t);if(n!=="filter"&&n in e)return h0[t]=n;n=Uh(n);for(let a=0;a<$2.length;a++){const i=$2[a]+n;if(i in e)return h0[t]=i}return t}const U2="http://www.w3.org/1999/xlink";function V2(e,t,r,n,a,i=X3(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(U2,t.slice(6,t.length)):e.setAttributeNS(U2,t,r):r==null||i&&!I5(r)?e.removeAttribute(t):e.setAttribute(t,i?"":zi(r)?String(r):r)}function G2(e,t,r,n,a){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?Kv(r):r);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const o=i==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(o!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let s=!1;if(r===""||r==null){const o=typeof e[t];o==="boolean"?r=I5(r):r==null&&o==="string"?(r="",s=!0):o==="number"&&(r=0,s=!0)}try{e[t]=r}catch{}s&&e.removeAttribute(a||t)}function dl(e,t,r,n){e.addEventListener(t,r,n)}function z_(e,t,r,n){e.removeEventListener(t,r,n)}const H2=Symbol("_vei");function W_(e,t,r,n,a=null){const i=e[H2]||(e[H2]={}),s=i[t];if(n&&s)s.value=n;else{const[o,l]=Y_(t);if(n){const c=i[t]=J_(n,a);dl(e,o,c,l)}else s&&(z_(e,o,s,l),i[t]=void 0)}}const z2=/(?:Once|Passive|Capture)$/;function Y_(e){let t;if(z2.test(e)){t={};let n;for(;n=e.match(z2);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Rs(e.slice(2)),t]}let f0=0;const K_=Promise.resolve(),X_=()=>f0||(K_.then(()=>f0=0),f0=Date.now());function J_(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Ya(Q_(n,r.value),t,5,[n])};return r.value=e,r.attached=X_(),r}function Q_(e,t){if(St(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>a=>!a._stopped&&n&&n(a))}else return t}const W2=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Z_=(e,t,r,n,a,i)=>{const s=a==="svg";t==="class"?$_(e,n,s):t==="style"?G_(e,r,n):Bh(t)?V1(t)||W_(e,t,r,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ew(e,t,n,s))?(G2(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&V2(e,t,n,s,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!_r(n))?G2(e,La(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),V2(e,t,n,s))};function ew(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&W2(t)&&At(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const a=e.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return W2(t)&&_r(r)?!1:t in e}const Y2=e=>{const t=e.props["onUpdate:modelValue"]||!1;return St(t)?r=>fh(t,r):t};function tw(e){e.target.composing=!0}function K2(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const p0=Symbol("_assign"),Un={created(e,{modifiers:{lazy:t,trim:r,number:n}},a){e[p0]=Y2(a);const i=n||a.props&&a.props.type==="number";dl(e,t?"change":"input",s=>{if(s.target.composing)return;let o=e.value;r&&(o=o.trim()),i&&(o=e1(o)),e[p0](o)}),r&&dl(e,"change",()=>{e.value=e.value.trim()}),t||(dl(e,"compositionstart",tw),dl(e,"compositionend",K2),dl(e,"change",K2))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:a,number:i}},s){if(e[p0]=Y2(s),e.composing)return;const o=(i||e.type==="number")&&!/^0\d/.test(e.value)?e1(e.value):e.value,l=t??"";o!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===r||a&&e.value.trim()===l)||(e.value=l))}},rw=["ctrl","shift","alt","meta"],nw={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>rw.some(r=>e[`${r}Key`]&&!t.includes(r))},ma=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(a,...i)=>{for(let s=0;s<t.length;s++){const o=nw[t[s]];if(o&&o(a,t))return}return e(a,...i)})},aw={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Qv=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=a=>{if(!("key"in a))return;const i=Rs(a.key);if(t.some(s=>s===i||aw[s]===i))return e(a)})},iw=hn({patchProp:Z_},M_);let X2;function Zv(){return X2||(X2=o_(iw))}const J2=(...e)=>{Zv().render(...e)},sw=(...e)=>{const t=Zv().createApp(...e),{mount:r}=t;return t.mount=n=>{const a=lw(n);if(!a)return;const i=t._component;!At(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const s=r(a,!1,ow(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),s},t};function ow(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function lw(e){return _r(e)?document.querySelector(e):e}const pn=(e,t)=>{const r=e.__vccOpts||e;for(const[n,a]of t)r[n]=a;return r},uw={__name:"BaseToast",setup(e,{expose:t}){const r=Ie(""),n=Ie("error"),a=Ie(null);return t({showToast:(s,o="error",l=3e3)=>{r.value=s,n.value=o,a.value&&clearTimeout(a.value),a.value=setTimeout(()=>{r.value=""},l)}}),(s,o)=>r.value?(be(),Oe("div",{key:0,class:xt(["toast",n.value])},[Ee("p",null,qt(r.value),1)],2)):He("",!0)}},cw=pn(uw,[["__scopeId","data-v-9d6e2f0c"]]),dw={__name:"App",setup(e,{expose:t}){const r=Ie(null);return t({showError:i=>{r.value.showToast(i,"error")},showSuccess:i=>{r.value.showToast(i,"success")}}),Pc("toast",r),(i,s)=>{const o=xs("router-view");return be(),Oe("div",null,[at(cw,{ref_key:"toast",ref:r},null,512),(be(),pt(o,{key:i.$route.fullPath}))])}}};/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const hl=typeof document<"u";function ey(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function hw(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&ey(e.default)}const Kt=Object.assign;function g0(e,t){const r={};for(const n in t){const a=t[n];r[n]=Ka(a)?a.map(e):e(a)}return r}const Lc=()=>{},Ka=Array.isArray,ty=/#/g,fw=/&/g,pw=/\//g,gw=/=/g,mw=/\?/g,ry=/\+/g,vw=/%5B/g,yw=/%5D/g,ny=/%5E/g,bw=/%60/g,ay=/%7B/g,_w=/%7C/g,iy=/%7D/g,ww=/%20/g;function ip(e){return encodeURI(""+e).replace(_w,"|").replace(vw,"[").replace(yw,"]")}function Sw(e){return ip(e).replace(ay,"{").replace(iy,"}").replace(ny,"^")}function f1(e){return ip(e).replace(ry,"%2B").replace(ww,"+").replace(ty,"%23").replace(fw,"%26").replace(bw,"`").replace(ay,"{").replace(iy,"}").replace(ny,"^")}function xw(e){return f1(e).replace(gw,"%3D")}function kw(e){return ip(e).replace(ty,"%23").replace(mw,"%3F")}function Aw(e){return e==null?"":kw(e).replace(pw,"%2F")}function Gc(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Pw=/\/$/,Cw=e=>e.replace(Pw,"");function m0(e,t,r="/"){let n,a={},i="",s="";const o=t.indexOf("#");let l=t.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(n=t.slice(0,l),i=t.slice(l+1,o>-1?o:t.length),a=e(i)),o>-1&&(n=n||t.slice(0,o),s=t.slice(o,t.length)),n=Ow(n??t,r),{fullPath:n+(i&&"?")+i+s,path:n,query:a,hash:Gc(s)}}function Lw(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function Q2(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Nw(e,t,r){const n=t.matched.length-1,a=r.matched.length-1;return n>-1&&n===a&&El(t.matched[n],r.matched[a])&&sy(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function El(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function sy(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!Tw(e[r],t[r]))return!1;return!0}function Tw(e,t){return Ka(e)?Z2(e,t):Ka(t)?Z2(t,e):e===t}function Z2(e,t){return Ka(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function Ow(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/"),a=n[n.length-1];(a===".."||a===".")&&n.push("");let i=r.length-1,s,o;for(s=0;s<n.length;s++)if(o=n[s],o!==".")if(o==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(s).join("/")}const us={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Hc;(function(e){e.pop="pop",e.push="push"})(Hc||(Hc={}));var Nc;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Nc||(Nc={}));function Ew(e){if(!e)if(hl){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Cw(e)}const Rw=/^[^#]+#/;function Mw(e,t){return e.replace(Rw,"#")+t}function Dw(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const Jh=()=>({left:window.scrollX,top:window.scrollY});function Iw(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),a=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!a)return;t=Dw(a,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function eg(e,t){return(history.state?history.state.position-t:-1)+e}const p1=new Map;function Fw(e,t){p1.set(e,t)}function jw(e){const t=p1.get(e);return p1.delete(e),t}let Bw=()=>location.protocol+"//"+location.host;function oy(e,t){const{pathname:r,search:n,hash:a}=t,i=e.indexOf("#");if(i>-1){let o=a.includes(e.slice(i))?e.slice(i).length:1,l=a.slice(o);return l[0]!=="/"&&(l="/"+l),Q2(l,"")}return Q2(r,e)+n+a}function qw(e,t,r,n){let a=[],i=[],s=null;const o=({state:p})=>{const d=oy(e,location),g=r.value,y=t.value;let S=0;if(p){if(r.value=d,t.value=p,s&&s===g){s=null;return}S=y?p.position-y.position:0}else n(d);a.forEach(w=>{w(r.value,g,{delta:S,type:Hc.pop,direction:S?S>0?Nc.forward:Nc.back:Nc.unknown})})};function l(){s=r.value}function c(p){a.push(p);const d=()=>{const g=a.indexOf(p);g>-1&&a.splice(g,1)};return i.push(d),d}function u(){const{history:p}=window;p.state&&p.replaceState(Kt({},p.state,{scroll:Jh()}),"")}function h(){for(const p of i)p();i=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function tg(e,t,r,n=!1,a=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:a?Jh():null}}function $w(e){const{history:t,location:r}=window,n={value:oy(e,r)},a={value:t.state};a.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=e.indexOf("#"),p=h>-1?(r.host&&document.querySelector("base")?e:e.slice(h))+l:Bw()+e+l;try{t[u?"replaceState":"pushState"](c,"",p),a.value=c}catch(d){console.error(d),r[u?"replace":"assign"](p)}}function s(l,c){const u=Kt({},t.state,tg(a.value.back,l,a.value.forward,!0),c,{position:a.value.position});i(l,u,!0),n.value=l}function o(l,c){const u=Kt({},a.value,t.state,{forward:l,scroll:Jh()});i(u.current,u,!0);const h=Kt({},tg(n.value,l,null),{position:u.position+1},c);i(l,h,!1),n.value=l}return{location:n,state:a,push:o,replace:s}}function Uw(e){e=Ew(e);const t=$w(e),r=qw(e,t.state,t.location,t.replace);function n(i,s=!0){s||r.pauseListeners(),history.go(i)}const a=Kt({location:"",base:e,go:n,createHref:Mw.bind(null,e)},t,r);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>t.state.value}),a}function Vw(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),Uw(e)}function Gw(e){return typeof e=="string"||e&&typeof e=="object"}function ly(e){return typeof e=="string"||typeof e=="symbol"}const uy=Symbol("");var rg;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(rg||(rg={}));function Rl(e,t){return Kt(new Error,{type:e,[uy]:!0},t)}function Ri(e,t){return e instanceof Error&&uy in e&&(t==null||!!(e.type&t))}const ng="[^/]+?",Hw={sensitive:!1,strict:!1,start:!0,end:!0},zw=/[.+*?^${}()[\]/\\]/g;function Ww(e,t){const r=Kt({},Hw,t),n=[];let a=r.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];r.strict&&!c.length&&(a+="/");for(let h=0;h<c.length;h++){const p=c[h];let d=40+(r.sensitive?.25:0);if(p.type===0)h||(a+="/"),a+=p.value.replace(zw,"\\$&"),d+=40;else if(p.type===1){const{value:g,repeatable:y,optional:S,regexp:w}=p;i.push({name:g,repeatable:y,optional:S});const v=w||ng;if(v!==ng){d+=10;try{new RegExp(`(${v})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${g}" (${v}): `+P.message)}}let b=y?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;h||(b=S&&c.length<2?`(?:/${b})`:"/"+b),S&&(b+="?"),a+=b,d+=20,S&&(d+=-8),y&&(d+=-20),v===".*"&&(d+=-50)}u.push(d)}n.push(u)}if(r.strict&&r.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&!a.endsWith("/")&&(a+="(?:/|$)");const s=new RegExp(a,r.sensitive?"":"i");function o(c){const u=c.match(s),h={};if(!u)return null;for(let p=1;p<u.length;p++){const d=u[p]||"",g=i[p-1];h[g.name]=d&&g.repeatable?d.split("/"):d}return h}function l(c){let u="",h=!1;for(const p of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const d of p)if(d.type===0)u+=d.value;else if(d.type===1){const{value:g,repeatable:y,optional:S}=d,w=g in c?c[g]:"";if(Ka(w)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const v=Ka(w)?w.join("/"):w;if(!v)if(S)p.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=v}}return u||"/"}return{re:s,score:n,keys:i,parse:o,stringify:l}}function Yw(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function cy(e,t){let r=0;const n=e.score,a=t.score;for(;r<n.length&&r<a.length;){const i=Yw(n[r],a[r]);if(i)return i;r++}if(Math.abs(a.length-n.length)===1){if(ag(n))return 1;if(ag(a))return-1}return a.length-n.length}function ag(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Kw={type:0,value:""},Xw=/[a-zA-Z0-9_]/;function Jw(e){if(!e)return[[]];if(e==="/")return[[Kw]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${r})/"${c}": ${d}`)}let r=0,n=r;const a=[];let i;function s(){i&&a.push(i),i=[]}let o=0,l,c="",u="";function h(){c&&(r===0?i.push({type:0,value:c}):r===1||r===2||r===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function p(){c+=l}for(;o<e.length;){if(l=e[o++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(c&&h(),s()):l===":"?(h(),r=1):p();break;case 4:p(),r=n;break;case 1:l==="("?r=2:Xw.test(l)?p():(h(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:r=3:u+=l;break;case 3:h(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,u="";break;default:t("Unknown state");break}}return r===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),s(),a}function Qw(e,t,r){const n=Ww(Jw(e.path),r),a=Kt(n,{record:e,parent:t,children:[],alias:[]});return t&&!a.record.aliasOf==!t.record.aliasOf&&t.children.push(a),a}function Zw(e,t){const r=[],n=new Map;t=lg({strict:!1,end:!0,sensitive:!1},t);function a(h){return n.get(h)}function i(h,p,d){const g=!d,y=sg(h);y.aliasOf=d&&d.record;const S=lg(t,h),w=[y];if("alias"in h){const P=typeof h.alias=="string"?[h.alias]:h.alias;for(const M of P)w.push(sg(Kt({},y,{components:d?d.record.components:y.components,path:M,aliasOf:d?d.record:y})))}let v,b;for(const P of w){const{path:M}=P;if(p&&M[0]!=="/"){const F=p.record.path,U=F[F.length-1]==="/"?"":"/";P.path=p.record.path+(M&&U+M)}if(v=Qw(P,p,S),d?d.alias.push(v):(b=b||v,b!==v&&b.alias.push(v),g&&h.name&&!og(v)&&s(h.name)),dy(v)&&l(v),y.children){const F=y.children;for(let U=0;U<F.length;U++)i(F[U],v,d&&d.children[U])}d=d||v}return b?()=>{s(b)}:Lc}function s(h){if(ly(h)){const p=n.get(h);p&&(n.delete(h),r.splice(r.indexOf(p),1),p.children.forEach(s),p.alias.forEach(s))}else{const p=r.indexOf(h);p>-1&&(r.splice(p,1),h.record.name&&n.delete(h.record.name),h.children.forEach(s),h.alias.forEach(s))}}function o(){return r}function l(h){const p=r6(h,r);r.splice(p,0,h),h.record.name&&!og(h)&&n.set(h.record.name,h)}function c(h,p){let d,g={},y,S;if("name"in h&&h.name){if(d=n.get(h.name),!d)throw Rl(1,{location:h});S=d.record.name,g=Kt(ig(p.params,d.keys.filter(b=>!b.optional).concat(d.parent?d.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),h.params&&ig(h.params,d.keys.map(b=>b.name))),y=d.stringify(g)}else if(h.path!=null)y=h.path,d=r.find(b=>b.re.test(y)),d&&(g=d.parse(y),S=d.record.name);else{if(d=p.name?n.get(p.name):r.find(b=>b.re.test(p.path)),!d)throw Rl(1,{location:h,currentLocation:p});S=d.record.name,g=Kt({},p.params,h.params),y=d.stringify(g)}const w=[];let v=d;for(;v;)w.unshift(v.record),v=v.parent;return{name:S,path:y,params:g,matched:w,meta:t6(w)}}e.forEach(h=>i(h));function u(){r.length=0,n.clear()}return{addRoute:i,resolve:c,removeRoute:s,clearRoutes:u,getRoutes:o,getRecordMatcher:a}}function ig(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function sg(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:e6(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function e6(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="object"?r[n]:r;return t}function og(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function t6(e){return e.reduce((t,r)=>Kt(t,r.meta),{})}function lg(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}function r6(e,t){let r=0,n=t.length;for(;r!==n;){const i=r+n>>1;cy(e,t[i])<0?n=i:r=i+1}const a=n6(e);return a&&(n=t.lastIndexOf(a,n-1)),n}function n6(e){let t=e;for(;t=t.parent;)if(dy(t)&&cy(e,t)===0)return t}function dy({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function a6(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let a=0;a<n.length;++a){const i=n[a].replace(ry," "),s=i.indexOf("="),o=Gc(s<0?i:i.slice(0,s)),l=s<0?null:Gc(i.slice(s+1));if(o in t){let c=t[o];Ka(c)||(c=t[o]=[c]),c.push(l)}else t[o]=l}return t}function ug(e){let t="";for(let r in e){const n=e[r];if(r=xw(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(Ka(n)?n.map(i=>i&&f1(i)):[n&&f1(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+r,i!=null&&(t+="="+i))})}return t}function i6(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=Ka(n)?n.map(a=>a==null?null:""+a):n==null?n:""+n)}return t}const s6=Symbol(""),cg=Symbol(""),Qh=Symbol(""),sp=Symbol(""),g1=Symbol("");function ku(){let e=[];function t(n){return e.push(n),()=>{const a=e.indexOf(n);a>-1&&e.splice(a,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function _s(e,t,r,n,a,i=s=>s()){const s=n&&(n.enterCallbacks[a]=n.enterCallbacks[a]||[]);return()=>new Promise((o,l)=>{const c=p=>{p===!1?l(Rl(4,{from:r,to:t})):p instanceof Error?l(p):Gw(p)?l(Rl(2,{from:t,to:p})):(s&&n.enterCallbacks[a]===s&&typeof p=="function"&&s.push(p),o())},u=i(()=>e.call(n&&n.instances[a],t,r,c));let h=Promise.resolve(u);e.length<3&&(h=h.then(c)),h.catch(p=>l(p))})}function v0(e,t,r,n,a=i=>i()){const i=[];for(const s of e)for(const o in s.components){let l=s.components[o];if(!(t!=="beforeRouteEnter"&&!s.instances[o]))if(ey(l)){const u=(l.__vccOpts||l)[t];u&&i.push(_s(u,r,n,s,o,a))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${o}" at "${s.path}"`);const h=hw(u)?u.default:u;s.mods[o]=u,s.components[o]=h;const d=(h.__vccOpts||h)[t];return d&&_s(d,r,n,s,o,a)()}))}}return i}function dg(e){const t=ra(Qh),r=ra(sp),n=Ue(()=>{const l=pe(e.to);return t.resolve(l)}),a=Ue(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],h=r.matched;if(!u||!h.length)return-1;const p=h.findIndex(El.bind(null,u));if(p>-1)return p;const d=hg(l[c-2]);return c>1&&hg(u)===d&&h[h.length-1].path!==d?h.findIndex(El.bind(null,l[c-2])):p}),i=Ue(()=>a.value>-1&&d6(r.params,n.value.params)),s=Ue(()=>a.value>-1&&a.value===r.matched.length-1&&sy(r.params,n.value.params));function o(l={}){if(c6(l)){const c=t[pe(e.replace)?"replace":"push"](pe(e.to)).catch(Lc);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:Ue(()=>n.value.href),isActive:i,isExactActive:s,navigate:o}}function o6(e){return e.length===1?e[0]:e}const l6=qr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:dg,setup(e,{slots:t}){const r=ga(dg(e)),{options:n}=ra(Qh),a=Ue(()=>({[fg(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[fg(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=t.default&&o6(t.default(r));return e.custom?i:Vi("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},i)}}}),u6=l6;function c6(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function d6(e,t){for(const r in t){const n=t[r],a=e[r];if(typeof n=="string"){if(n!==a)return!1}else if(!Ka(a)||a.length!==n.length||n.some((i,s)=>i!==a[s]))return!1}return!0}function hg(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const fg=(e,t,r)=>e??t??r,h6=qr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=ra(g1),a=Ue(()=>e.route||n.value),i=ra(cg,0),s=Ue(()=>{let c=pe(i);const{matched:u}=a.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),o=Ue(()=>a.value.matched[s.value]);Pc(cg,Ue(()=>s.value+1)),Pc(s6,o),Pc(g1,a);const l=Ie();return Zr(()=>[l.value,o.value,e.name],([c,u,h],[p,d,g])=>{u&&(u.instances[h]=c,d&&d!==u&&c&&c===p&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!El(u,d)||!p)&&(u.enterCallbacks[h]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=a.value,u=e.name,h=o.value,p=h&&h.components[u];if(!p)return pg(r.default,{Component:p,route:c});const d=h.props[u],g=d?d===!0?c.params:typeof d=="function"?d(c):d:null,S=Vi(p,Kt({},g,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return pg(r.default,{Component:S,route:c})||S}}});function pg(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const f6=h6;function p6(e){const t=Zw(e.routes,e),r=e.parseQuery||a6,n=e.stringifyQuery||ug,a=e.history,i=ku(),s=ku(),o=ku(),l=b4(us);let c=us;hl&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=g0.bind(null,_=>""+_),h=g0.bind(null,Aw),p=g0.bind(null,Gc);function d(_,V){let Z,fe;return ly(_)?(Z=t.getRecordMatcher(_),fe=V):fe=_,t.addRoute(fe,Z)}function g(_){const V=t.getRecordMatcher(_);V&&t.removeRoute(V)}function y(){return t.getRoutes().map(_=>_.record)}function S(_){return!!t.getRecordMatcher(_)}function w(_,V){if(V=Kt({},V||l.value),typeof _=="string"){const se=m0(r,_,V.path),B=t.resolve({path:se.path},V),H=a.createHref(se.fullPath);return Kt(se,B,{params:p(B.params),hash:Gc(se.hash),redirectedFrom:void 0,href:H})}let Z;if(_.path!=null)Z=Kt({},_,{path:m0(r,_.path,V.path).path});else{const se=Kt({},_.params);for(const B in se)se[B]==null&&delete se[B];Z=Kt({},_,{params:h(se)}),V.params=h(V.params)}const fe=t.resolve(Z,V),le=_.hash||"";fe.params=u(p(fe.params));const X=Lw(n,Kt({},_,{hash:Sw(le),path:fe.path})),z=a.createHref(X);return Kt({fullPath:X,hash:le,query:n===ug?i6(_.query):_.query||{}},fe,{redirectedFrom:void 0,href:z})}function v(_){return typeof _=="string"?m0(r,_,l.value.path):Kt({},_)}function b(_,V){if(c!==_)return Rl(8,{from:V,to:_})}function P(_){return U(_)}function M(_){return P(Kt(v(_),{replace:!0}))}function F(_){const V=_.matched[_.matched.length-1];if(V&&V.redirect){const{redirect:Z}=V;let fe=typeof Z=="function"?Z(_):Z;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=v(fe):{path:fe},fe.params={}),Kt({query:_.query,hash:_.hash,params:fe.path!=null?{}:_.params},fe)}}function U(_,V){const Z=c=w(_),fe=l.value,le=_.state,X=_.force,z=_.replace===!0,se=F(Z);if(se)return U(Kt(v(se),{state:typeof se=="object"?Kt({},le,se.state):le,force:X,replace:z}),V||Z);const B=Z;B.redirectedFrom=V;let H;return!X&&Nw(n,fe,Z)&&(H=Rl(16,{to:B,from:fe}),oe(fe,fe,!0,!1)),(H?Promise.resolve(H):T(B,fe)).catch(de=>Ri(de)?Ri(de,2)?de:ne(de):W(de,B,fe)).then(de=>{if(de){if(Ri(de,2))return U(Kt({replace:z},v(de.to),{state:typeof de.to=="object"?Kt({},le,de.to.state):le,force:X}),V||B)}else de=E(B,fe,!0,z,le);return C(B,fe,de),de})}function O(_,V){const Z=b(_,V);return Z?Promise.reject(Z):Promise.resolve()}function R(_){const V=G.values().next().value;return V&&typeof V.runWithContext=="function"?V.runWithContext(_):_()}function T(_,V){let Z;const[fe,le,X]=g6(_,V);Z=v0(fe.reverse(),"beforeRouteLeave",_,V);for(const se of fe)se.leaveGuards.forEach(B=>{Z.push(_s(B,_,V))});const z=O.bind(null,_,V);return Z.push(z),re(Z).then(()=>{Z=[];for(const se of i.list())Z.push(_s(se,_,V));return Z.push(z),re(Z)}).then(()=>{Z=v0(le,"beforeRouteUpdate",_,V);for(const se of le)se.updateGuards.forEach(B=>{Z.push(_s(B,_,V))});return Z.push(z),re(Z)}).then(()=>{Z=[];for(const se of X)if(se.beforeEnter)if(Ka(se.beforeEnter))for(const B of se.beforeEnter)Z.push(_s(B,_,V));else Z.push(_s(se.beforeEnter,_,V));return Z.push(z),re(Z)}).then(()=>(_.matched.forEach(se=>se.enterCallbacks={}),Z=v0(X,"beforeRouteEnter",_,V,R),Z.push(z),re(Z))).then(()=>{Z=[];for(const se of s.list())Z.push(_s(se,_,V));return Z.push(z),re(Z)}).catch(se=>Ri(se,8)?se:Promise.reject(se))}function C(_,V,Z){o.list().forEach(fe=>R(()=>fe(_,V,Z)))}function E(_,V,Z,fe,le){const X=b(_,V);if(X)return X;const z=V===us,se=hl?history.state:{};Z&&(fe||z?a.replace(_.fullPath,Kt({scroll:z&&se&&se.scroll},le)):a.push(_.fullPath,le)),l.value=_,oe(_,V,Z,z),ne()}let x;function k(){x||(x=a.listen((_,V,Z)=>{if(!J.listening)return;const fe=w(_),le=F(fe);if(le){U(Kt(le,{replace:!0,force:!0}),fe).catch(Lc);return}c=fe;const X=l.value;hl&&Fw(eg(X.fullPath,Z.delta),Jh()),T(fe,X).catch(z=>Ri(z,12)?z:Ri(z,2)?(U(Kt(v(z.to),{force:!0}),fe).then(se=>{Ri(se,20)&&!Z.delta&&Z.type===Hc.pop&&a.go(-1,!1)}).catch(Lc),Promise.reject()):(Z.delta&&a.go(-Z.delta,!1),W(z,fe,X))).then(z=>{z=z||E(fe,X,!1),z&&(Z.delta&&!Ri(z,8)?a.go(-Z.delta,!1):Z.type===Hc.pop&&Ri(z,20)&&a.go(-1,!1)),C(fe,X,z)}).catch(Lc)}))}let L=ku(),D=ku(),q;function W(_,V,Z){ne(_);const fe=D.list();return fe.length?fe.forEach(le=>le(_,V,Z)):console.error(_),Promise.reject(_)}function Q(){return q&&l.value!==us?Promise.resolve():new Promise((_,V)=>{L.add([_,V])})}function ne(_){return q||(q=!_,k(),L.list().forEach(([V,Z])=>_?Z(_):V()),L.reset()),_}function oe(_,V,Z,fe){const{scrollBehavior:le}=e;if(!hl||!le)return Promise.resolve();const X=!Z&&jw(eg(_.fullPath,0))||(fe||!Z)&&history.state&&history.state.scroll||null;return Hn().then(()=>le(_,V,X)).then(z=>z&&Iw(z)).catch(z=>W(z,_,V))}const $=_=>a.go(_);let I;const G=new Set,J={currentRoute:l,listening:!0,addRoute:d,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:S,getRoutes:y,resolve:w,options:e,push:P,replace:M,go:$,back:()=>$(-1),forward:()=>$(1),beforeEach:i.add,beforeResolve:s.add,afterEach:o.add,onError:D.add,isReady:Q,install(_){const V=this;_.component("RouterLink",u6),_.component("RouterView",f6),_.config.globalProperties.$router=V,Object.defineProperty(_.config.globalProperties,"$route",{enumerable:!0,get:()=>pe(l)}),hl&&!I&&l.value===us&&(I=!0,P(a.location).catch(le=>{}));const Z={};for(const le in us)Object.defineProperty(Z,le,{get:()=>l.value[le],enumerable:!0});_.provide(Qh,V),_.provide(sp,ev(Z)),_.provide(g1,l);const fe=_.unmount;G.add(_),_.unmount=function(){G.delete(_),G.size<1&&(c=us,x&&x(),x=null,l.value=us,I=!1,q=!1),fe()}}};function re(_){return _.reduce((V,Z)=>V.then(()=>R(Z)),Promise.resolve())}return J}function g6(e,t){const r=[],n=[],a=[],i=Math.max(t.matched.length,e.matched.length);for(let s=0;s<i;s++){const o=t.matched[s];o&&(e.matched.find(c=>El(c,o))?n.push(o):r.push(o));const l=e.matched[s];l&&(t.matched.find(c=>El(c,l))||a.push(l))}return[r,n,a]}function aa(){return ra(Qh)}function op(e){return ra(sp)}const m6="modulepreload",v6=function(e){return"/"+e},gg={},Gi=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=v6(l),l in gg)return;gg[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":m6,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((p,d)=>{h.addEventListener("load",p),h.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},y6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gi(async()=>{const{default:n}=await Promise.resolve().then(()=>Ul);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class lp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class b6 extends lp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _6 extends lp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class w6 extends lp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var m1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(m1||(m1={}));var S6=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class x6{constructor(t,{headers:r={},customFetch:n,region:a=m1.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=y6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return S6(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let o={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let c;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(o["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(o["Content-Type"]="application/json",c=JSON.stringify(s)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:c}).catch(g=>{throw new b6(g)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new _6(u);if(!u.ok)throw new w6(u);let p=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),d;return p==="application/json"?d=yield u.json():p==="application/octet-stream"?d=yield u.blob():p==="text/event-stream"?d=u:p==="multipart/form-data"?d=yield u.formData():d=yield u.text(),{data:d,error:null}}catch(a){return{data:null,error:a}}})}}var mg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function k6(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var sn={},Jo={},Qo={},Zo={},el={},tl={},A6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ml=A6();const P6=Ml.fetch,fy=Ml.fetch.bind(Ml),py=Ml.Headers,C6=Ml.Request,L6=Ml.Response,Ul=Object.freeze(Object.defineProperty({__proto__:null,Headers:py,Request:C6,Response:L6,default:fy,fetch:P6},Symbol.toStringTag,{value:"Module"})),N6=k6(Ul);var th={},vg;function gy(){if(vg)return th;vg=1,Object.defineProperty(th,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return th.default=e,th}var yg;function my(){if(yg)return tl;yg=1;var e=tl&&tl.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(tl,"__esModule",{value:!0});const t=e(N6),r=e(gy());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=Object.assign({},this.headers),this.headers[i]=s,this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,p;let d=null,g=null,y=null,S=c.status,w=c.statusText;if(c.ok){if(this.method!=="HEAD"){const M=await c.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=M:g=JSON.parse(M))}const b=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),P=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");b&&P&&P.length>1&&(y=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(d={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,S=406,w="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const b=await c.text();try{d=JSON.parse(b),Array.isArray(d)&&c.status===404&&(g=[],d=null,S=200,w="OK")}catch{c.status===404&&b===""?(S=204,w="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((p=d==null?void 0:d.details)===null||p===void 0)&&p.includes("0 rows"))&&(d=null,S=200,w="OK"),d&&this.shouldThrowOnError)throw new r.default(d)}return{error:d,data:g,count:y,status:S,statusText:w}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,p;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(p=c==null?void 0:c.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,s)}returns(){return this}overrideTypes(){return this}}return tl.default=n,tl}var bg;function vy(){if(bg)return el;bg=1;var e=el&&el.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(el,"__esModule",{value:!0});const t=e(my());class r extends t.default{select(a){let i=!1;const s=(a??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(c,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var u;const h=[a?"analyze":null,i?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${p}"; options=${h};`,c==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return el.default=r,el}var _g;function up(){if(_g)return Zo;_g=1;var e=Zo&&Zo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Zo,"__esModule",{value:!0});const t=e(vy());class r extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${l}fts${c}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}}return Zo.default=r,Zo}var wg;function yy(){if(wg)return Qo;wg=1;var e=Qo&&Qo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Qo,"__esModule",{value:!0});const t=e(up());class r{constructor(a,{headers:i={},schema:s,fetch:o}){this.url=a,this.headers=i,this.schema=s,this.fetch=o}select(a,{head:i=!1,count:s}={}){const o=i?"HEAD":"GET";let l=!1;const c=(a??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),s&&(this.headers.Prefer=`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:i,defaultToNull:s=!0}={}){const o="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(a)){const c=a.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${s?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(a)){const h=a.reduce((p,d)=>p.concat(Object.keys(d)),[]);if(h.length>0){const p=[...new Set(h)].map(d=>`"${d}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:i}={}){const s="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const i="DELETE",s=[];return a&&s.push(`count=${a}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Qo.default=r,Qo}var Au={},Pu={},Sg;function T6(){return Sg||(Sg=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.version=void 0,Pu.version="0.0.0-automated"),Pu}var xg;function O6(){if(xg)return Au;xg=1,Object.defineProperty(Au,"__esModule",{value:!0}),Au.DEFAULT_HEADERS=void 0;const e=T6();return Au.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Au}var kg;function E6(){if(kg)return Jo;kg=1;var e=Jo&&Jo.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Jo,"__esModule",{value:!0});const t=e(yy()),r=e(up()),n=O6();class a{constructor(s,{headers:o={},schema:l,fetch:c}={}){this.url=s,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),o),this.schemaName=l,this.fetch=c}from(s){const o=new URL(`${this.url}/${s}`);return new t.default(o,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,o={},{head:l=!1,get:c=!1,count:u}={}){let h;const p=new URL(`${this.url}/rpc/${s}`);let d;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([y,S])=>S!==void 0).map(([y,S])=>[y,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([y,S])=>{p.searchParams.append(y,S)})):(h="POST",d=o);const g=Object.assign({},this.headers);return u&&(g.Prefer=`count=${u}`),new r.default({method:h,url:p,headers:g,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}}return Jo.default=a,Jo}var Ag;function R6(){if(Ag)return sn;Ag=1;var e=sn&&sn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(sn,"__esModule",{value:!0}),sn.PostgrestError=sn.PostgrestBuilder=sn.PostgrestTransformBuilder=sn.PostgrestFilterBuilder=sn.PostgrestQueryBuilder=sn.PostgrestClient=void 0;const t=e(E6());sn.PostgrestClient=t.default;const r=e(yy());sn.PostgrestQueryBuilder=r.default;const n=e(up());sn.PostgrestFilterBuilder=n.default;const a=e(vy());sn.PostgrestTransformBuilder=a.default;const i=e(my());sn.PostgrestBuilder=i.default;const s=e(gy());return sn.PostgrestError=s.default,sn.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:s.default},sn}var M6=R6();const D6=hy(M6),{PostgrestClient:I6,PostgrestQueryBuilder:_L,PostgrestFilterBuilder:wL,PostgrestTransformBuilder:SL,PostgrestBuilder:xL,PostgrestError:kL}=D6,F6="2.11.2",j6={"X-Client-Info":`realtime-js/${F6}`},B6="1.0.0",by=1e4,q6=1e3;var Pl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pl||(Pl={}));var da;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(da||(da={}));var Ga;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ga||(Ga={}));var v1;(function(e){e.websocket="websocket"})(v1||(v1={}));var so;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(so||(so={}));class $6{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const o=n.decode(t.slice(s,s+a));s=s+a;const l=n.decode(t.slice(s,s+i));s=s+i;const c=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class _y{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var hr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(hr||(hr={}));const Pg=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,s)=>(i[s]=U6(s,e,t,a),i),{})},U6=(e,t,r,n)=>{const a=t.find(o=>o.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?wy(i,s):y1(s)},wy=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return z6(t,r)}switch(e){case hr.bool:return V6(t);case hr.float4:case hr.float8:case hr.int2:case hr.int4:case hr.int8:case hr.numeric:case hr.oid:return G6(t);case hr.json:case hr.jsonb:return H6(t);case hr.timestamp:return W6(t);case hr.abstime:case hr.date:case hr.daterange:case hr.int4range:case hr.int8range:case hr.money:case hr.reltime:case hr.text:case hr.time:case hr.timestamptz:case hr.timetz:case hr.tsrange:case hr.tstzrange:return y1(t);default:return y1(t)}},y1=e=>e,V6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},G6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},H6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},z6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(o=>wy(t,o))}return e},W6=e=>typeof e=="string"?e.replace(" ","T"):e,Sy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class y0{constructor(t,r,n={},a=by){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Cg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Cg||(Cg={}));class Tc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tc.syncState(this.state,a,i,s),this.pendingDiffs.forEach(l=>{this.state=Tc.syncDiff(this.state,l,i,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Tc.syncDiff(this.state,a,i,s),o())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),o={},l={};return this.map(i,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const h=i[c];if(h){const p=u.map(S=>S.presence_ref),d=h.map(S=>S.presence_ref),g=u.filter(S=>d.indexOf(S.presence_ref)<0),y=h.filter(S=>p.indexOf(S.presence_ref)<0);g.length>0&&(o[c]=g),y.length>0&&(l[c]=y)}else o[c]=u}),this.syncDiff(i,{joins:o,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(o,l)=>{var c;const u=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),u.length>0){const h=t[o].map(d=>d.presence_ref),p=u.filter(d=>h.indexOf(d.presence_ref)<0);t[o].unshift(...p)}n(o,u,l)}),this.map(s,(o,l)=>{let c=t[o];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[o]=c,a(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Lg||(Lg={}));var Ng;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ng||(Ng={}));var ji;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ji||(ji={}));class cp{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=da.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new y0(this,Ga.join,this.params,this.timeout),this.rejoinTimer=new _y(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=da.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=da.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=da.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=da.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ga.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Tc(this),this.broadcastEndpointURL=Sy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:o}}=this.params;this._onError(u=>t==null?void 0:t(ji.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(ji.CLOSED));const l={},c={broadcast:i,presence:s,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){t==null||t(ji.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,d=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,g=[];for(let y=0;y<d;y++){const S=p[y],{filter:{event:w,schema:v,table:b,filter:P}}=S,M=u&&u[y];if(M&&M.event===w&&M.schema===v&&M.table===b&&M.filter===P)g.push(Object.assign(Object.assign({},S),{id:M.id}));else{this.unsubscribe(),t==null||t(ji.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(ji.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(ji.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ji.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=da.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ga.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new y0(this,Ga.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new y0(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=Ga;if(n&&[o,l,c,u].indexOf(s)>=0&&n!==this._joinRef())return;let p=this._onMessage(s,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(d=>{var g,y,S;return((g=d.filter)===null||g===void 0?void 0:g.event)==="*"||((S=(y=d.filter)===null||y===void 0?void 0:y.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===s}).map(d=>d.callback(p,n)):(i=this.bindings[s])===null||i===void 0||i.filter(d=>{var g,y,S,w,v,b;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in d){const P=d.id,M=(g=d.filter)===null||g===void 0?void 0:g.event;return P&&((y=r.ids)===null||y===void 0?void 0:y.includes(P))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const P=(v=(w=d==null?void 0:d.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return P==="*"||P===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===s}).map(d=>{if(typeof p=="object"&&"ids"in p){const g=p.data,{schema:y,table:S,commit_timestamp:w,type:v,errors:b}=g;p=Object.assign(Object.assign({},{schema:y,table:S,commit_timestamp:w,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(g))}d.callback(p,n)})}_isClosed(){return this.state===da.closed}_isJoined(){return this.state===da.joined}_isJoining(){return this.state===da.joining}_isLeaving(){return this.state===da.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&cp.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ga.close,{},t)}_onError(t){this._on(Ga.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=da.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Pg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Pg(t.columns,t.old_record)),r}}const Y6=()=>{},K6=typeof WebSocket<"u",X6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class J6{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=j6,this.params={},this.timeout=by,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Y6,this.conn=null,this.sendBuffer=[],this.serializer=new $6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>Gi(async()=>{const{default:l}=await Promise.resolve().then(()=>Ul);return{default:l}},void 0).then(({default:l})=>l(...o)):s=fetch,(...o)=>s(...o)},this.endPoint=`${t}/${v1.websocket}`,this.httpEndpoint=Sy(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,s)=>s(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new _y(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(K6){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Q6(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Gi(async()=>{const{default:t}=await import("./browser-B9MUcQHE.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:B6}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Pl.connecting:return so.Connecting;case Pl.open:return so.Open;case Pl.closing:return so.Closing;default:return so.Closed}}isConnected(){return this.connectionState()===so.Open}channel(t,r={config:{}}){const n=new cp(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(Ga.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(q6,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:s}=r;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${s&&"("+s+")"||""}`,i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ga.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([X6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Q6{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Pl.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class dp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ln(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Z6 extends dp{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class b1 extends dp{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var e8=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const xy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gi(async()=>{const{default:n}=await Promise.resolve().then(()=>Ul);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},t8=()=>e8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gi(()=>Promise.resolve().then(()=>Ul),void 0)).Response:Response}),_1=e=>{if(Array.isArray(e))return e.map(r=>_1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=_1(n)}),t};var vo=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const b0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),r8=(e,t,r)=>vo(void 0,void 0,void 0,function*(){const n=yield t8();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new Z6(b0(a),e.status||500))}).catch(a=>{t(new b1(b0(a),a))}):t(new b1(b0(e),e))}),n8=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function td(e,t,r,n,a,i){return vo(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(r,n8(t,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>r8(l,o,n))})})}function Eh(e,t,r,n){return vo(this,void 0,void 0,function*(){return td(e,"GET",t,r,n)})}function ws(e,t,r,n,a){return vo(this,void 0,void 0,function*(){return td(e,"POST",t,n,a,r)})}function a8(e,t,r,n,a){return vo(this,void 0,void 0,function*(){return td(e,"PUT",t,n,a,r)})}function i8(e,t,r,n){return vo(this,void 0,void 0,function*(){return td(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function ky(e,t,r,n,a){return vo(this,void 0,void 0,function*(){return td(e,"DELETE",t,n,a,r)})}var Zn=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const s8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class o8{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=xy(a)}uploadOrUpdate(t,r,n,a){return Zn(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},Tg),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{})),p=yield h.json();return h.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ln(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Zn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Zn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${s}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Tg.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:u}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ln(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Zn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield ws(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),o=s.searchParams.get("token");if(!o)throw new dp("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(n){if(ln(n))return{data:null,error:n};throw n}})}update(t,r,n){return Zn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Zn(this,void 0,void 0,function*(){try{return{data:yield ws(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(ln(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Zn(this,void 0,void 0,function*(){try{return{data:{path:(yield ws(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(ln(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Zn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield ws(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(ln(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Zn(this,void 0,void 0,function*(){try{const a=yield ws(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(ln(a))return{data:null,error:a};throw a}})}download(t,r){return Zn(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Eh(this.fetch,`${this.url}/${a}/${o}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(ln(o))return{data:null,error:o};throw o}})}info(t){return Zn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Eh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:_1(n),error:null}}catch(n){if(ln(n))return{data:null,error:n};throw n}})}exists(t){return Zn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield i8(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ln(n)&&n instanceof b1){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let c=a.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return Zn(this,void 0,void 0,function*(){try{return{data:yield ky(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ln(r))return{data:null,error:r};throw r}})}list(t,r,n){return Zn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},s8),r),{prefix:t||""});return{data:yield ws(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(ln(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const l8="2.7.1",u8={"X-Client-Info":`storage-js/${l8}`};var rl=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class c8{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},u8),r),this.fetch=xy(n)}listBuckets(){return rl(this,void 0,void 0,function*(){try{return{data:yield Eh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ln(t))return{data:null,error:t};throw t}})}getBucket(t){return rl(this,void 0,void 0,function*(){try{return{data:yield Eh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ln(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return rl(this,void 0,void 0,function*(){try{return{data:yield ws(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ln(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return rl(this,void 0,void 0,function*(){try{return{data:yield a8(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ln(n))return{data:null,error:n};throw n}})}emptyBucket(t){return rl(this,void 0,void 0,function*(){try{return{data:yield ws(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ln(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rl(this,void 0,void 0,function*(){try{return{data:yield ky(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ln(r))return{data:null,error:r};throw r}})}}class d8 extends c8{constructor(t,r={},n){super(t,r,n)}from(t){return new o8(this.url,this.headers,t,this.fetch)}}const h8="2.49.1";let _c="";typeof Deno<"u"?_c="deno":typeof document<"u"?_c="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_c="react-native":_c="node";const f8={"X-Client-Info":`supabase-js-${_c}/${h8}`},p8={headers:f8},g8={schema:"public"},m8={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v8={};var y8=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const b8=e=>{let t;return e?t=e:typeof fetch>"u"?t=fy:t=fetch,(...r)=>t(...r)},_8=()=>typeof Headers>"u"?py:Headers,w8=(e,t,r)=>{const n=b8(r),a=_8();return(i,s)=>y8(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let c=new a(s==null?void 0:s.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},s),{headers:c}))})};var S8=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};function x8(e){return e.replace(/\/$/,"")}function k8(e,t){const{db:r,auth:n,realtime:a,global:i}=e,{db:s,auth:o,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},s),r),auth:Object.assign(Object.assign({},o),n),realtime:Object.assign(Object.assign({},l),a),global:Object.assign(Object.assign({},c),i),accessToken:()=>S8(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const Ay="2.68.0",fl=30*1e3,w1=3,_0=w1*fl,A8="http://localhost:9999",P8="supabase.auth.token",C8={"X-Client-Info":`gotrue-js/${Ay}`},S1="X-Supabase-Api-Version",Py={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function L8(e){return Math.round(Date.now()/1e3)+e}function N8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const li=()=>typeof window<"u"&&typeof document<"u",Zs={tested:!1,writable:!1},Oc=()=>{if(!li())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zs.tested)return Zs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zs.tested=!0,Zs.writable=!0}catch{Zs.tested=!0,Zs.writable=!1}return Zs.writable};function T8(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const Cy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gi(async()=>{const{default:n}=await Promise.resolve().then(()=>Ul);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},O8=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ly=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},rh=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},nh=async(e,t)=>{await e.removeItem(t)};function E8(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,a,i,s,o,l,c,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)s=t.indexOf(e.charAt(u++)),o=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),n=s<<2|o>>4,a=(o&15)<<4|l>>2,i=(l&3)<<6|c,r=r+String.fromCharCode(n),l!=64&&a!=0&&(r=r+String.fromCharCode(a)),c!=64&&i!=0&&(r=r+String.fromCharCode(i));return r}class Zh{constructor(){this.promise=new Zh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zh.promiseConstructor=Promise;function Og(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(E8(n))}async function R8(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function M8(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function D8(e){return("0"+e.toString(16)).substr(-2)}function I8(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,D8).join("")}async function F8(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}function j8(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function B8(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await F8(e);return j8(r)}async function nl(e,t,r=!1){const n=I8();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Ly(e,`${t}-code-verifier`,a);const i=await B8(n);return[i,n===i?"plain":"s256"]}const q8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $8(e){const t=e.headers.get(S1);if(!t||!t.match(q8))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class hp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Mt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class U8 extends hp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function V8(e){return Mt(e)&&e.name==="AuthApiError"}class Ny extends hp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class yo extends hp{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class gs extends yo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function G8(e){return Mt(e)&&e.name==="AuthSessionMissingError"}class w0 extends yo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ah extends yo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ih extends yo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function H8(e){return Mt(e)&&e.name==="AuthImplicitGrantRedirectError"}class Eg extends yo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class x1 extends yo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function S0(e){return Mt(e)&&e.name==="AuthRetryableFetchError"}class Rg extends yo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var z8=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const ro=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),W8=[502,503,504];async function Mg(e){var t;if(!O8(e))throw new x1(ro(e),0);if(W8.includes(e.status))throw new x1(ro(e),e.status);let r;try{r=await e.json()}catch(i){throw new Ny(ro(i),i)}let n;const a=$8(e);if(a&&a.getTime()>=Py["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Rg(ro(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new gs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Rg(ro(r),e.status,r.weak_password.reasons);throw new U8(ro(r),e.status||500,n)}const Y8=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Ut(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[S1]||(i[S1]=Py["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await K8(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function K8(e,t,r,n,a,i){const s=Y8(t,n,a,i);let o;try{o=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new x1(ro(l),0)}if(o.ok||await Mg(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Mg(l)}}function ms(e){var t;let r=null;Z8(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=L8(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Dg(e){const t=ms(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ss(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function X8(e){return{data:e,error:null}}function J8(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=z8(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function Q8(e){return e}function Z8(e){return e.access_token&&e.refresh_token&&e.expires_in}var e7=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class t7{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Cy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Ut(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Mt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ut(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ss})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=e7(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Ut(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:J8,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Mt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ut(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ss})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Ut(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Q8});if(u.error)throw u.error;const h=await u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(g.split(";")[1].split("=")[1]);c[`${S}Page`]=y}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(Mt(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await Ut(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ss})}catch(r){if(Mt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Ut(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ss})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ss})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Ut(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Ut(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}}const r7={getItem:e=>Oc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Oc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Oc()&&globalThis.localStorage.removeItem(e)}};function Ig(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function n7(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const al={debug:!!(globalThis&&Oc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ty extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class a7 extends Ty{}async function i7(e,t,r){al.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),al.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){al.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{al.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw al.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new a7(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(al.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}n7();const s7={url:A8,storageKey:P8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:C8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Fg(e,t,r){return await r()}class zc{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zc.nextInstanceID,zc.nextInstanceID+=1,this.instanceID>0&&li()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},s7),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new t7({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Cy(a.fetch),this.lock=a.lock||Fg,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:li()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=i7:this.lock=Fg,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Oc()?this.storage=r7:(this.memoryStorage={},this.storage=Ig(this.memoryStorage)):(this.memoryStorage={},this.storage=Ig(this.memoryStorage)),li()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ay}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=T8(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),li()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),H8(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Mt(r)?{error:r}:{error:new Ny("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ms}),{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Mt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:u,password:h,options:p}=t;let d=null,g=null;this.flowType==="pkce"&&([d,g]=await nl(this.storage,this.storageKey)),i=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:d,code_challenge_method:g},xform:ms})}else if("phone"in t){const{phone:u,password:h,options:p}=t;i=await Ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(a=p==null?void 0:p.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:ms})}else throw new ah("You must provide either an email or phone number and a password");const{data:s,error:o}=i;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Mt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:o}=t;r=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Dg})}else if("phone"in t){const{phone:i,password:s,options:o}=t;r=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Dg})}else throw new ah("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new w0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Mt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await rh(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ms});if(await nh(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new w0}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(Mt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,o=await Ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ms}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new w0}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(Mt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:o,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await nl(this.storage,this.storageKey));const{error:h}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:u}=await Ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new ah("You must provide either an email or phone number.")}catch(o){if(Mt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await Ut(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:ms});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(Mt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await nl(this.storage,this.storageKey)),await Ut(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:X8})}catch(i){if(Mt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new gs;const{error:a}=await Ut(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Mt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await Ut(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:o}=await Ut(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o}}throw new ah("You must provide either an email or phone number and a type")}catch(r){if(Mt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await rh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<_0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ss}):await this._useSession(async r=>{var n,a,i;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gs}:await Ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Ss})})}catch(r){if(Mt(r))return G8(r)&&(await this._removeSession(),await nh(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new gs;const s=a.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await nl(this.storage,this.storageKey));const{data:c,error:u}=await Ut(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Ss});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Mt(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return Og(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new gs;const r=Date.now()/1e3;let n=r,a=!0,i=null;const s=Og(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Mt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new gs;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Mt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!li())throw new ih("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ih(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Eg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ih("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Eg("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:o,expires_at:l,token_type:c}=t;if(!i||!o||!s||!c)throw new ih("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(o);let p=u+h;l&&(p=parseInt(l));const d=p-u;d*1e3<=fl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${h}s`);const g=p-h;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,p,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,p,u);const{data:y,error:S}=await this._getUser(i);if(S)throw S;const w={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:p,refresh_token:s,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(Mt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await rh(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(V8(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await nh(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=N8(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await nl(this.storage,this.storageKey,!0));try{return await Ut(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Mt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,o,l,c,u;const{data:h,error:p}=i;if(p)throw p;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ut(this.fetch,"GET",d,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return li()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Mt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Ut(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await M8(async a=>(a>0&&await R8(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ut(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ms})),(a,i)=>{const s=200*Math.pow(2,a);return i&&S0(i)&&Date.now()+s-n<fl})}catch(n){if(this._debug(r,"error",n),Mt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),li()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await rh(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<_0;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${_0}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),S0(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new gs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Zh;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new gs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(a,"error",i),Mt(i)){const s={session:null,error:i};return S0(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(s),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ly(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await nh(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&li()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),fl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/fl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${fl}ms, refresh threshold is ${w1} ticks`),a<=w1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ty)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!li()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await nl(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ut(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Ut(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:o}=await Ut(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Ut(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Mt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const s=this._decodeJWT(a.access_token);let o=null;s.aal&&(o=s.aal);let l=o;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}zc.nextInstanceID=0;const o7=zc;class l7 extends o7{constructor(t){super(t)}}var u7=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?i(u.value):a(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class c7{constructor(t,r,n){var a,i,s;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=x8(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:g8,realtime:v8,auth:Object.assign(Object.assign({},m8),{storageKey:l}),global:p8},u=k8(n??{},c);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=w8(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new I6(`${o}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new x6(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new d8(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return u7(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:o,debug:l},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l7({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:s,lock:o,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new J6(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const d7=(e,t,r)=>new c7(e,t,r),h7="https://ksyzvskmdyaopajckqra.supabase.co",f7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtzeXp2c2ttZHlhb3BhamNrcXJhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDE5NzEwNzIsImV4cCI6MjA1NzU0NzA3Mn0.ITMQ5luBCqYyLgzTNH3yVj22K2U_C5Cal4L3iRWnA_c",en=d7(h7,f7),Oy="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2025.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Camada_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2081%2046'%20style='enable-background:new%200%200%2081%2046;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{clip-path:url(%23SVGID_2_);}%20.st1{fill:%23007B4E;}%20%3c/style%3e%3cg%3e%3cdefs%3e%3crect%20id='SVGID_1_'%20width='81'%20height='46'/%3e%3c/defs%3e%3cclipPath%20id='SVGID_2_'%3e%3cuse%20xlink:href='%23SVGID_1_'%20style='overflow:visible;'/%3e%3c/clipPath%3e%3cg%20class='st0'%3e%3cpath%20class='st1'%20d='M81,1.7H70.6L48.1,23.8L70.6,46H81L58.5,23.8L81,1.7z'/%3e%3cpath%20class='st1'%20d='M41.1,23.8V46h-7.4V31.1H18.6v-7.3H41.1z'/%3e%3cpath%20class='st1'%20d='M7.4,23.8c0-9.2,7.6-16.6,16.9-16.6c4.3,0,8.4,1.6,11.6,4.5L41,6.6C31.3-2.5,16-2.2,6.7,7.4%20C2.4,11.8,0,17.7,0,23.8H7.4z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",p7="/assets/menu-BTYy-uCu.png",g7=["type"],m7={__name:"BaseButton",props:{label:String,color:{type:String,default:"green"},type:{type:String,default:"button"}},setup(e){return(t,r)=>(be(),Oe("button",{class:xt(["base-button",e.color]),type:e.type},qt(e.label),11,g7))}},Na=pn(m7,[["__scopeId","data-v-5a23f10e"]]),v7={class:"container"},y7=["src"],b7={key:0},_7={key:1},w7={class:"main-content"},S7={class:"header"},x7=["src"],k7={class:"content"},A7={__name:"DashboardView",setup(e){const t=aa(),r=Ie(!1),n=()=>{r.value=!r.value},a=Ie(""),i=Ie(""),s=async()=>{const{data:c}=await en.auth.getUser();if(!c||!c.user)return;const{data:u,error:h}=await en.from("users").select("name, role").eq("auth_id",c.user.id).single();if(h){console.log("Error fecthing user data",h);return}a.value=u.name,i.value=u.role},o=async()=>{await en.auth.signOut(),t.push("/")},l=()=>{t.push("/dashboard")};return nr(s),(c,u)=>{const h=xs("RouterLink"),p=xs("RouterView");return be(),Oe("div",v7,[Ee("aside",{class:xt(["sidebar",{"sidebar-open":r.value}])},[Ee("img",{src:pe(Oy),class:"logo",onClick:l,alt:""},null,8,y7),u[18]||(u[18]=Ee("h1",null,"Service Portal",-1)),i.value&&i.value==="service_leader"?(be(),Oe("nav",b7,[at(h,{to:"/technicians","active-class":"active",onClick:n},{default:dt(()=>u[0]||(u[0]=[ir("Tekniker")])),_:1}),at(h,{to:"/services","active-class":"active",onClick:n},{default:dt(()=>u[1]||(u[1]=[ir("Service")])),_:1}),at(h,{to:"/orders","active-class":"active",onClick:n},{default:dt(()=>u[2]||(u[2]=[ir("Arbetsorder")])),_:1}),at(h,{to:"/projects","active-class":"active",onClick:n},{default:dt(()=>u[3]||(u[3]=[ir("Projekt")])),_:1}),u[8]||(u[8]=Ee("div",{class:"border"},null,-1)),at(h,{to:"/devices","active-class":"active",onClick:n},{default:dt(()=>u[4]||(u[4]=[ir("Mtinstrument")])),_:1}),at(h,{to:"/department","active-class":"active",onClick:n},{default:dt(()=>u[5]||(u[5]=[ir("Avdelning")])),_:1}),at(h,{to:"/skogsblomman","active-class":"active",onClick:n},{default:dt(()=>u[6]||(u[6]=[ir("Skogsblomman")])),_:1}),at(h,{to:"/gkpaint","active-class":"active",onClick:n},{default:dt(()=>u[7]||(u[7]=[ir("GKPaint")])),_:1}),u[9]||(u[9]=Ee("div",{class:"spacer"},null,-1)),at(Na,{label:"Logga ut",color:"white",onClick:o})])):i.value&&i.value==="technician"?(be(),Oe("nav",_7,[at(h,{to:"/services","active-class":"active",onClick:n},{default:dt(()=>u[10]||(u[10]=[ir("Service")])),_:1}),at(h,{to:"/orders","active-class":"active",onClick:n},{default:dt(()=>u[11]||(u[11]=[ir("Arbetsorder")])),_:1}),u[16]||(u[16]=Ee("div",{class:"border"},null,-1)),at(h,{to:"/department","active-class":"active",onClick:n},{default:dt(()=>u[12]||(u[12]=[ir("Avdelning")])),_:1}),at(h,{to:"/skogsblomman","active-class":"active",onClick:n},{default:dt(()=>u[13]||(u[13]=[ir("Skogsblomman")])),_:1}),at(h,{to:"/gkpaint","active-class":"active",onClick:n},{default:dt(()=>u[14]||(u[14]=[ir("GKPaint")])),_:1}),at(h,{to:"/jobs","active-class":"active",onClick:n},{default:dt(()=>u[15]||(u[15]=[ir("Mina jobb")])),_:1}),u[17]||(u[17]=Ee("div",{class:"spacer"},null,-1)),at(Na,{label:"Logga ut",color:"white",onClick:o})])):He("",!0)],2),r.value?(be(),Oe("div",{key:0,class:"overlay",onClick:n})):He("",!0),Ee("div",w7,[Ee("header",S7,[Ee("div",null,[Ee("img",{src:pe(p7),class:"hamburger",alt:"menu",onClick:n},null,8,x7),Ee("p",null,[u[19]||(u[19]=Ee("strong",null,"Inloggad som:",-1)),ir(" "+qt(a.value),1)])])]),Ee("main",k7,[at(p)])])])}}},P7=pn(A7,[["__scopeId","data-v-d368a6ed"]]),C7={class:"login-container"},L7={class:"login-box"},N7=["src"],T7={__name:"LoginView",setup(e){const t=Ie(""),r=Ie(""),n=aa(),a=ra("toast"),i=async()=>{const{error:s}=await en.auth.signInWithPassword({email:t.value,password:r.value});s?a.value.showToast("Fel inloggningsuppgifter, testa igen","error"):n.push("/dashboard")};return(s,o)=>(be(),Oe("div",C7,[Ee("div",L7,[Ee("img",{src:pe(Oy),alt:"Company Logo",class:"login-image"},null,8,N7),Ee("form",{onSubmit:ma(i,["prevent"])},[Jr(Ee("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>t.value=l),type:"email",placeholder:"Email..",class:"input-field",required:""},null,512),[[Un,t.value]]),Jr(Ee("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>r.value=l),type:"password",placeholder:"Lsenord..",class:"input-field",required:""},null,512),[[Un,r.value]]),o[2]||(o[2]=Ee("button",{type:"submit",class:"login-button"},"Logga in",-1))],32)])]))}},O7=pn(T7,[["__scopeId","data-v-90fe9a52"]]),E7="/assets/setting-BStQKzCh.png",R7="/assets/avatar-CBrJvkTF.png",M7={class:"tech-container"},D7={class:"tech-header"},I7={class:"card-container"},F7={class:"card-avatar"},j7=["src"],B7={class:"card-header"},q7=["src"],$7={__name:"TechniciansView",setup(e){const t=aa(),r=Ie([]),n=async()=>{const{data:i,error:s}=await en.from("users").select("id, name, employment_id, phone, email").eq("role","technician");s?console.error("Error fetching tech data:",s):(r.value=i,r.value.sort((o,l)=>o.name.localeCompare(l.name)))},a=()=>{t.push("/technicians/add")};return nr(()=>{n()}),(i,s)=>{const o=xs("router-link");return be(),Oe("div",M7,[Ee("div",D7,[s[0]||(s[0]=Ee("h2",null,"Tekniker",-1)),at(Na,{label:"Lgg till tekniker",color:"green",onClick:a})]),Ee("div",I7,[(be(!0),Oe(ct,null,Jt(r.value,l=>(be(),Oe("div",{class:"card",key:l.id},[Ee("div",F7,[Ee("img",{src:pe(R7),alt:"avatar",style:{width:"70px"}},null,8,j7)]),Ee("div",B7,[Ee("h3",null,qt(l.name),1),at(o,{to:`/technicians/edit/${l.id}`},{default:dt(()=>[Ee("img",{src:pe(E7),alt:""},null,8,q7)]),_:2},1032,["to"])]),Ee("p",null,[s[1]||(s[1]=Ee("strong",null,"Anstllningsnr:",-1)),ir(" "+qt(l.employment_id),1)]),Ee("p",null,[s[2]||(s[2]=Ee("strong",null,"Mail:",-1)),ir(" "+qt(l.email),1)]),Ee("p",null,[s[3]||(s[3]=Ee("strong",null,"Telefon:",-1)),ir(" "+qt(l.phone),1)])]))),128))])])}}},U7=pn($7,[["__scopeId","data-v-59692fd8"]]),V7="/assets/edit-B_CFJpB4.png",G7=["onClick"],H7=["src"],z7={class:"content"},W7={class:"row-title"},Y7={class:"row"},K7={key:1},X7={class:"edit"},J7=["src","onClick"],Q7={__name:"BaseView",props:{tableName:String,fields:Array},setup(e){const t=e,r=aa(),n=Ie([]),a=Ie(!1),i=async()=>{t.tableName==="devices"&&(a.value=!0);let u=en.from(t.tableName).select("*");const{data:h,error:p}=await u;if(p){console.error("Error fetiching data:",p);return}n.value=h,s()},s=()=>{t.tableName==="services"&&n.value.sort((u,h)=>u.customer.localeCompare(h.customer)),t.tableName==="orders"&&n.value.sort((u,h)=>u.ordername.localeCompare(h.ordername)),t.tableName==="projects"&&n.value.sort((u,h)=>u.projectname.localeCompare(h.projectname)),t.tableName==="devices"&&n.value.sort((u,h)=>u.name.localeCompare(h.name))},o=u=>{if(!u)return;const h=new Date,d=new Date(u).getTime()-h.getTime(),g=Math.ceil(d/(1e3*3600*24));return g<0?"text-red":g<=30?"text-orange":""},l=u=>{r.push(`/${t.tableName}/${u}`)},c=u=>{r.push(`/${t.tableName}/edit/${u}`)};return nr(()=>{i()}),(u,h)=>(be(),Oe("div",null,[Ee("ul",null,[(be(!0),Oe(ct,null,Jt(n.value,p=>(be(),Oe("li",{key:p.id,class:"card",onClick:d=>l(p.id)},[Ee("div",null,[a.value?(be(),Oe("img",{key:0,src:p.image_url,class:"device-image",alt:""},null,8,H7)):He("",!0)]),Ee("div",z7,[Ee("div",W7,qt(p[e.fields[0]]),1),Ee("div",Y7,[a.value?(be(),Oe("div",{key:0,class:xt(o(p.nextdate))}," Kalibreras senast: "+qt(p[e.fields[1]]),3)):(be(),Oe("div",K7,qt(p[e.fields[1]]),1))])]),Ee("div",X7,[Ee("img",{src:pe(V7),alt:"",onClick:ma(d=>c(p.id),["stop"])},null,8,J7)])],8,G7))),128))])]))}},ef=pn(Q7,[["__scopeId","data-v-e817fb24"]]),Z7={__name:"OrdersView",setup(e){const t=aa(),r=()=>{t.push("/orders/add")};return(n,a)=>(be(),Oe(ct,null,[Ee("div",null,[a[0]||(a[0]=Ee("h2",null,"Arbetsorder",-1)),at(Na,{label:"Lgg till arbetsorder",color:"green",onClick:r})]),at(ef,{tableName:"orders",fields:["ordername","address"]})],64))}},e9={};function t9(e,t){return"Mina Jobb"}const r9=pn(e9,[["render",t9]]),n9={class:"edit-technician"},a9={__name:"EditTechniciansView",setup(e){const t=op(),r=aa(),n=ra("toast"),a=Ie({name:"",email:"",phone:"",employment_id:"",id:null}),i=async()=>{const c=t.params.id,{data:u,error:h}=await en.from("users").select("*").eq("id",c).single();if(h){console.error("Error fetching technician:",h);return}a.value=u},s=async()=>{const{error:c}=await en.from("users").update({name:a.value.name,email:a.value.email,phone:a.value.phone,employment_id:a.value.employment_id}).eq("id",a.value.id);if(c){console.error("Error updating technician:",c),n.value.showToast("Kunde inte uppdatera tekniker","error");return}n.value.showToast("Tekniker uppdaterad","success"),r.push("/technicians")},o=()=>{window.confirm("Vill du verkligen ta bort denna tekniker?")&&l()},l=async()=>{const{error:c}=await en.from("users").delete().eq("id",a.value.id);if(c){console.error("Error deleting technician:",c);return}n.value.showToast("Tekniker borttagen","warning"),r.push("/technicians")};return nr(()=>{i()}),(c,u)=>(be(),Oe("div",n9,[u[4]||(u[4]=Ee("h3",null,"Redigera",-1)),Ee("form",{onSubmit:ma(s,["prevent"])},[Jr(Ee("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>a.value.name=h),type:"text",placeholder:"Namn.."},null,512),[[Un,a.value.name]]),Jr(Ee("input",{"onUpdate:modelValue":u[1]||(u[1]=h=>a.value.email=h),id:"email",type:"email",placeholder:"Email.."},null,512),[[Un,a.value.email]]),Jr(Ee("input",{"onUpdate:modelValue":u[2]||(u[2]=h=>a.value.phone=h),id:"phone",type:"text",placeholder:"Telefon.."},null,512),[[Un,a.value.phone]]),Jr(Ee("input",{"onUpdate:modelValue":u[3]||(u[3]=h=>a.value.employment_id=h),id:"empId",type:"text",placeholder:"Anstllningsnummer.."},null,512),[[Un,a.value.employment_id]]),at(Na,{label:"Uppdatera",color:"green",type:"submit"})],32),at(Na,{label:"Ta bort tekniker",color:"red",onClick:o})]))}},i9=pn(a9,[["__scopeId","data-v-3727f8e7"]]),s9={__name:"AddTechniciansView",setup(e){const t=aa(),r=Ie(""),n=Ie(""),a=Ie(""),i=Ie(""),s=Ie(""),o=ra("toast"),l=async()=>{const{error:c}=await en.from("users").insert([{name:r.value,employment_id:n.value,phone:a.value,email:i.value,role:"technician"}]);if(c){console.error("Error adding tech:",c),o.value.showToast("Kunde inte skapa ny tekniker","error");return}o.value.showToast("Ny tekniker skapad","success"),r.value=n.value=a.value=i.value=s.value="",t.push("/technicians")};return(c,u)=>(be(),Oe("div",null,[u[5]||(u[5]=Ee("h3",null,"Skapa ny tekniker",-1)),Ee("form",{onSubmit:ma(l,["prevent"])},[Jr(Ee("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>r.value=h),placeholder:"Namn",required:""},null,512),[[Un,r.value]]),Jr(Ee("input",{"onUpdate:modelValue":u[1]||(u[1]=h=>n.value=h),placeholder:"Anstllningsnummer",required:""},null,512),[[Un,n.value]]),Jr(Ee("input",{"onUpdate:modelValue":u[2]||(u[2]=h=>a.value=h),placeholder:"Telefonnummer",required:""},null,512),[[Un,a.value]]),Jr(Ee("input",{"onUpdate:modelValue":u[3]||(u[3]=h=>i.value=h),placeholder:"Email",type:"email",required:""},null,512),[[Un,i.value]]),Jr(Ee("input",{"onUpdate:modelValue":u[4]||(u[4]=h=>s.value=h),placeholder:"Lsenord",type:"password",required:""},null,512),[[Un,s.value]]),at(Na,{label:"Lgg till",color:"green",type:"submit"})],32)]))}},o9=pn(s9,[["__scopeId","data-v-5bfb1303"]]),l9={__name:"ServicesView",setup(e){const t=aa(),r=()=>{t.push("/services/add")};return(n,a)=>(be(),Oe(ct,null,[Ee("div",null,[a[0]||(a[0]=Ee("h2",null,"Service",-1)),at(Na,{label:"Lgg till service",color:"green",onClick:r})]),at(ef,{tableName:"services",fields:["customer","address"]})],64))}},Ey=6048e5,u9=864e5,c9=6e4,Ry=36e5,d9=1e3,jg=Symbol.for("constructDateFrom");function rr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&jg in e?e[jg](t):e instanceof Date?new e.constructor(t):new Date(t)}function yt(e,t){return rr(t||e,e)}function Pa(e,t,r){const n=yt(e,r==null?void 0:r.in);return isNaN(t)?rr((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Wa(e,t,r){const n=yt(e,r==null?void 0:r.in);if(isNaN(t))return rr(e,NaN);if(!t)return n;const a=n.getDate(),i=rr(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const s=i.getDate();return a>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}function My(e,t,r){const{years:n=0,months:a=0,weeks:i=0,days:s=0,hours:o=0,minutes:l=0,seconds:c=0}=t,u=yt(e,r==null?void 0:r.in),h=a||n?Wa(u,a+n*12):u,p=s||i?Pa(h,s+i*7):h,d=l+o*60,y=(c+d*60)*1e3;return rr(e,+p+y)}function h9(e,t,r){return rr(e,+yt(e)+t)}function f9(e,t,r){return h9(e,t*Ry)}let p9={};function bo(){return p9}function Xa(e,t){var o,l,c,u;const r=bo(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=yt(e,t==null?void 0:t.in),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function Dl(e,t){return Xa(e,{...t,weekStartsOn:1})}function Dy(e,t){const r=yt(e,t==null?void 0:t.in),n=r.getFullYear(),a=rr(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Dl(a),s=rr(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Dl(s);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function Rh(e){const t=yt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function rd(e,...t){const r=rr.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Bg(e,t){const r=yt(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function Iy(e,t,r){const[n,a]=rd(r==null?void 0:r.in,e,t),i=Bg(n),s=Bg(a),o=+i-Rh(i),l=+s-Rh(s);return Math.round((o-l)/u9)}function g9(e,t){const r=Dy(e,t),n=rr(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Dl(n)}function m9(e,t,r){return Wa(e,t*3,r)}function fp(e,t,r){return Wa(e,t*12,r)}function qg(e,t){const r=+yt(e)-+yt(t);return r<0?-1:r>0?1:r}function Fy(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ec(e){return!(!Fy(e)&&typeof e!="number"||isNaN(+yt(e)))}function $g(e,t){const r=yt(e,t==null?void 0:t.in);return Math.trunc(r.getMonth()/3)+1}function v9(e,t,r){const[n,a]=rd(r==null?void 0:r.in,e,t);return n.getFullYear()-a.getFullYear()}function y9(e,t,r){const[n,a]=rd(r==null?void 0:r.in,e,t),i=qg(n,a),s=Math.abs(v9(n,a));n.setFullYear(1584),a.setFullYear(1584);const o=qg(n,a)===-i,l=i*(s-+o);return l===0?0:l}function jy(e,t){const[r,n]=rd(e,t.start,t.end);return{start:r,end:n}}function By(e,t){const{start:r,end:n}=jy(t==null?void 0:t.in,e);let a=+r>+n;const i=a?+r:+n,s=a?n:r;s.setHours(0,0,0,0);let o=1;const l=[];for(;+s<=i;)l.push(rr(r,s)),s.setDate(s.getDate()+o),s.setHours(0,0,0,0);return a?l.reverse():l}function lo(e,t){const r=yt(e,t==null?void 0:t.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function b9(e,t){const{start:r,end:n}=jy(t==null?void 0:t.in,e);let a=+r>+n;const i=a?+lo(r):+lo(n);let s=lo(a?n:r),o=1;const l=[];for(;+s<=i;)l.push(rr(r,s)),s=m9(s,o);return a?l.reverse():l}function _9(e,t){const r=yt(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function qy(e,t){const r=yt(e,t==null?void 0:t.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Wc(e,t){const r=yt(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function $y(e,t){var o,l,c,u;const r=bo(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=yt(e,t==null?void 0:t.in),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}function Ug(e,t){const r=yt(e,t==null?void 0:t.in),n=r.getMonth(),a=n-n%3+3;return r.setMonth(a,0),r.setHours(23,59,59,999),r}const w9={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},S9=(e,t,r)=>{let n;const a=w9[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function x0(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const x9={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},k9={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},A9={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},P9={date:x0({formats:x9,defaultWidth:"full"}),time:x0({formats:k9,defaultWidth:"full"}),dateTime:x0({formats:A9,defaultWidth:"full"})},C9={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},L9=(e,t,r,n)=>C9[e];function Cu(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[o]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const N9={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},T9={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},O9={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},E9={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},R9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},M9={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},D9=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},I9={ordinalNumber:D9,era:Cu({values:N9,defaultWidth:"wide"}),quarter:Cu({values:T9,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Cu({values:O9,defaultWidth:"wide"}),day:Cu({values:E9,defaultWidth:"wide"}),dayPeriod:Cu({values:R9,defaultWidth:"wide",formattingValues:M9,defaultFormattingWidth:"wide"})};function Lu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?j9(o,h=>h.test(s)):F9(o,h=>h.test(s));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(s.length);return{value:c,rest:u}}}function F9(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function j9(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function B9(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const o=t.slice(a.length);return{value:s,rest:o}}}const q9=/^(\d+)(th|st|nd|rd)?/i,$9=/\d+/i,U9={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},V9={any:[/^b/i,/^(a|c)/i]},G9={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},H9={any:[/1/i,/2/i,/3/i,/4/i]},z9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},W9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Y9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},K9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},X9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},J9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Q9={ordinalNumber:B9({matchPattern:q9,parsePattern:$9,valueCallback:e=>parseInt(e,10)}),era:Lu({matchPatterns:U9,defaultMatchWidth:"wide",parsePatterns:V9,defaultParseWidth:"any"}),quarter:Lu({matchPatterns:G9,defaultMatchWidth:"wide",parsePatterns:H9,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Lu({matchPatterns:z9,defaultMatchWidth:"wide",parsePatterns:W9,defaultParseWidth:"any"}),day:Lu({matchPatterns:Y9,defaultMatchWidth:"wide",parsePatterns:K9,defaultParseWidth:"any"}),dayPeriod:Lu({matchPatterns:X9,defaultMatchWidth:"any",parsePatterns:J9,defaultParseWidth:"any"})},Uy={code:"en-US",formatDistance:S9,formatLong:P9,formatRelative:L9,localize:I9,match:Q9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Z9(e,t){const r=yt(e,t==null?void 0:t.in);return Iy(r,Wc(r))+1}function pp(e,t){const r=yt(e,t==null?void 0:t.in),n=+Dl(r)-+g9(r);return Math.round(n/Ey)+1}function gp(e,t){var u,h,p,d;const r=yt(e,t==null?void 0:t.in),n=r.getFullYear(),a=bo(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((d=(p=a.locale)==null?void 0:p.options)==null?void 0:d.firstWeekContainsDate)??1,s=rr((t==null?void 0:t.in)||e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=Xa(s,t),l=rr((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const c=Xa(l,t);return+r>=+o?n+1:+r>=+c?n:n-1}function eS(e,t){var o,l,c,u;const r=bo(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,a=gp(e,t),i=rr((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Xa(i,t)}function mp(e,t){const r=yt(e,t==null?void 0:t.in),n=+Xa(r,t)-+eS(r,t);return Math.round(n/Ey)+1}function er(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const cs={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return er(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):er(r+1,2)},d(e,t){return er(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return er(e.getHours()%12||12,t.length)},H(e,t){return er(e.getHours(),t.length)},m(e,t){return er(e.getMinutes(),t.length)},s(e,t){return er(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return er(a,t.length)}},il={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vg={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return cs.y(e,t)},Y:function(e,t,r,n){const a=gp(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return er(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):er(i,t.length)},R:function(e,t){const r=Dy(e);return er(r,t.length)},u:function(e,t){const r=e.getFullYear();return er(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return er(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return er(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return cs.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return er(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=mp(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):er(a,t.length)},I:function(e,t,r){const n=pp(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):er(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):cs.d(e,t)},D:function(e,t,r){const n=Z9(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):er(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return er(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return er(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return er(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=il.noon:n===0?a=il.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=il.evening:n>=12?a=il.afternoon:n>=4?a=il.morning:a=il.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return cs.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):cs.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):er(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):er(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):cs.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):cs.s(e,t)},S:function(e,t){return cs.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Hg(n);case"XXXX":case"XX":return no(n);case"XXXXX":case"XXX":default:return no(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Hg(n);case"xxxx":case"xx":return no(n);case"xxxxx":case"xxx":default:return no(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Gg(n,":");case"OOOO":default:return"GMT"+no(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Gg(n,":");case"zzzz":default:return"GMT"+no(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return er(n,t.length)},T:function(e,t,r){return er(+e,t.length)}};function Gg(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+er(i,2)}function Hg(e,t){return e%60===0?(e>0?"-":"+")+er(Math.abs(e)/60,2):no(e,t)}function no(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=er(Math.trunc(n/60),2),i=er(n%60,2);return r+a+t+i}const zg=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Vy=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},tS=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return zg(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",zg(n,t)).replace("{{time}}",Vy(a,t))},k1={p:Vy,P:tS},rS=/^D+$/,nS=/^Y+$/,aS=["D","DD","YY","YYYY"];function Gy(e){return rS.test(e)}function Hy(e){return nS.test(e)}function A1(e,t,r){const n=iS(e,t,r);if(console.warn(n),aS.includes(e))throw new RangeError(n)}function iS(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lS=/^'([^]*?)'?$/,uS=/''/g,cS=/[a-zA-Z]/;function vi(e,t,r){var u,h,p,d,g,y,S,w;const n=bo(),a=(r==null?void 0:r.locale)??n.locale??Uy,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(p=n.locale)==null?void 0:p.options)==null?void 0:d.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((y=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((w=(S=n.locale)==null?void 0:S.options)==null?void 0:w.weekStartsOn)??0,o=yt(e,r==null?void 0:r.in);if(!Ec(o))throw new RangeError("Invalid time value");let l=t.match(oS).map(v=>{const b=v[0];if(b==="p"||b==="P"){const P=k1[b];return P(v,a.formatLong)}return v}).join("").match(sS).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const b=v[0];if(b==="'")return{isToken:!1,value:dS(v)};if(Vg[b])return{isToken:!0,value:v};if(b.match(cS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:v}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return l.map(v=>{if(!v.isToken)return v.value;const b=v.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Hy(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Gy(b))&&A1(b,t,String(e));const P=Vg[b[0]];return P(o,b,a.localize,c)}).join("")}function dS(e){const t=e.match(lS);return t?t[1].replace(uS,"'"):e}function hS(e,t){return yt(e,t==null?void 0:t.in).getDay()}function fS(e,t){const r=yt(e,t==null?void 0:t.in),n=r.getFullYear(),a=r.getMonth(),i=rr(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function pS(){return Object.assign({},bo())}function Hi(e,t){return yt(e,t==null?void 0:t.in).getHours()}function gS(e,t){const r=yt(e,t==null?void 0:t.in).getDay();return r===0?7:r}function Ts(e,t){return yt(e,t==null?void 0:t.in).getMinutes()}function jt(e,t){return yt(e,t==null?void 0:t.in).getMonth()}function Il(e){return yt(e).getSeconds()}function kt(e,t){return yt(e,t==null?void 0:t.in).getFullYear()}function go(e,t){return+yt(e)>+yt(t)}function Fl(e,t){return+yt(e)<+yt(t)}function yl(e,t){return+yt(e)==+yt(t)}function mS(e,t){const r=vS(t)?new t(0):rr(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function vS(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const yS=10;class zy{constructor(){lt(this,"subPriority",0)}validate(t,r){return!0}}class bS extends zy{constructor(t,r,n,a,i){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,i&&(this.subPriority=i)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class _S extends zy{constructor(r,n){super();lt(this,"priority",yS);lt(this,"subPriority",-1);this.context=r||(a=>rr(n,a))}set(r,n){return n.timestampIsSet?r:rr(r,mS(r,this.context))}}class Wt{run(t,r,n,a){const i=this.parse(t,r,n,a);return i?{setter:new bS(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,r,n){return!0}}class wS extends Wt{constructor(){super(...arguments);lt(this,"priority",140);lt(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const jr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},hi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Br(e,t){return e&&{value:t(e.value),rest:e.rest}}function xr(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function fi(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,s=r[5]?parseInt(r[5],10):0;return{value:n*(a*Ry+i*c9+s*d9),rest:t.slice(r[0].length)}}function Wy(e){return xr(jr.anyDigitsSigned,e)}function Lr(e,t){switch(e){case 1:return xr(jr.singleDigit,t);case 2:return xr(jr.twoDigits,t);case 3:return xr(jr.threeDigits,t);case 4:return xr(jr.fourDigits,t);default:return xr(new RegExp("^\\d{1,"+e+"}"),t)}}function Mh(e,t){switch(e){case 1:return xr(jr.singleDigitSigned,t);case 2:return xr(jr.twoDigitsSigned,t);case 3:return xr(jr.threeDigitsSigned,t);case 4:return xr(jr.fourDigitsSigned,t);default:return xr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function vp(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Yy(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const i=n+50,s=Math.trunc(i/100)*100,o=e>=i%100;a=e+s-(o?100:0)}return r?a:1-a}function Ky(e){return e%400===0||e%4===0&&e%100!==0}class SS extends Wt{constructor(){super(...arguments);lt(this,"priority",130);lt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const i=s=>({year:s,isTwoDigitYear:n==="yy"});switch(n){case"y":return Br(Lr(4,r),i);case"yo":return Br(a.ordinalNumber(r,{unit:"year"}),i);default:return Br(Lr(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const i=r.getFullYear();if(a.isTwoDigitYear){const o=Yy(a.year,i);return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}const s=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class xS extends Wt{constructor(){super(...arguments);lt(this,"priority",130);lt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const i=s=>({year:s,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Br(Lr(4,r),i);case"Yo":return Br(a.ordinalNumber(r,{unit:"year"}),i);default:return Br(Lr(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,i){const s=gp(r,i);if(a.isTwoDigitYear){const l=Yy(a.year,s);return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Xa(r,i)}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Xa(r,i)}}class kS extends Wt{constructor(){super(...arguments);lt(this,"priority",130);lt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return Mh(n==="R"?4:n.length,r)}set(r,n,a){const i=rr(r,0);return i.setFullYear(a,0,4),i.setHours(0,0,0,0),Dl(i)}}class AS extends Wt{constructor(){super(...arguments);lt(this,"priority",130);lt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return Mh(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class PS extends Wt{constructor(){super(...arguments);lt(this,"priority",120);lt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return Lr(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class CS extends Wt{constructor(){super(...arguments);lt(this,"priority",120);lt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return Lr(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class LS extends Wt{constructor(){super(...arguments);lt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);lt(this,"priority",110)}parse(r,n,a){const i=s=>s-1;switch(n){case"M":return Br(xr(jr.month,r),i);case"MM":return Br(Lr(2,r),i);case"Mo":return Br(a.ordinalNumber(r,{unit:"month"}),i);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class NS extends Wt{constructor(){super(...arguments);lt(this,"priority",110);lt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const i=s=>s-1;switch(n){case"L":return Br(xr(jr.month,r),i);case"LL":return Br(Lr(2,r),i);case"Lo":return Br(a.ordinalNumber(r,{unit:"month"}),i);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function TS(e,t,r){const n=yt(e,r==null?void 0:r.in),a=mp(n,r)-t;return n.setDate(n.getDate()-a*7),yt(n,r==null?void 0:r.in)}class OS extends Wt{constructor(){super(...arguments);lt(this,"priority",100);lt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return xr(jr.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Lr(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,i){return Xa(TS(r,a,i),i)}}function ES(e,t,r){const n=yt(e,r==null?void 0:r.in),a=pp(n,r)-t;return n.setDate(n.getDate()-a*7),n}class RS extends Wt{constructor(){super(...arguments);lt(this,"priority",100);lt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return xr(jr.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Lr(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return Dl(ES(r,a))}}const MS=[31,28,31,30,31,30,31,31,30,31,30,31],DS=[31,29,31,30,31,30,31,31,30,31,30,31];class IS extends Wt{constructor(){super(...arguments);lt(this,"priority",90);lt(this,"subPriority",1);lt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return xr(jr.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Lr(n.length,r)}}validate(r,n){const a=r.getFullYear(),i=Ky(a),s=r.getMonth();return i?n>=1&&n<=DS[s]:n>=1&&n<=MS[s]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class FS extends Wt{constructor(){super(...arguments);lt(this,"priority",90);lt(this,"subpriority",1);lt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return xr(jr.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Lr(n.length,r)}}validate(r,n){const a=r.getFullYear();return Ky(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function yp(e,t,r){var h,p,d,g;const n=bo(),a=(r==null?void 0:r.weekStartsOn)??((p=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((g=(d=n.locale)==null?void 0:d.options)==null?void 0:g.weekStartsOn)??0,i=yt(e,r==null?void 0:r.in),s=i.getDay(),l=(t%7+7)%7,c=7-a,u=t<0||t>6?t-(s+c)%7:(l+c)%7-(s+c)%7;return Pa(i,u,r)}class jS extends Wt{constructor(){super(...arguments);lt(this,"priority",90);lt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=yp(r,a,i),r.setHours(0,0,0,0),r}}class BS extends Wt{constructor(){super(...arguments);lt(this,"priority",90);lt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,i){const s=o=>{const l=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return Br(Lr(n.length,r),s);case"eo":return Br(a.ordinalNumber(r,{unit:"day"}),s);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=yp(r,a,i),r.setHours(0,0,0,0),r}}class qS extends Wt{constructor(){super(...arguments);lt(this,"priority",90);lt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,i){const s=o=>{const l=Math.floor((o-1)/7)*7;return(o+i.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return Br(Lr(n.length,r),s);case"co":return Br(a.ordinalNumber(r,{unit:"day"}),s);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,i){return r=yp(r,a,i),r.setHours(0,0,0,0),r}}function $S(e,t,r){const n=yt(e,r==null?void 0:r.in),a=gS(n,r),i=t-a;return Pa(n,i,r)}class US extends Wt{constructor(){super(...arguments);lt(this,"priority",90);lt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const i=s=>s===0?7:s;switch(n){case"i":case"ii":return Lr(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return Br(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Br(a.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Br(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Br(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=$S(r,a),r.setHours(0,0,0,0),r}}class VS extends Wt{constructor(){super(...arguments);lt(this,"priority",80);lt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(vp(a),0,0,0),r}}class GS extends Wt{constructor(){super(...arguments);lt(this,"priority",80);lt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(vp(a),0,0,0),r}}class HS extends Wt{constructor(){super(...arguments);lt(this,"priority",80);lt(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(vp(a),0,0,0),r}}class zS extends Wt{constructor(){super(...arguments);lt(this,"priority",70);lt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return xr(jr.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Lr(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const i=r.getHours()>=12;return i&&a<12?r.setHours(a+12,0,0,0):!i&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class WS extends Wt{constructor(){super(...arguments);lt(this,"priority",70);lt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return xr(jr.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Lr(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class YS extends Wt{constructor(){super(...arguments);lt(this,"priority",70);lt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return xr(jr.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Lr(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class KS extends Wt{constructor(){super(...arguments);lt(this,"priority",70);lt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return xr(jr.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Lr(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const i=a<=24?a%24:a;return r.setHours(i,0,0,0),r}}class XS extends Wt{constructor(){super(...arguments);lt(this,"priority",60);lt(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return xr(jr.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Lr(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class JS extends Wt{constructor(){super(...arguments);lt(this,"priority",50);lt(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return xr(jr.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Lr(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class QS extends Wt{constructor(){super(...arguments);lt(this,"priority",30);lt(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Br(Lr(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class ZS extends Wt{constructor(){super(...arguments);lt(this,"priority",10);lt(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return fi(hi.basicOptionalMinutes,r);case"XX":return fi(hi.basic,r);case"XXXX":return fi(hi.basicOptionalSeconds,r);case"XXXXX":return fi(hi.extendedOptionalSeconds,r);case"XXX":default:return fi(hi.extended,r)}}set(r,n,a){return n.timestampIsSet?r:rr(r,r.getTime()-Rh(r)-a)}}class ex extends Wt{constructor(){super(...arguments);lt(this,"priority",10);lt(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return fi(hi.basicOptionalMinutes,r);case"xx":return fi(hi.basic,r);case"xxxx":return fi(hi.basicOptionalSeconds,r);case"xxxxx":return fi(hi.extendedOptionalSeconds,r);case"xxx":default:return fi(hi.extended,r)}}set(r,n,a){return n.timestampIsSet?r:rr(r,r.getTime()-Rh(r)-a)}}class tx extends Wt{constructor(){super(...arguments);lt(this,"priority",40);lt(this,"incompatibleTokens","*")}parse(r){return Wy(r)}set(r,n,a){return[rr(r,a*1e3),{timestampIsSet:!0}]}}class rx extends Wt{constructor(){super(...arguments);lt(this,"priority",20);lt(this,"incompatibleTokens","*")}parse(r){return Wy(r)}set(r,n,a){return[rr(r,a),{timestampIsSet:!0}]}}const nx={G:new wS,y:new SS,Y:new xS,R:new kS,u:new AS,Q:new PS,q:new CS,M:new LS,L:new NS,w:new OS,I:new RS,d:new IS,D:new FS,E:new jS,e:new BS,c:new qS,i:new US,a:new VS,b:new GS,B:new HS,h:new zS,H:new WS,K:new YS,k:new KS,m:new XS,s:new JS,S:new QS,X:new ZS,x:new ex,t:new tx,T:new rx},ax=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ix=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sx=/^'([^]*?)'?$/,ox=/''/g,lx=/\S/,ux=/[a-zA-Z]/;function P1(e,t,r,n){var S,w,v,b,P,M,F,U;const a=()=>rr((n==null?void 0:n.in)||r,NaN),i=pS(),s=(n==null?void 0:n.locale)??i.locale??Uy,o=(n==null?void 0:n.firstWeekContainsDate)??((w=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:w.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(v=i.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((M=(P=n==null?void 0:n.locale)==null?void 0:P.options)==null?void 0:M.weekStartsOn)??i.weekStartsOn??((U=(F=i.locale)==null?void 0:F.options)==null?void 0:U.weekStartsOn)??0;if(!t)return e?a():yt(r,n==null?void 0:n.in);const c={firstWeekContainsDate:o,weekStartsOn:l,locale:s},u=[new _S(n==null?void 0:n.in,r)],h=t.match(ix).map(O=>{const R=O[0];if(R in k1){const T=k1[R];return T(O,s.formatLong)}return O}).join("").match(ax),p=[];for(let O of h){!(n!=null&&n.useAdditionalWeekYearTokens)&&Hy(O)&&A1(O,t,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Gy(O)&&A1(O,t,e);const R=O[0],T=nx[R];if(T){const{incompatibleTokens:C}=T;if(Array.isArray(C)){const x=p.find(k=>C.includes(k.token)||k.token===R);if(x)throw new RangeError(`The format string mustn't contain \`${x.fullToken}\` and \`${O}\` at the same time`)}else if(T.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${O}\` and any other token at the same time`);p.push({token:R,fullToken:O});const E=T.run(e,O,s.match,c);if(!E)return a();u.push(E.setter),e=E.rest}else{if(R.match(ux))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(O==="''"?O="'":R==="'"&&(O=cx(O)),e.indexOf(O)===0)e=e.slice(O.length);else return a()}}if(e.length>0&&lx.test(e))return a();const d=u.map(O=>O.priority).sort((O,R)=>R-O).filter((O,R,T)=>T.indexOf(O)===R).map(O=>u.filter(R=>R.priority===O).sort((R,T)=>T.subPriority-R.subPriority)).map(O=>O[0]);let g=yt(r,n==null?void 0:n.in);if(isNaN(+g))return a();const y={};for(const O of d){if(!O.validate(g,c))return a();const R=O.set(g,y,c);Array.isArray(R)?(g=R[0],Object.assign(y,R[1])):g=R}return g}function cx(e){return e.match(sx)[1].replace(ox,"'")}function Wg(e,t,r){const[n,a]=rd(r==null?void 0:r.in,e,t);return+lo(n)==+lo(a)}function Xy(e,t,r){return Pa(e,-t,r)}function Jy(e,t,r){const n=yt(e,r==null?void 0:r.in),a=n.getFullYear(),i=n.getDate(),s=rr(e,0);s.setFullYear(a,t,15),s.setHours(0,0,0,0);const o=fS(s);return n.setMonth(t,Math.min(i,o)),n}function sr(e,t,r){let n=yt(e,r==null?void 0:r.in);return isNaN(+n)?rr(e,NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=Jy(n,t.month)),t.date!=null&&n.setDate(t.date),t.hours!=null&&n.setHours(t.hours),t.minutes!=null&&n.setMinutes(t.minutes),t.seconds!=null&&n.setSeconds(t.seconds),t.milliseconds!=null&&n.setMilliseconds(t.milliseconds),n)}function dx(e,t,r){const n=yt(e,r==null?void 0:r.in);return n.setHours(t),n}function Qy(e,t,r){const n=yt(e,r==null?void 0:r.in);return n.setMilliseconds(t),n}function hx(e,t,r){const n=yt(e,r==null?void 0:r.in);return n.setMinutes(t),n}function Zy(e,t,r){const n=yt(e,r==null?void 0:r.in);return n.setSeconds(t),n}function pi(e,t,r){const n=yt(e,r==null?void 0:r.in);return isNaN(+n)?rr(e,NaN):(n.setFullYear(t),n)}function jl(e,t,r){return Wa(e,-t,r)}function fx(e,t,r){const{years:n=0,months:a=0,weeks:i=0,days:s=0,hours:o=0,minutes:l=0,seconds:c=0}=t,u=jl(e,a+n*12,r),h=Xy(u,s+i*7,r),p=l+o*60,g=(c+p*60)*1e3;return rr(e,+h-g)}function eb(e,t,r){return fp(e,-t,r)}function Vl(){const e=W4();return be(),Oe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...e},[Ee("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Ee("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ee("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ee("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Vl.compatConfig={MODE:3};function tb(){return be(),Oe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Ee("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Ee("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}tb.compatConfig={MODE:3};function bp(){return be(),Oe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Ee("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}bp.compatConfig={MODE:3};function _p(){return be(),Oe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Ee("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}_p.compatConfig={MODE:3};function wp(){return be(),Oe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Ee("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Ee("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}wp.compatConfig={MODE:3};function Sp(){return be(),Oe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Ee("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Sp.compatConfig={MODE:3};function xp(){return be(),Oe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Ee("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}xp.compatConfig={MODE:3};const na=(e,t)=>t?new Date(e.toLocaleString("en-US",{timeZone:t})):new Date(e),kp=(e,t,r)=>C1(e,t,r)||Ye(),px=(e,t,r)=>{const n=t.dateInTz?na(new Date(e),t.dateInTz):Ye(e);return r?fn(n,!0):n},C1=(e,t,r)=>{if(!e)return null;const n=r?fn(Ye(e),!0):Ye(e);return t?t.exactMatch?px(e,t,r):na(n,t.timezone):n},gx=e=>{const t=new Date(e.getFullYear(),0,1).getTimezoneOffset();return e.getTimezoneOffset()<t},mx=(e,t)=>{if(!e)return 0;const r=new Date,n=new Date(r.toLocaleString("en-US",{timeZone:"UTC"})),a=new Date(r.toLocaleString("en-US",{timeZone:e})),i=(gx(t??a)?a:t??a).getTimezoneOffset()/60;return(+n-+a)/(1e3*60*60)-i};var $a=(e=>(e.month="month",e.year="year",e))($a||{}),Ua=(e=>(e.top="top",e.bottom="bottom",e))(Ua||{}),co=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(co||{}),Ln=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(Ln||{});const vx=["timestamp","date","iso"];var Fn=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(Fn||{}),vr=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(vr||{}),Cl=(e=>(e.MONTH_AND_YEAR="MM-yyyy",e.YEAR="yyyy",e.DATE="dd-MM-yyyy",e))(Cl||{});function Yg(e){return t=>{const r=new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`));return e==="ar"?r.slice(2,5):r.slice(0,2)}}function yx(e){return t=>vi(na(new Date(`2017-01-0${t}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:e})}const bx=(e,t,r)=>{const n=[1,2,3,4,5,6,7];let a;if(e!==null)try{a=n.map(yx(e))}catch{a=n.map(Yg(t))}else a=n.map(Yg(t));const i=a.slice(0,r),s=a.slice(r+1,a.length);return[a[r]].concat(...s).concat(...i)},Ap=(e,t,r)=>{const n=[];for(let a=+e[0];a<=+e[1];a++)n.push({value:+a,text:ib(a,t)});return r?n.reverse():n},rb=(e,t,r)=>{const n=[1,2,3,4,5,6,7,8,9,10,11,12].map(i=>{const s=i<10?`0${i}`:i;return new Date(`2017-${s}-01T00:00:00+00:00`)});if(e!==null)try{const i=r==="long"?"LLLL":"LLL";return n.map((s,o)=>{const l=vi(na(s,"UTC"),i,{locale:e});return{text:l.charAt(0).toUpperCase()+l.substring(1),value:o}})}catch{}const a=new Intl.DateTimeFormat(t,{month:r,timeZone:"UTC"});return n.map((i,s)=>{const o=a.format(i);return{text:o.charAt(0).toUpperCase()+o.substring(1),value:s}})},_x=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],zr=e=>{const t=pe(e);return t!=null&&t.$el?t==null?void 0:t.$el:t},wx=e=>({type:"dot",...e??{}}),nb=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,Pp={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},on=e=>e,Kg=e=>e===0?e:!e||isNaN(+e)?null:+e,Xg=e=>e===null,ab=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},Sx=e=>{const t=[],r=n=>n.filter(a=>a);for(let n=0;n<e.length;n+=3){const a=[e[n],e[n+1],e[n+2]];t.push(r(a))}return t},Yc=(e,t,r)=>{const n=r!=null,a=t!=null;if(!n&&!a)return!1;const i=+r,s=+t;return n&&a?+e>i||+e<s:n?+e>i:a?+e<s:!1},Bl=(e,t)=>Sx(e).map(r=>r.map(n=>{const{active:a,disabled:i,isBetween:s,highlighted:o}=t(n);return{...n,active:a,disabled:i,className:{dp__overlay_cell_active:a,dp__overlay_cell:!a,dp__overlay_cell_disabled:i,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:i&&a,dp__cell_in_between:s,"dp--highlighted":o}}})),Cs=(e,t,r=!1)=>{e&&t.allowStopPropagation&&(r&&e.stopImmediatePropagation(),e.stopPropagation())},xx=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function kx(e,t){let r=[...document.querySelectorAll(xx())];r=r.filter(a=>!e.contains(a)||a.hasAttribute("data-datepicker-instance"));const n=r.indexOf(e);if(n>=0&&(t?n-1>=0:n+1<=r.length))return r[n+(t?-1:1)]}const L1=(e,t)=>e==null?void 0:e.querySelector(`[data-dp-element="${t}"]`),ib=(e,t)=>new Intl.NumberFormat(t,{useGrouping:!1,style:"decimal"}).format(e),Cp=(e,t)=>vi(e,t??Cl.DATE),k0=e=>Array.isArray(e),Dh=(e,t,r)=>t.get(Cp(e,r)),Ax=(e,t)=>e?t?t instanceof Map?!!Dh(e,t):t(Ye(e)):!1:!0,Gn=(e,t,r=!1,n)=>{if(e.key===vr.enter||e.key===vr.space)return r&&e.preventDefault(),t();if(n)return n(e)},Px=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,sb=(e,t)=>e?Cl.MONTH_AND_YEAR:t?Cl.YEAR:Cl.DATE,ob=e=>e<10?`0${e}`:e,Jg=(e,t,r,n,a,i)=>{const s=P1(e,t.slice(0,e.length),new Date,{locale:i});return Ec(s)&&Fy(s)?n||a?s:sr(s,{hours:+r.hours,minutes:+(r==null?void 0:r.minutes),seconds:+(r==null?void 0:r.seconds),milliseconds:0}):null},Cx=(e,t,r,n,a,i)=>{const s=Array.isArray(r)?r[0]:r;if(typeof t=="string")return Jg(e,t,s,n,a,i);if(Array.isArray(t)){let o=null;for(const l of t)if(o=Jg(e,l,s,n,a,i),o)break;return o}return typeof t=="function"?t(e):null},Ye=e=>e?new Date(e):new Date,Lx=(e,t,r)=>{if(t){const a=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0"),s=e.getHours().toString().padStart(2,"0"),o=e.getMinutes().toString().padStart(2,"0"),l=r?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${a}-${i}T${s}:${o}:${l}.000Z`}const n=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(n).toISOString()},fn=(e,t)=>{const r=Ye(JSON.parse(JSON.stringify(e))),n=sr(r,{hours:0,minutes:0,seconds:0,milliseconds:0});return t?_9(n):n},Ls=(e,t,r,n)=>{let a=e?Ye(e):Ye();return(t||t===0)&&(a=dx(a,+t)),(r||r===0)&&(a=hx(a,+r)),(n||n===0)&&(a=Zy(a,+n)),Qy(a,0)},Cr=(e,t)=>!e||!t?!1:Fl(fn(e),fn(t)),Bt=(e,t)=>!e||!t?!1:yl(fn(e),fn(t)),Mr=(e,t)=>!e||!t?!1:go(fn(e),fn(t)),Kc=(e,t,r)=>e!=null&&e[0]&&e!=null&&e[1]?Mr(r,e[0])&&Cr(r,e[1]):e!=null&&e[0]&&t?Mr(r,e[0])&&Cr(r,t)||Cr(r,e[0])&&Mr(r,t):!1,Ha=e=>{const t=sr(new Date(e),{date:1});return fn(t)},A0=(e,t,r)=>t&&(r||r===0)?Object.fromEntries(["hours","minutes","seconds"].map(n=>n===t?[n,r]:[n,isNaN(+e[n])?void 0:+e[n]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},ho=e=>({hours:Hi(e),minutes:Ts(e),seconds:Il(e)}),lb=(e,t)=>{if(t){const r=kt(Ye(t));if(r>e)return 12;if(r===e)return jt(Ye(t))}},ub=(e,t)=>{if(t){const r=kt(Ye(t));return r<e?-1:r===e?jt(Ye(t)):void 0}},ql=e=>{if(e)return kt(Ye(e))},cb=(e,t)=>{const r=Mr(e,t)?t:e,n=Mr(t,e)?t:e;return By({start:r,end:n})},Nx=e=>{const t=Wa(e,1);return{month:jt(t),year:kt(t)}},Bi=(e,t)=>{const r=Xa(e,{weekStartsOn:+t}),n=$y(e,{weekStartsOn:+t});return[r,n]},db=(e,t)=>{const r={hours:Hi(Ye()),minutes:Ts(Ye()),seconds:t?Il(Ye()):0};return Object.assign(r,e)},ks=(e,t,r)=>[sr(Ye(e),{date:1}),sr(Ye(),{month:t,year:r,date:1})],Ui=(e,t,r)=>{let n=e?Ye(e):Ye();return(t||t===0)&&(n=Jy(n,t)),r&&(n=pi(n,r)),n},hb=(e,t,r,n,a)=>{if(!n||a&&!t||!a&&!r)return!1;const i=a?Wa(e,1):jl(e,1),s=[jt(i),kt(i)];return a?!Ox(...s,t):!Tx(...s,r)},Tx=(e,t,r)=>Cr(...ks(r,e,t))||Bt(...ks(r,e,t)),Ox=(e,t,r)=>Mr(...ks(r,e,t))||Bt(...ks(r,e,t)),fb=(e,t,r,n,a,i,s)=>{if(typeof t=="function"&&!s)return t(e);const o=r?{locale:r}:void 0;return Array.isArray(e)?`${vi(e[0],i,o)}${a&&!e[1]?"":n}${e[1]?vi(e[1],i,o):""}`:vi(e,i,o)},sl=e=>{if(e)return null;throw new Error(Pp.prop("partial-range"))},sh=(e,t)=>{if(t)return e();throw new Error(Pp.prop("range"))},N1=e=>Array.isArray(e)?Ec(e[0])&&(e[1]?Ec(e[1]):!0):e?Ec(e):!1,Ex=(e,t)=>sr(t??Ye(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),P0=(e,t,r,n)=>{if(!e)return!0;if(n){const a=r==="max"?Fl(e,t):go(e,t),i={seconds:0,milliseconds:0};return a||yl(sr(e,i),sr(t,i))}return r==="max"?e.getTime()<=t.getTime():e.getTime()>=t.getTime()},C0=(e,t,r)=>e?Ex(e,t):Ye(r??t),Qg=(e,t,r,n,a)=>{if(Array.isArray(n)){const s=C0(e,n[0],t),o=C0(e,n[1],t);return P0(n[0],s,r,!!t)&&P0(n[1],o,r,!!t)&&a}const i=C0(e,n,t);return P0(n,i,r,!!t)&&a},L0=e=>sr(Ye(),ho(e)),Rx=(e,t,r)=>{if(e instanceof Map){const n=`${ob(r+1)}-${t}`;return e.size?e.has(n):!1}return typeof e=="function"?e(fn(sr(Ye(),{month:r,year:t}),!0)):!1},Mx=(e,t,r)=>{if(e instanceof Map){const n=`${ob(r+1)}-${t}`;return e.size?e.has(n):!0}return!0},pb=(e,t,r)=>typeof e=="function"?e({month:t,year:r}):!!e.months.find(n=>n.month===t&&n.year===r),Lp=(e,t)=>typeof e=="function"?e(t):e.years.includes(t),T1=e=>`dp-${vi(e,"yyyy-MM-dd")}`,Zg=(e,t)=>{const r=Xy(fn(t),e),n=Pa(fn(t),e);return{before:r,after:n}},Nu=ga({menuFocused:!1,shiftKeyInMenu:!1}),gb=()=>{const e=r=>{Nu.menuFocused=r},t=r=>{Nu.shiftKeyInMenu!==r&&(Nu.shiftKeyInMenu=r)};return{control:Ue(()=>({shiftKeyInMenu:Nu.shiftKeyInMenu,menuFocused:Nu.menuFocused})),setMenuFocused:e,setShiftKey:t}},mr=ga({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),N0=Ie(null),oh=Ie(!1),T0=Ie(!1),O0=Ie(!1),E0=Ie(!1),xn=Ie(0),Rr=Ie(0),Is=()=>{const e=Ue(()=>oh.value?[...mr.selectionGrid,mr.actionRow].filter(h=>h.length):T0.value?[...mr.timePicker[0],...mr.timePicker[1],E0.value?[]:[N0.value],mr.actionRow].filter(h=>h.length):O0.value?[...mr.monthPicker,mr.actionRow]:[mr.monthYear,...mr.calendar,mr.time,mr.actionRow].filter(h=>h.length)),t=h=>{xn.value=h?xn.value+1:xn.value-1;let p=null;e.value[Rr.value]&&(p=e.value[Rr.value][xn.value]),!p&&e.value[Rr.value+(h?1:-1)]?(Rr.value=Rr.value+(h?1:-1),xn.value=h?0:e.value[Rr.value].length-1):p||(xn.value=h?xn.value-1:xn.value+1)},r=h=>{Rr.value===0&&!h||Rr.value===e.value.length&&h||(Rr.value=h?Rr.value+1:Rr.value-1,e.value[Rr.value]?e.value[Rr.value]&&!e.value[Rr.value][xn.value]&&xn.value!==0&&(xn.value=e.value[Rr.value].length-1):Rr.value=h?Rr.value-1:Rr.value+1)},n=h=>{let p=null;e.value[Rr.value]&&(p=e.value[Rr.value][xn.value]),p?p.focus({preventScroll:!oh.value}):xn.value=h?xn.value-1:xn.value+1},a=()=>{t(!0),n(!0)},i=()=>{t(!1),n(!1)},s=()=>{r(!1),n(!0)},o=()=>{r(!0),n(!0)},l=(h,p)=>{mr[p]=h},c=(h,p)=>{mr[p]=h},u=()=>{xn.value=0,Rr.value=0};return{buildMatrix:l,buildMultiLevelMatrix:c,setTimePickerBackRef:h=>{N0.value=h},setSelectionGrid:h=>{oh.value=h,u(),h||(mr.selectionGrid=[])},setTimePicker:(h,p=!1)=>{T0.value=h,E0.value=p,u(),h||(mr.timePicker[0]=[],mr.timePicker[1]=[])},setTimePickerElements:(h,p=0)=>{mr.timePicker[p]=h},arrowRight:a,arrowLeft:i,arrowUp:s,arrowDown:o,clearArrowNav:()=>{mr.monthYear=[],mr.calendar=[],mr.time=[],mr.actionRow=[],mr.selectionGrid=[],mr.timePicker[0]=[],mr.timePicker[1]=[],oh.value=!1,T0.value=!1,E0.value=!1,O0.value=!1,u(),N0.value=null},setMonthPicker:h=>{O0.value=h,u()},refSets:mr}},em=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),Dx=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:t=>`Month picker${t?" overlay":""}`,yearPicker:t=>`Year picker${t?" overlay":""}`,timeOverlay:t=>`${t} overlay`,...e??{}}),tm=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,Ix=e=>{const t=typeof e=="object"&&e,r={static:!0,solo:!1};if(!e)return{...r,count:tm(!1)};const n=t?e:{},a=t?n.count??!0:e,i=tm(a);return Object.assign(r,n,{count:i})},Fx=(e,t,r)=>e||(typeof r=="string"?r:t),jx=e=>typeof e=="boolean"?e?em({}):!1:em(e),Bx=e=>{const t={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0};return typeof e=="object"?{...t,...e??{},enabled:!0}:{...t,enabled:e}},qx=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),$x=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),Ux=e=>{const t={input:!1};return typeof e=="object"?{...t,...e??{},enabled:!0}:{enabled:e,...t}},Vx=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1,...e??{}}),Gx=e=>{const t={dates:Array.isArray(e)?e.map(r=>Ye(r)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...t,...e??{}}},Hx=e=>typeof e=="object"?{type:(e==null?void 0:e.type)??"local",hideOnOffsetDates:(e==null?void 0:e.hideOnOffsetDates)??!1}:{type:e,hideOnOffsetDates:!1},zx=e=>{const t={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof e=="object"?{enabled:!0,...t,...e}:{enabled:e,...t}},Wx=e=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:e.emitTimezone??void 0,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},R0=(e,t,r,n)=>new Map(e.map(a=>{const i=kp(a,t,n);return[Cp(i,r),i]})),Yx=(e,t)=>e.length?new Map(e.map(r=>{const n=kp(r.date,t);return[Cp(n,Cl.DATE),r]})):null,Kx=e=>{var t;const r=sb(e.isMonthPicker,e.isYearPicker);return{minDate:C1(e.minDate,e.timezone,e.isSpecific),maxDate:C1(e.maxDate,e.timezone,e.isSpecific),disabledDates:k0(e.disabledDates)?R0(e.disabledDates,e.timezone,r,e.isSpecific):e.disabledDates,allowedDates:k0(e.allowedDates)?R0(e.allowedDates,e.timezone,r,e.isSpecific):null,highlight:typeof e.highlight=="object"&&k0((t=e.highlight)==null?void 0:t.dates)?R0(e.highlight.dates,e.timezone,r):e.highlight,markers:Yx(e.markers,e.timezone)}},Xx=e=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:null}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},Jx=e=>({...Object.fromEntries(Object.keys(e).map(t=>{const r=t,n=e[r],a=typeof e[r]=="string"?{[n]:!0}:Object.fromEntries(n.map(i=>[i,!0]));return[t,a]}))}),wr=e=>{const t=()=>{const F=e.enableSeconds?":ss":"",U=e.enableMinutes?":mm":"";return e.is24?`HH${U}${F}`:`hh${U}${F} aa`},r=()=>{var F;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?t():e.weekPicker?`${((F=S.value)==null?void 0:F.type)==="iso"?"II":"ww"}-RR`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${t()}`:"MM/dd/yyyy"},n=F=>db(F,e.enableSeconds),a=()=>P.value.enabled?e.startTime&&Array.isArray(e.startTime)?[n(e.startTime[0]),n(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?n(e.startTime):null,i=Ue(()=>Ix(e.multiCalendars)),s=Ue(()=>a()),o=Ue(()=>Dx(e.ariaLabels)),l=Ue(()=>qx(e.filters)),c=Ue(()=>jx(e.transitions)),u=Ue(()=>$x(e.actionRow)),h=Ue(()=>Fx(e.previewFormat,e.format,r())),p=Ue(()=>Bx(e.textInput)),d=Ue(()=>Ux(e.inline)),g=Ue(()=>Vx(e.config)),y=Ue(()=>Gx(e.highlight)),S=Ue(()=>Hx(e.weekNumbers)),w=Ue(()=>Wx(e.timezone)),v=Ue(()=>Xx(e.multiDates)),b=Ue(()=>Kx({minDate:e.minDate,maxDate:e.maxDate,disabledDates:e.disabledDates,allowedDates:e.allowedDates,highlight:y.value,markers:e.markers,timezone:w.value,isSpecific:e.monthPicker||e.yearPicker||e.quarterPicker,isMonthPicker:e.monthPicker,isYearPicker:e.yearPicker})),P=Ue(()=>zx(e.range)),M=Ue(()=>Jx(e.ui));return{defaultedTransitions:c,defaultedMultiCalendars:i,defaultedStartTime:s,defaultedAriaLabels:o,defaultedFilters:l,defaultedActionRow:u,defaultedPreviewFormat:h,defaultedTextInput:p,defaultedInline:d,defaultedConfig:g,defaultedHighlight:y,defaultedWeekNumbers:S,defaultedRange:P,propDates:b,defaultedTz:w,defaultedMultiDates:v,defaultedUI:M,getDefaultPattern:r,getDefaultStartTime:a,handleEventPropagation:F=>{g.value.allowStopPropagation&&F.stopPropagation(),g.value.allowPreventDefault&&F.preventDefault()}}},Qx=(e,t,r)=>{const n=Ie(),{defaultedTextInput:a,defaultedRange:i,defaultedTz:s,defaultedMultiDates:o,getDefaultPattern:l}=wr(t),c=Ie(""),u=Fc(t,"format"),h=Fc(t,"formatLocale");Zr(n,()=>{typeof t.onInternalModelChange=="function"&&e("internal-model-change",n.value,re(!0))},{deep:!0}),Zr(i,(_,V)=>{_.enabled!==V.enabled&&(n.value=null)}),Zr(u,()=>{W()});const p=_=>s.value.timezone&&s.value.convertModel?na(_,s.value.timezone):_,d=_=>{if(s.value.timezone&&s.value.convertModel){const V=mx(s.value.timezone,_);return f9(_,V)}return _},g=(_,V,Z=!1)=>fb(_,t.format,t.formatLocale,a.value.rangeSeparator,t.modelAuto,V??l(),Z),y=_=>_?t.modelType?ne(_):{hours:Hi(_),minutes:Ts(_),seconds:t.enableSeconds?Il(_):0}:null,S=_=>t.modelType?ne(_):{month:jt(_),year:kt(_)},w=_=>Array.isArray(_)?o.value.enabled?_.map(V=>v(V,pi(Ye(),V))):sh(()=>[pi(Ye(),_[0]),_[1]?pi(Ye(),_[1]):sl(i.value.partialRange)],i.value.enabled):pi(Ye(),+_),v=(_,V)=>(typeof _=="string"||typeof _=="number")&&t.modelType?Q(_):V,b=_=>Array.isArray(_)?[v(_[0],Ls(null,+_[0].hours,+_[0].minutes,_[0].seconds)),v(_[1],Ls(null,+_[1].hours,+_[1].minutes,_[1].seconds))]:v(_,Ls(null,_.hours,_.minutes,_.seconds)),P=_=>{const V=sr(Ye(),{date:1});return Array.isArray(_)?o.value.enabled?_.map(Z=>v(Z,Ui(V,+Z.month,+Z.year))):sh(()=>[v(_[0],Ui(V,+_[0].month,+_[0].year)),v(_[1],_[1]?Ui(V,+_[1].month,+_[1].year):sl(i.value.partialRange))],i.value.enabled):v(_,Ui(V,+_.month,+_.year))},M=_=>{if(Array.isArray(_))return _.map(V=>Q(V));throw new Error(Pp.dateArr("multi-dates"))},F=_=>{if(Array.isArray(_)&&i.value.enabled){const V=_[0],Z=_[1];return[Ye(Array.isArray(V)?V[0]:null),Array.isArray(Z)&&Z.length?Ye(Z[0]):null]}return Ye(_[0])},U=_=>t.modelAuto?Array.isArray(_)?[Q(_[0]),Q(_[1])]:t.autoApply?[Q(_)]:[Q(_),null]:Array.isArray(_)?sh(()=>_[1]?[Q(_[0]),_[1]?Q(_[1]):sl(i.value.partialRange)]:[Q(_[0])],i.value.enabled):Q(_),O=()=>{Array.isArray(n.value)&&i.value.enabled&&n.value.length===1&&n.value.push(sl(i.value.partialRange))},R=()=>{const _=n.value;return[ne(_[0]),_[1]?ne(_[1]):sl(i.value.partialRange)]},T=()=>Array.isArray(n.value)?n.value[1]?R():ne(on(n.value[0])):[],C=()=>(n.value||[]).map(_=>ne(_)),E=(_=!1)=>(_||O(),t.modelAuto?T():o.value.enabled?C():Array.isArray(n.value)?sh(()=>R(),i.value.enabled):ne(on(n.value))),x=_=>!_||Array.isArray(_)&&!_.length?null:t.timePicker?b(on(_)):t.monthPicker?P(on(_)):t.yearPicker?w(on(_)):o.value.enabled?M(on(_)):t.weekPicker?F(on(_)):U(on(_)),k=_=>{const V=x(_);N1(on(V))?(n.value=on(V),W()):(n.value=null,c.value="")},L=()=>{const _=V=>vi(V,a.value.format);return`${_(n.value[0])} ${a.value.rangeSeparator} ${n.value[1]?_(n.value[1]):""}`},D=()=>r.value&&n.value?Array.isArray(n.value)?L():vi(n.value,a.value.format):g(n.value),q=()=>n.value?o.value.enabled?n.value.map(_=>g(_)).join("; "):a.value.enabled&&typeof a.value.format=="string"?D():g(n.value):"",W=()=>{!t.format||typeof t.format=="string"||a.value.enabled&&typeof a.value.format=="string"?c.value=q():c.value=t.format(n.value)},Q=_=>{if(t.utc){const V=new Date(_);return t.utc==="preserve"?new Date(V.getTime()+V.getTimezoneOffset()*6e4):V}return t.modelType?vx.includes(t.modelType)?p(new Date(_)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?p(P1(_,l(),new Date,{locale:h.value})):p(P1(_,t.modelType,new Date,{locale:h.value})):p(new Date(_))},ne=_=>_?t.utc?Lx(_,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+d(_):t.modelType==="iso"?d(_).toISOString():t.modelType==="format"&&(typeof t.format=="string"||!t.format)?g(d(_)):g(d(_),t.modelType,!0):d(_):"",oe=(_,V=!1,Z=!1)=>{if(Z)return _;if(e("update:model-value",_),s.value.emitTimezone&&V){const fe=Array.isArray(_)?_.map(le=>na(on(le),s.value.emitTimezone)):na(on(_),s.value.emitTimezone);e("update:model-timezone-value",fe)}},$=_=>Array.isArray(n.value)?o.value.enabled?n.value.map(V=>_(V)):[_(n.value[0]),n.value[1]?_(n.value[1]):sl(i.value.partialRange)]:_(on(n.value)),I=()=>{if(Array.isArray(n.value)){const _=Bi(n.value[0],t.weekStart),V=n.value[1]?Bi(n.value[1],t.weekStart):[];return[_.map(Z=>Ye(Z)),V.map(Z=>Ye(Z))]}return Bi(n.value,t.weekStart).map(_=>Ye(_))},G=(_,V)=>oe(on($(_)),!1,V),J=_=>{const V=I();return _?V:e("update:model-value",I())},re=(_=!1)=>(_||W(),t.monthPicker?G(S,_):t.timePicker?G(y,_):t.yearPicker?G(kt,_):t.weekPicker?J(_):oe(E(_),!0,_));return{inputValue:c,internalModelValue:n,checkBeforeEmit:()=>n.value?i.value.enabled?i.value.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:k,formatInputValue:W,emitModelValue:re}},Zx=(e,t)=>{const{defaultedFilters:r,propDates:n}=wr(e),{validateMonthYearInRange:a}=Fs(e),i=(u,h)=>{let p=u;return r.value.months.includes(jt(p))?(p=h?Wa(u,1):jl(u,1),i(p,h)):p},s=(u,h)=>{let p=u;return r.value.years.includes(kt(p))?(p=h?fp(u,1):eb(u,1),s(p,h)):p},o=(u,h=!1)=>{const p=sr(Ye(),{month:e.month,year:e.year});let d=u?Wa(p,1):jl(p,1);e.disableYearSelect&&(d=pi(d,e.year));let g=jt(d),y=kt(d);r.value.months.includes(g)&&(d=i(d,u),g=jt(d),y=kt(d)),r.value.years.includes(y)&&(d=s(d,u),y=kt(d)),a(g,y,u,e.preventMinMaxNavigation)&&l(g,y,h)},l=(u,h,p)=>{t("update-month-year",{month:u,year:h,fromNav:p})},c=Ue(()=>u=>hb(sr(Ye(),{month:e.month,year:e.year}),n.value.maxDate,n.value.minDate,e.preventMinMaxNavigation,u));return{handleMonthYearChange:o,isDisabled:c,updateMonthYear:l}},tf={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:[Boolean,String],default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},alwaysClearable:{type:Boolean,default:!1},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},Ja={...tf,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1},isMobile:{type:Boolean,default:void 0}},ek=["title"],tk=["disabled"],rk=qr({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Ja},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const r=t,n=e,{defaultedActionRow:a,defaultedPreviewFormat:i,defaultedMultiCalendars:s,defaultedTextInput:o,defaultedInline:l,defaultedRange:c,defaultedMultiDates:u}=wr(n),{isTimeValid:h,isMonthValid:p}=Fs(n),{buildMatrix:d}=Is(),g=Ie(null),y=Ie(null),S=Ie(!1),w=Ie({}),v=Ie(null),b=Ie(null);nr(()=>{n.arrowNavigation&&d([zr(g),zr(y)],"actionRow"),P(),window.addEventListener("resize",P)}),bi(()=>{window.removeEventListener("resize",P)});const P=()=>{S.value=!1,setTimeout(()=>{var k,L;const D=(k=v.value)==null?void 0:k.getBoundingClientRect(),q=(L=b.value)==null?void 0:L.getBoundingClientRect();D&&q&&(w.value.maxWidth=`${q.width-D.width-20}px`),S.value=!0},0)},M=Ue(()=>c.value.enabled&&!c.value.partialRange&&n.internalModelValue?n.internalModelValue.length===2:!0),F=Ue(()=>!h.value(n.internalModelValue)||!p.value(n.internalModelValue)||!M.value),U=()=>{const k=i.value;return n.timePicker||n.monthPicker,k(on(n.internalModelValue))},O=()=>{const k=n.internalModelValue;return s.value.count>0?`${R(k[0])} - ${R(k[1])}`:[R(k[0]),R(k[1])]},R=k=>fb(k,i.value,n.formatLocale,o.value.rangeSeparator,n.modelAuto,i.value),T=Ue(()=>!n.internalModelValue||!n.menuMount?"":typeof i.value=="string"?Array.isArray(n.internalModelValue)?n.internalModelValue.length===2&&n.internalModelValue[1]?O():u.value.enabled?n.internalModelValue.map(k=>`${R(k)}`):n.modelAuto?`${R(n.internalModelValue[0])}`:`${R(n.internalModelValue[0])} -`:R(n.internalModelValue):U()),C=()=>u.value.enabled?"; ":" - ",E=Ue(()=>Array.isArray(T.value)?T.value.join(C()):T.value),x=()=>{h.value(n.internalModelValue)&&p.value(n.internalModelValue)&&M.value?r("select-date"):r("invalid-select")};return(k,L)=>(be(),Oe("div",{ref_key:"actionRowRef",ref:b,class:"dp__action_row"},[k.$slots["action-row"]?ot(k.$slots,"action-row",cn(Qr({key:0},{internalModelValue:k.internalModelValue,disabled:F.value,selectDate:()=>k.$emit("select-date"),closePicker:()=>k.$emit("close-picker")}))):(be(),Oe(ct,{key:1},[pe(a).showPreview?(be(),Oe("div",{key:0,class:"dp__selection_preview",title:E.value,style:_n(w.value)},[k.$slots["action-preview"]&&S.value?ot(k.$slots,"action-preview",{key:0,value:k.internalModelValue}):He("",!0),!k.$slots["action-preview"]&&S.value?(be(),Oe(ct,{key:1},[ir(qt(E.value),1)],64)):He("",!0)],12,ek)):He("",!0),Ee("div",{ref_key:"actionBtnContainer",ref:v,class:"dp__action_buttons","data-dp-element":"action-row"},[k.$slots["action-buttons"]?ot(k.$slots,"action-buttons",{key:0,value:k.internalModelValue}):He("",!0),k.$slots["action-buttons"]?He("",!0):(be(),Oe(ct,{key:1},[!pe(l).enabled&&pe(a).showCancel?(be(),Oe("button",{key:0,ref_key:"cancelButtonRef",ref:g,type:"button",class:"dp__action_button dp__action_cancel",onClick:L[0]||(L[0]=D=>k.$emit("close-picker")),onKeydown:L[1]||(L[1]=D=>pe(Gn)(D,()=>k.$emit("close-picker")))},qt(k.cancelText),545)):He("",!0),pe(a).showNow?(be(),Oe("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:L[2]||(L[2]=D=>k.$emit("select-now")),onKeydown:L[3]||(L[3]=D=>pe(Gn)(D,()=>k.$emit("select-now")))},qt(k.nowButtonLabel),33)):He("",!0),pe(a).showSelect?(be(),Oe("button",{key:2,ref_key:"selectButtonRef",ref:y,type:"button",class:"dp__action_button dp__action_select",disabled:F.value,"data-test-id":"select-button",onKeydown:L[4]||(L[4]=D=>pe(Gn)(D,()=>x())),onClick:x},qt(k.selectText),41,tk)):He("",!0)],64))],512)],64))],512))}}),nk=["role","aria-label","tabindex"],ak={class:"dp__selection_grid_header"},ik=["aria-selected","aria-disabled","data-test-id","onClick","onKeydown","onMouseover"],sk=["aria-label"],nd=qr({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:t,emit:r}){const{setSelectionGrid:n,buildMultiLevelMatrix:a,setMonthPicker:i}=Is(),s=r,o=e,{defaultedAriaLabels:l,defaultedTextInput:c,defaultedConfig:u,handleEventPropagation:h}=wr(o),{hideNavigationButtons:p}=af(),d=Ie(!1),g=Ie(null),y=Ie(null),S=Ie([]),w=Ie(),v=Ie(null),b=Ie(0),P=Ie(null);_v(()=>{g.value=null}),nr(()=>{Hn().then(()=>E()),o.noOverlayFocus||F(),M(!0)}),bi(()=>M(!1));const M=I=>{var G;o.arrowNavigation&&((G=o.headerRefs)!=null&&G.length?i(I):n(I))},F=()=>{var I;const G=zr(y);G&&(c.value.enabled||(g.value?(I=g.value)==null||I.focus({preventScroll:!0}):G.focus({preventScroll:!0})),d.value=G.clientHeight<G.scrollHeight)},U=Ue(()=>({dp__overlay:!0,"dp--overlay-absolute":!o.useRelative,"dp--overlay-relative":o.useRelative})),O=Ue(()=>o.useRelative?{height:`${o.height}px`,width:"var(--dp-menu-min-width)"}:void 0),R=Ue(()=>({dp__overlay_col:!0})),T=Ue(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:d.value,dp__button_bottom:o.isLast})),C=Ue(()=>{var I,G;return{dp__overlay_container:!0,dp__container_flex:((I=o.items)==null?void 0:I.length)<=6,dp__container_block:((G=o.items)==null?void 0:G.length)>6}});Zr(()=>o.items,()=>E(!1),{deep:!0});const E=(I=!0)=>{Hn().then(()=>{const G=zr(g),J=zr(y),re=zr(v),_=zr(P),V=re?re.getBoundingClientRect().height:0;J&&(J.getBoundingClientRect().height?b.value=J.getBoundingClientRect().height-V:b.value=u.value.modeHeight-V),G&&_&&I&&(_.scrollTop=G.offsetTop-_.offsetTop-(b.value/2-G.getBoundingClientRect().height)-V)})},x=I=>{I.disabled||s("selected",I.value)},k=()=>{s("toggle"),s("reset-flow")},L=I=>{o.escClose&&(k(),h(I))},D=(I,G,J,re)=>{I&&((G.active||G.value===o.focusValue)&&(g.value=I),o.arrowNavigation&&(Array.isArray(S.value[J])?S.value[J][re]=I:S.value[J]=[I],q()))},q=()=>{var I,G;const J=(I=o.headerRefs)!=null&&I.length?[o.headerRefs].concat(S.value):S.value.concat([o.skipButtonRef?[]:[v.value]]);a(on(J),(G=o.headerRefs)!=null&&G.length?"monthPicker":"selectionGrid")},W=I=>{o.arrowNavigation||Cs(I,u.value,!0)},Q=I=>{w.value=I,s("hover-value",I)},ne=()=>{if(k(),!o.isLast){const I=L1(o.menuWrapRef??null,"action-row");if(I){const G=ab(I);G==null||G.focus()}}},oe=I=>{switch(I.key){case vr.esc:return L(I);case vr.arrowLeft:return W(I);case vr.arrowRight:return W(I);case vr.arrowUp:return W(I);case vr.arrowDown:return W(I);default:return}},$=I=>{if(I.key===vr.enter)return k();if(I.key===vr.tab)return ne()};return t({focusGrid:F}),(I,G)=>{var J;return be(),Oe("div",{ref_key:"gridWrapRef",ref:y,class:xt(U.value),style:_n(O.value),role:I.useRelative?void 0:"dialog","aria-label":I.overlayLabel,tabindex:I.useRelative?void 0:"0",onKeydown:oe,onClick:G[0]||(G[0]=ma(()=>{},["prevent"]))},[Ee("div",{ref_key:"containerRef",ref:P,class:xt(C.value),style:_n({"--dp-overlay-height":`${b.value}px`}),role:"grid"},[Ee("div",ak,[ot(I.$slots,"header")]),I.$slots.overlay?ot(I.$slots,"overlay",{key:0}):(be(!0),Oe(ct,{key:1},Jt(I.items,(re,_)=>(be(),Oe("div",{key:_,class:xt(["dp__overlay_row",{dp__flex_row:I.items.length>=3}]),role:"row"},[(be(!0),Oe(ct,null,Jt(re,(V,Z)=>(be(),Oe("div",{key:V.value,ref_for:!0,ref:fe=>D(fe,V,_,Z),role:"gridcell",class:xt(R.value),"aria-selected":V.active||void 0,"aria-disabled":V.disabled||void 0,tabindex:"0","data-test-id":V.text,onClick:ma(fe=>x(V),["prevent"]),onKeydown:fe=>pe(Gn)(fe,()=>x(V),!0),onMouseover:fe=>Q(V.value)},[Ee("div",{class:xt(V.className)},[I.$slots.item?ot(I.$slots,"item",{key:0,item:V}):He("",!0),I.$slots.item?He("",!0):(be(),Oe(ct,{key:1},[ir(qt(V.text),1)],64))],2)],42,ik))),128))],2))),128))],6),I.$slots["button-icon"]?Jr((be(),Oe("button",{key:0,ref_key:"toggleButton",ref:v,type:"button","aria-label":(J=pe(l))==null?void 0:J.toggleOverlay,class:xt(T.value),tabindex:"0",onClick:k,onKeydown:$},[ot(I.$slots,"button-icon")],42,sk)),[[vh,!pe(p)(I.hideNavigation,I.type)]]):He("",!0)],46,nk)}}}),ok=["data-dp-mobile"],rf=qr({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean},isMobile:{type:Boolean}},setup(e){const t=e,r=Ue(()=>t.multiCalendars>0?[...Array(t.multiCalendars).keys()]:[0]),n=Ue(()=>({dp__instance_calendar:t.multiCalendars>0}));return(a,i)=>(be(),Oe("div",{class:xt({dp__menu_inner:!a.stretch,"dp--menu--inner-stretched":a.stretch,dp__flex_display:a.multiCalendars>0,"dp--flex-display-collapsed":a.collapse}),"data-dp-mobile":a.isMobile},[(be(!0),Oe(ct,null,Jt(r.value,(s,o)=>(be(),Oe("div",{key:s,class:xt(n.value)},[ot(a.$slots,"default",{instance:s,index:o})],2))),128))],10,ok))}}),lk=["data-dp-element","aria-label","aria-disabled"],Rc=qr({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const r=t,n=Ie(null);return nr(()=>r("set-ref",n)),(a,i)=>(be(),Oe("button",{ref_key:"elRef",ref:n,type:"button","data-dp-element":a.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":a.ariaLabel,"aria-disabled":a.disabled||void 0,onClick:i[0]||(i[0]=s=>a.$emit("activate")),onKeydown:i[1]||(i[1]=s=>pe(Gn)(s,()=>a.$emit("activate"),!0))},[Ee("span",{class:xt(["dp__inner_nav",{dp__inner_nav_disabled:a.disabled}])},[ot(a.$slots,"default")],2)],40,lk))}}),uk=["aria-label","data-test-id"],mb=qr({__name:"YearModePicker",props:{...Ja,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:t}){const r=t,n=e,{showRightIcon:a,showLeftIcon:i}=af(),{defaultedConfig:s,defaultedMultiCalendars:o,defaultedAriaLabels:l,defaultedTransitions:c,defaultedUI:u}=wr(n),{showTransition:h,transitionName:p}=ad(c),d=Ie(!1),g=(w=!1,v)=>{d.value=!d.value,r("toggle-year-picker",{flow:w,show:v})},y=w=>{d.value=!1,r("year-select",w)},S=(w=!1)=>{r("handle-year",w)};return(w,v)=>{var b,P,M,F,U;return be(),Oe(ct,null,[Ee("div",{class:xt(["dp--year-mode-picker",{"dp--hidden-el":d.value}])},[pe(i)(pe(o),e.instance)?(be(),pt(Rc,{key:0,ref:"mpPrevIconRef","aria-label":(b=pe(l))==null?void 0:b.prevYear,disabled:e.isDisabled(!1),class:xt((P=pe(u))==null?void 0:P.navBtnPrev),onActivate:v[0]||(v[0]=O=>S(!1))},{default:dt(()=>[w.$slots["arrow-left"]?ot(w.$slots,"arrow-left",{key:0}):He("",!0),w.$slots["arrow-left"]?He("",!0):(be(),pt(pe(bp),{key:1}))]),_:3},8,["aria-label","disabled","class"])):He("",!0),Ee("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${e.year}-${(M=pe(l))==null?void 0:M.openYearsOverlay}`,"data-test-id":`year-mode-btn-${e.instance}`,onClick:v[1]||(v[1]=()=>g(!1)),onKeydown:v[2]||(v[2]=Qv(()=>g(!1),["enter"]))},[w.$slots.year?ot(w.$slots,"year",{key:0,year:e.year}):He("",!0),w.$slots.year?He("",!0):(be(),Oe(ct,{key:1},[ir(qt(e.year),1)],64))],40,uk),pe(a)(pe(o),e.instance)?(be(),pt(Rc,{key:1,ref:"mpNextIconRef","aria-label":(F=pe(l))==null?void 0:F.nextYear,disabled:e.isDisabled(!0),class:xt((U=pe(u))==null?void 0:U.navBtnNext),onActivate:v[3]||(v[3]=O=>S(!0))},{default:dt(()=>[w.$slots["arrow-right"]?ot(w.$slots,"arrow-right",{key:0}):He("",!0),w.$slots["arrow-right"]?He("",!0):(be(),pt(pe(_p),{key:1}))]),_:3},8,["aria-label","disabled","class"])):He("",!0)],2),at($l,{name:pe(p)(e.showYearPicker),css:pe(h)},{default:dt(()=>{var O,R;return[e.showYearPicker?(be(),pt(nd,{key:0,items:e.items,"text-input":w.textInput,"esc-close":w.escClose,config:w.config,"is-last":w.autoApply&&!pe(s).keepActionRow,"hide-navigation":w.hideNavigation,"aria-labels":w.ariaLabels,"overlay-label":(R=(O=pe(l))==null?void 0:O.yearPicker)==null?void 0:R.call(O,!0),type:"year",onToggle:g,onSelected:v[4]||(v[4]=T=>y(T))},En({"button-icon":dt(()=>[w.$slots["calendar-icon"]?ot(w.$slots,"calendar-icon",{key:0}):He("",!0),w.$slots["calendar-icon"]?He("",!0):(be(),pt(pe(Vl),{key:1}))]),_:2},[w.$slots["year-overlay-value"]?{name:"item",fn:dt(({item:T})=>[ot(w.$slots,"year-overlay-value",{text:T.text,value:T.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):He("",!0)]}),_:3},8,["name","css"])],64)}}}),Np=(e,t,r)=>{if(t.value&&Array.isArray(t.value))if(t.value.some(n=>Bt(e,n))){const n=t.value.filter(a=>!Bt(a,e));t.value=n.length?n:null}else(r&&+r>t.value.length||!r)&&t.value.push(e);else t.value=[e]},Tp=(e,t,r)=>{let n=e.value?e.value.slice():[];return n.length===2&&n[1]!==null&&(n=[]),n.length?(Cr(t,n[0])?n.unshift(t):n[1]=t,r("range-end",t)):(n=[t],r("range-start",t)),n},nf=(e,t,r,n)=>{e&&(e[0]&&e[1]&&r&&t("auto-apply"),e[0]&&!e[1]&&n&&r&&t("auto-apply"))},vb=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(t=>na(Ye(t),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=na(Ye(e.value),e.timezone))},yb=(e,t,r,n)=>Array.isArray(t.value)&&(t.value.length===2||t.value.length===1&&n.value.partialRange)?n.value.fixedStart&&(Mr(e,t.value[0])||Bt(e,t.value[0]))?[t.value[0],e]:n.value.fixedEnd&&(Cr(e,t.value[1])||Bt(e,t.value[1]))?[e,t.value[1]]:(r("invalid-fixed-range",e),t.value):[],bb=({multiCalendars:e,range:t,highlight:r,propDates:n,calendars:a,modelValue:i,props:s,filters:o,year:l,month:c,emit:u})=>{const h=Ue(()=>Ap(s.yearRange,s.locale,s.reverseYears)),p=Ie([!1]),d=Ue(()=>(T,C)=>{const E=sr(Ha(new Date),{month:c.value(T),year:l.value(T)}),x=C?qy(E):Wc(E);return hb(x,n.value.maxDate,n.value.minDate,s.preventMinMaxNavigation,C)}),g=()=>Array.isArray(i.value)&&e.value.solo&&i.value[1],y=()=>{for(let T=0;T<e.value.count;T++)if(T===0)a.value[T]=a.value[0];else if(T===e.value.count-1&&g())a.value[T]={month:jt(i.value[1]),year:kt(i.value[1])};else{const C=sr(Ye(),a.value[T-1]);a.value[T]={month:jt(C),year:kt(fp(C,1))}}},S=T=>{if(!T)return y();const C=sr(Ye(),a.value[T]);return a.value[0].year=kt(eb(C,e.value.count-1)),y()},w=(T,C)=>{const E=y9(C,T);return t.value.showLastInRange&&E>1?C:T},v=T=>s.focusStartDate||e.value.solo?T[0]:T[1]?w(T[0],T[1]):T[0],b=()=>{if(i.value){const T=Array.isArray(i.value)?v(i.value):i.value;a.value[0]={month:jt(T),year:kt(T)}}},P=()=>{b(),e.value.count&&y()};Zr(i,(T,C)=>{s.isTextInputDate&&JSON.stringify(T??{})!==JSON.stringify(C??{})&&P()}),nr(()=>{P()});const M=(T,C)=>{a.value[C].year=T,u("update-month-year",{instance:C,year:T,month:a.value[C].month}),e.value.count&&!e.value.solo&&S(C)},F=Ue(()=>T=>Bl(h.value,C=>{var E;const x=l.value(T)===C.value,k=Yc(C.value,ql(n.value.minDate),ql(n.value.maxDate))||((E=o.value.years)==null?void 0:E.includes(l.value(T))),L=Lp(r.value,C.value);return{active:x,disabled:k,highlighted:L}})),U=(T,C)=>{M(T,C),R(C)},O=(T,C=!1)=>{if(!d.value(T,C)){const E=C?l.value(T)+1:l.value(T)-1;M(E,T)}},R=(T,C=!1,E)=>{C||u("reset-flow"),E!==void 0?p.value[T]=E:p.value[T]=!p.value[T],p.value[T]?u("overlay-toggle",{open:!0,overlay:Ln.year}):(u("overlay-closed"),u("overlay-toggle",{open:!1,overlay:Ln.year}))};return{isDisabled:d,groupedYears:F,showYearPicker:p,selectYear:M,toggleYearPicker:R,handleYearSelect:U,handleYear:O}},ck=(e,t)=>{const{defaultedMultiCalendars:r,defaultedAriaLabels:n,defaultedTransitions:a,defaultedConfig:i,defaultedRange:s,defaultedHighlight:o,propDates:l,defaultedTz:c,defaultedFilters:u,defaultedMultiDates:h}=wr(e),p=()=>{e.isTextInputDate&&P(kt(Ye(e.startDate)),0)},{modelValue:d,year:g,month:y,calendars:S}=id(e,t,p),w=Ue(()=>rb(e.formatLocale,e.locale,e.monthNameFormat)),v=Ie(null),{checkMinMaxRange:b}=Fs(e),{selectYear:P,groupedYears:M,showYearPicker:F,toggleYearPicker:U,handleYearSelect:O,handleYear:R,isDisabled:T}=bb({modelValue:d,multiCalendars:r,range:s,highlight:o,calendars:S,year:g,propDates:l,month:y,filters:u,props:e,emit:t});nr(()=>{e.startDate&&(d.value&&e.focusStartDate||!d.value)&&P(kt(Ye(e.startDate)),0)});const C=G=>G?{month:jt(G),year:kt(G)}:{month:null,year:null},E=()=>d.value?Array.isArray(d.value)?d.value.map(G=>C(G)):C(d.value):C(),x=(G,J)=>{const re=S.value[G],_=E();return Array.isArray(_)?_.some(V=>V.year===(re==null?void 0:re.year)&&V.month===J):(re==null?void 0:re.year)===_.year&&J===_.month},k=(G,J,re)=>{var _,V;const Z=E();return Array.isArray(Z)?g.value(J)===((_=Z[re])==null?void 0:_.year)&&G===((V=Z[re])==null?void 0:V.month):!1},L=(G,J)=>{if(s.value.enabled){const re=E();if(Array.isArray(d.value)&&Array.isArray(re)){const _=k(G,J,0)||k(G,J,1),V=Ui(Ha(Ye()),G,g.value(J));return Kc(d.value,v.value,V)&&!_}return!1}return!1},D=Ue(()=>G=>Bl(w.value,J=>{var re;const _=x(G,J.value),V=Yc(J.value,lb(g.value(G),l.value.minDate),ub(g.value(G),l.value.maxDate))||Rx(l.value.disabledDates,g.value(G),J.value)||((re=u.value.months)==null?void 0:re.includes(J.value))||!Mx(l.value.allowedDates,g.value(G),J.value),Z=L(J.value,G),fe=pb(o.value,J.value,g.value(G));return{active:_,disabled:V,isBetween:Z,highlighted:fe}})),q=(G,J)=>Ui(Ha(Ye()),G,g.value(J)),W=(G,J)=>{const re=d.value?d.value:Ha(new Date);d.value=Ui(re,G,g.value(J)),t("auto-apply"),t("update-flow-step")},Q=(G,J)=>{const re=q(G,J);s.value.fixedEnd||s.value.fixedStart?d.value=yb(re,d,t,s):d.value?b(re,d.value)&&(d.value=Tp(d,q(G,J),t)):d.value=[q(G,J)],Hn().then(()=>{nf(d.value,t,e.autoApply,e.modelAuto)})},ne=(G,J)=>{Np(q(G,J),d,h.value.limit),t("auto-apply",!0)},oe=(G,J)=>(S.value[J].month=G,I(J,S.value[J].year,G),h.value.enabled?ne(G,J):s.value.enabled?Q(G,J):W(G,J)),$=(G,J)=>{P(G,J),I(J,G,null)},I=(G,J,re)=>{let _=re;if(!_&&_!==0){const V=E();_=Array.isArray(V)?V[G].month:V.month}t("update-month-year",{instance:G,year:J,month:_})};return{groupedMonths:D,groupedYears:M,year:g,isDisabled:T,defaultedMultiCalendars:r,defaultedAriaLabels:n,defaultedTransitions:a,defaultedConfig:i,showYearPicker:F,modelValue:d,presetDate:(G,J)=>{vb({value:G,modelValue:d,range:s.value.enabled,timezone:J?void 0:c.value.timezone}),t("auto-apply")},setHoverDate:(G,J)=>{v.value=q(G,J)},selectMonth:oe,selectYear:$,toggleYearPicker:U,handleYearSelect:O,handleYear:R,getModelMonthYear:E}},dk=qr({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Ja},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(e,{expose:t,emit:r}){const n=r,a=mo(),i=fa(a,"yearMode"),s=e;nr(()=>{s.shadow||n("mount",null)});const{groupedMonths:o,groupedYears:l,year:c,isDisabled:u,defaultedMultiCalendars:h,defaultedConfig:p,showYearPicker:d,modelValue:g,presetDate:y,setHoverDate:S,selectMonth:w,selectYear:v,toggleYearPicker:b,handleYearSelect:P,handleYear:M,getModelMonthYear:F}=ck(s,n);return t({getSidebarProps:()=>({modelValue:g,year:c,getModelMonthYear:F,selectMonth:w,selectYear:v,handleYear:M}),presetDate:y,toggleYearPicker:U=>b(0,U)}),(U,O)=>(be(),pt(rf,{"multi-calendars":pe(h).count,collapse:U.collapse,stretch:"","is-mobile":U.isMobile},{default:dt(({instance:R})=>[U.$slots["top-extra"]?ot(U.$slots,"top-extra",{key:0,value:U.internalModelValue}):He("",!0),U.$slots["month-year"]?ot(U.$slots,"month-year",cn(Qr({key:1},{year:pe(c),months:pe(o)(R),years:pe(l)(R),selectMonth:pe(w),selectYear:pe(v),instance:R}))):(be(),pt(nd,{key:2,items:pe(o)(R),"arrow-navigation":U.arrowNavigation,"is-last":U.autoApply&&!pe(p).keepActionRow,"esc-close":U.escClose,height:pe(p).modeHeight,config:U.config,"no-overlay-focus":!!(U.noOverlayFocus||U.textInput),"use-relative":"",type:"month",onSelected:T=>pe(w)(T,R),onHoverValue:T=>pe(S)(T,R)},En({header:dt(()=>[at(mb,Qr(U.$props,{items:pe(l)(R),instance:R,"show-year-picker":pe(d)[R],year:pe(c)(R),"is-disabled":T=>pe(u)(R,T),onHandleYear:T=>pe(M)(R,T),onYearSelect:T=>pe(P)(T,R),onToggleYearPicker:T=>pe(b)(R,T==null?void 0:T.flow,T==null?void 0:T.show)}),En({_:2},[Jt(pe(i),(T,C)=>({name:T,fn:dt(E=>[ot(U.$slots,T,cn(Vn(E)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[U.$slots["month-overlay-value"]?{name:"item",fn:dt(({item:T})=>[ot(U.$slots,"month-overlay-value",{text:T.text,value:T.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),hk=(e,t)=>{const r=()=>{e.isTextInputDate&&(u.value=kt(Ye(e.startDate)))},{modelValue:n}=id(e,t,r),a=Ie(null),{defaultedHighlight:i,defaultedMultiDates:s,defaultedFilters:o,defaultedRange:l,propDates:c}=wr(e),u=Ie();nr(()=>{e.startDate&&(n.value&&e.focusStartDate||!n.value)&&(u.value=kt(Ye(e.startDate)))});const h=w=>Array.isArray(n.value)?n.value.some(v=>kt(v)===w):n.value?kt(n.value)===w:!1,p=w=>l.value.enabled&&Array.isArray(n.value)?Kc(n.value,a.value,S(w)):!1,d=w=>c.value.allowedDates instanceof Map?c.value.allowedDates.size?c.value.allowedDates.has(`${w}`):!1:!0,g=w=>c.value.disabledDates instanceof Map?c.value.disabledDates.size?c.value.disabledDates.has(`${w}`):!1:!0,y=Ue(()=>Bl(Ap(e.yearRange,e.locale,e.reverseYears),w=>{const v=h(w.value),b=Yc(w.value,ql(c.value.minDate),ql(c.value.maxDate))||o.value.years.includes(w.value)||!d(w.value)||g(w.value),P=p(w.value)&&!v,M=Lp(i.value,w.value);return{active:v,disabled:b,isBetween:P,highlighted:M}})),S=w=>pi(Ha(Wc(new Date)),w);return{groupedYears:y,modelValue:n,focusYear:u,setHoverValue:w=>{a.value=pi(Ha(new Date),w)},selectYear:w=>{var v;if(t("update-month-year",{instance:0,year:w}),s.value.enabled)return n.value?Array.isArray(n.value)&&(((v=n.value)==null?void 0:v.map(b=>kt(b))).includes(w)?n.value=n.value.filter(b=>kt(b)!==w):n.value.push(pi(fn(Ye()),w))):n.value=[pi(fn(Wc(Ye())),w)],t("auto-apply",!0);l.value.enabled?(n.value=Tp(n,S(w),t),Hn().then(()=>{nf(n.value,t,e.autoApply,e.modelAuto)})):(n.value=S(w),t("auto-apply"))}}},fk=qr({compatConfig:{MODE:3},__name:"YearPicker",props:{...Ja},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:t,emit:r}){const n=r,a=e,{groupedYears:i,modelValue:s,focusYear:o,selectYear:l,setHoverValue:c}=hk(a,n),{defaultedConfig:u}=wr(a);return t({getSidebarProps:()=>({modelValue:s,selectYear:l})}),(h,p)=>(be(),Oe("div",null,[h.$slots["top-extra"]?ot(h.$slots,"top-extra",{key:0,value:h.internalModelValue}):He("",!0),h.$slots["month-year"]?ot(h.$slots,"month-year",cn(Qr({key:1},{years:pe(i),selectYear:pe(l)}))):(be(),pt(nd,{key:2,items:pe(i),"is-last":h.autoApply&&!pe(u).keepActionRow,height:pe(u).modeHeight,config:h.config,"no-overlay-focus":!!(h.noOverlayFocus||h.textInput),"focus-value":pe(o),type:"year","use-relative":"",onSelected:pe(l),onHoverValue:pe(c)},En({_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:dt(({item:d})=>[ot(h.$slots,"year-overlay-value",{text:d.text,value:d.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),pk={key:0,class:"dp__time_input"},gk=["data-compact","data-collapsed"],mk=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],vk=["aria-label","disabled","data-test-id","onKeydown","onClick"],yk=["data-test-id","aria-label","onKeydown","onClick","onMousedown"],bk={key:0},_k=["aria-label","data-compact"],wk=qr({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ja},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(e,{expose:t,emit:r}){const n=r,a=e,{setTimePickerElements:i,setTimePickerBackRef:s}=Is(),{defaultedAriaLabels:o,defaultedTransitions:l,defaultedFilters:c,defaultedConfig:u,defaultedRange:h,defaultedMultiCalendars:p}=wr(a),{transitionName:d,showTransition:g}=ad(l),y=ga({hours:!1,minutes:!1,seconds:!1}),S=Ie("AM"),w=Ie(null),v=Ie([]),b=Ie(),P=Ie(!1);nr(()=>{n("mounted")});const M=B=>sr(new Date,{hours:B.hours,minutes:B.minutes,seconds:a.enableSeconds?B.seconds:0,milliseconds:0}),F=Ue(()=>B=>Q(B,a[B])||O(B,a[B])),U=Ue(()=>({hours:a.hours,minutes:a.minutes,seconds:a.seconds})),O=(B,H)=>h.value.enabled&&!h.value.disableTimeRangeValidation?!a.validateTime(B,H):!1,R=(B,H)=>{if(h.value.enabled&&!h.value.disableTimeRangeValidation){const de=H?+a[`${B}Increment`]:-+a[`${B}Increment`],ge=a[B]+de;return!a.validateTime(B,ge)}return!1},T=Ue(()=>B=>!G(+a[B]+ +a[`${B}Increment`],B)||R(B,!0)),C=Ue(()=>B=>!G(+a[B]-+a[`${B}Increment`],B)||R(B,!1)),E=(B,H)=>My(sr(Ye(),B),H),x=(B,H)=>fx(sr(Ye(),B),H),k=Ue(()=>({dp__time_col:!0,dp__time_col_block:!a.timePickerInline,dp__time_col_reg_block:!a.enableSeconds&&a.is24&&!a.timePickerInline,dp__time_col_reg_inline:!a.enableSeconds&&a.is24&&a.timePickerInline,dp__time_col_reg_with_button:!a.enableSeconds&&!a.is24,dp__time_col_sec:a.enableSeconds&&a.is24,dp__time_col_sec_with_button:a.enableSeconds&&!a.is24})),L=Ue(()=>a.timePickerInline&&h.value.enabled&&!p.value.count),D=Ue(()=>{const B=[{type:"hours"}];return a.enableMinutes&&B.push({type:"",separator:!0},{type:"minutes"}),a.enableSeconds&&B.push({type:"",separator:!0},{type:"seconds"}),B}),q=Ue(()=>D.value.filter(B=>!B.separator)),W=Ue(()=>B=>{if(B==="hours"){const H=fe(+a.hours);return{text:H<10?`0${H}`:`${H}`,value:H}}return{text:a[B]<10?`0${a[B]}`:`${a[B]}`,value:a[B]}}),Q=(B,H)=>{var de;if(!a.disabledTimesConfig)return!1;const ge=a.disabledTimesConfig(a.order,B==="hours"?H:void 0);return ge[B]?!!((de=ge[B])!=null&&de.includes(H)):!0},ne=(B,H)=>H!=="hours"||S.value==="AM"?B:B+12,oe=B=>{const H=a.is24?24:12,de=B==="hours"?H:60,ge=+a[`${B}GridIncrement`],me=B==="hours"&&!a.is24?ge:0,ve=[];for(let Se=me;Se<de;Se+=ge)ve.push({value:a.is24?Se:ne(Se,B),text:Se<10?`0${Se}`:`${Se}`});return B==="hours"&&!a.is24&&ve.unshift({value:S.value==="PM"?12:0,text:"12"}),Bl(ve,Se=>({active:!1,disabled:c.value.times[B].includes(Se.value)||!G(Se.value,B)||Q(B,Se.value)||O(B,Se.value)}))},$=B=>B>=0?B:59,I=B=>B>=0?B:23,G=(B,H)=>{const de=a.minTime?M(A0(a.minTime)):null,ge=a.maxTime?M(A0(a.maxTime)):null,me=M(A0(U.value,H,H==="minutes"||H==="seconds"?$(B):I(B)));return de&&ge?(Fl(me,ge)||yl(me,ge))&&(go(me,de)||yl(me,de)):de?go(me,de)||yl(me,de):ge?Fl(me,ge)||yl(me,ge):!0},J=B=>a[`no${B[0].toUpperCase()+B.slice(1)}Overlay`],re=B=>{J(B)||(y[B]=!y[B],y[B]?(P.value=!0,n("overlay-opened",B)):(P.value=!1,n("overlay-closed",B)))},_=B=>B==="hours"?Hi:B==="minutes"?Ts:Il,V=()=>{b.value&&clearTimeout(b.value)},Z=(B,H=!0,de)=>{const ge=H?E:x,me=H?+a[`${B}Increment`]:-+a[`${B}Increment`];G(+a[B]+me,B)&&n(`update:${B}`,_(B)(ge({[B]:+a[B]},{[B]:+a[`${B}Increment`]}))),!(de!=null&&de.keyboard)&&u.value.timeArrowHoldThreshold&&(b.value=setTimeout(()=>{Z(B,H)},u.value.timeArrowHoldThreshold))},fe=B=>a.is24?B:(B>=12?S.value="PM":S.value="AM",_x(B)),le=()=>{S.value==="PM"?(S.value="AM",n("update:hours",a.hours-12)):(S.value="PM",n("update:hours",a.hours+12)),n("am-pm-change",S.value)},X=B=>{y[B]=!0},z=(B,H,de)=>{if(B&&a.arrowNavigation){Array.isArray(v.value[H])?v.value[H][de]=B:v.value[H]=[B];const ge=v.value.reduce((me,ve)=>ve.map((Se,Ce)=>[...me[Ce]||[],ve[Ce]]),[]);s(a.closeTimePickerBtn),w.value&&(ge[1]=ge[1].concat(w.value)),i(ge,a.order)}},se=(B,H)=>(re(B),n(`update:${B}`,H));return t({openChildCmp:X}),(B,H)=>{var de;return B.disabled?He("",!0):(be(),Oe("div",pk,[(be(!0),Oe(ct,null,Jt(D.value,(ge,me)=>{var ve,Se,Ce;return be(),Oe("div",{key:me,class:xt(k.value),"data-compact":L.value&&!B.enableSeconds,"data-collapsed":L.value&&B.enableSeconds},[ge.separator?(be(),Oe(ct,{key:0},[P.value?He("",!0):(be(),Oe(ct,{key:0},[ir(":")],64))],64)):(be(),Oe(ct,{key:1},[Ee("button",{ref_for:!0,ref:ue=>z(ue,me,0),type:"button",class:xt({dp__btn:!0,dp__inc_dec_button:!B.timePickerInline,dp__inc_dec_button_inline:B.timePickerInline,dp__tp_inline_btn_top:B.timePickerInline,dp__inc_dec_button_disabled:T.value(ge.type),"dp--hidden-el":P.value}),"data-test-id":`${ge.type}-time-inc-btn-${a.order}`,"aria-label":(ve=pe(o))==null?void 0:ve.incrementValue(ge.type),tabindex:"0",onKeydown:ue=>pe(Gn)(ue,()=>Z(ge.type,!0,{keyboard:!0}),!0),onClick:ue=>pe(u).timeArrowHoldThreshold?void 0:Z(ge.type,!0),onMousedown:ue=>pe(u).timeArrowHoldThreshold?Z(ge.type,!0):void 0,onMouseup:V},[a.timePickerInline?(be(),Oe(ct,{key:1},[B.$slots["tp-inline-arrow-up"]?ot(B.$slots,"tp-inline-arrow-up",{key:0}):(be(),Oe(ct,{key:1},[H[2]||(H[2]=Ee("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),H[3]||(H[3]=Ee("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(be(),Oe(ct,{key:0},[B.$slots["arrow-up"]?ot(B.$slots,"arrow-up",{key:0}):He("",!0),B.$slots["arrow-up"]?He("",!0):(be(),pt(pe(Sp),{key:1}))],64))],42,mk),Ee("button",{ref_for:!0,ref:ue=>z(ue,me,1),type:"button","aria-label":`${W.value(ge.type).text}-${(Se=pe(o))==null?void 0:Se.openTpOverlay(ge.type)}`,class:xt({dp__time_display:!0,dp__time_display_block:!B.timePickerInline,dp__time_display_inline:B.timePickerInline,"dp--time-invalid":F.value(ge.type),"dp--time-overlay-btn":!F.value(ge.type),"dp--hidden-el":P.value}),disabled:J(ge.type),tabindex:"0","data-test-id":`${ge.type}-toggle-overlay-btn-${a.order}`,onKeydown:ue=>pe(Gn)(ue,()=>re(ge.type),!0),onClick:ue=>re(ge.type)},[B.$slots[ge.type]?ot(B.$slots,ge.type,{key:0,text:W.value(ge.type).text,value:W.value(ge.type).value}):He("",!0),B.$slots[ge.type]?He("",!0):(be(),Oe(ct,{key:1},[ir(qt(W.value(ge.type).text),1)],64))],42,vk),Ee("button",{ref_for:!0,ref:ue=>z(ue,me,2),type:"button",class:xt({dp__btn:!0,dp__inc_dec_button:!B.timePickerInline,dp__inc_dec_button_inline:B.timePickerInline,dp__tp_inline_btn_bottom:B.timePickerInline,dp__inc_dec_button_disabled:C.value(ge.type),"dp--hidden-el":P.value}),"data-test-id":`${ge.type}-time-dec-btn-${a.order}`,"aria-label":(Ce=pe(o))==null?void 0:Ce.decrementValue(ge.type),tabindex:"0",onKeydown:ue=>pe(Gn)(ue,()=>Z(ge.type,!1,{keyboard:!0}),!0),onClick:ue=>pe(u).timeArrowHoldThreshold?void 0:Z(ge.type,!1),onMousedown:ue=>pe(u).timeArrowHoldThreshold?Z(ge.type,!1):void 0,onMouseup:V},[a.timePickerInline?(be(),Oe(ct,{key:1},[B.$slots["tp-inline-arrow-down"]?ot(B.$slots,"tp-inline-arrow-down",{key:0}):(be(),Oe(ct,{key:1},[H[4]||(H[4]=Ee("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),H[5]||(H[5]=Ee("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(be(),Oe(ct,{key:0},[B.$slots["arrow-down"]?ot(B.$slots,"arrow-down",{key:0}):He("",!0),B.$slots["arrow-down"]?He("",!0):(be(),pt(pe(xp),{key:1}))],64))],42,yk)],64))],10,gk)}),128)),B.is24?He("",!0):(be(),Oe("div",bk,[B.$slots["am-pm-button"]?ot(B.$slots,"am-pm-button",{key:0,toggle:le,value:S.value}):He("",!0),B.$slots["am-pm-button"]?He("",!0):(be(),Oe("button",{key:1,ref_key:"amPmButton",ref:w,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(de=pe(o))==null?void 0:de.amPmButton,tabindex:"0","data-compact":L.value,onClick:le,onKeydown:H[0]||(H[0]=ge=>pe(Gn)(ge,()=>le(),!0))},qt(S.value),41,_k))])),(be(!0),Oe(ct,null,Jt(q.value,(ge,me)=>(be(),pt($l,{key:me,name:pe(d)(y[ge.type]),css:pe(g)},{default:dt(()=>{var ve,Se;return[y[ge.type]?(be(),pt(nd,{key:0,items:oe(ge.type),"is-last":B.autoApply&&!pe(u).keepActionRow,"esc-close":B.escClose,type:ge.type,"text-input":B.textInput,config:B.config,"arrow-navigation":B.arrowNavigation,"aria-labels":B.ariaLabels,"overlay-label":(Se=(ve=pe(o)).timeOverlay)==null?void 0:Se.call(ve,ge.type),onSelected:Ce=>se(ge.type,Ce),onToggle:Ce=>re(ge.type),onResetFlow:H[1]||(H[1]=Ce=>B.$emit("reset-flow"))},En({"button-icon":dt(()=>[B.$slots["clock-icon"]?ot(B.$slots,"clock-icon",{key:0}):He("",!0),B.$slots["clock-icon"]?He("",!0):(be(),pt(Qc(B.timePickerInline?pe(Vl):pe(wp)),{key:1}))]),_:2},[B.$slots[`${ge.type}-overlay-value`]?{name:"item",fn:dt(({item:Ce})=>[ot(B.$slots,`${ge.type}-overlay-value`,{text:Ce.text,value:Ce.value})]),key:"0"}:void 0,B.$slots[`${ge.type}-overlay-header`]?{name:"header",fn:dt(()=>[ot(B.$slots,`${ge.type}-overlay-header`,{toggle:()=>re(ge.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):He("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),Sk=["data-dp-mobile"],xk=["aria-label","tabindex"],kk=["role","aria-label","tabindex"],Ak=["aria-label"],_b=qr({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ja},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:r}){const n=r,a=e,{buildMatrix:i,setTimePicker:s}=Is(),o=mo(),{defaultedTransitions:l,defaultedAriaLabels:c,defaultedTextInput:u,defaultedConfig:h,defaultedRange:p}=wr(a),{transitionName:d,showTransition:g}=ad(l),{hideNavigationButtons:y}=af(),S=Ie(null),w=Ie(null),v=Ie([]),b=Ie(null),P=Ie(!1);nr(()=>{n("mount"),!a.timePicker&&a.arrowNavigation?i([zr(S.value)],"time"):s(!0,a.timePicker)});const M=Ue(()=>p.value.enabled&&a.modelAuto?nb(a.internalModelValue):!0),F=Ie(!1),U=Q=>({hours:Array.isArray(a.hours)?a.hours[Q]:a.hours,minutes:Array.isArray(a.minutes)?a.minutes[Q]:a.minutes,seconds:Array.isArray(a.seconds)?a.seconds[Q]:a.seconds}),O=Ue(()=>{const Q=[];if(p.value.enabled)for(let ne=0;ne<2;ne++)Q.push(U(ne));else Q.push(U(0));return Q}),R=(Q,ne=!1,oe="")=>{ne||n("reset-flow"),F.value=Q,n(Q?"overlay-opened":"overlay-closed",Ln.time),a.arrowNavigation&&s(Q),Hn(()=>{oe!==""&&v.value[0]&&v.value[0].openChildCmp(oe)})},T=Ue(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:a.autoApply&&!h.value.keepActionRow})),C=fa(o,"timePicker"),E=(Q,ne,oe)=>p.value.enabled?ne===0?[Q,O.value[1][oe]]:[O.value[0][oe],Q]:Q,x=Q=>{n("update:hours",Q)},k=Q=>{n("update:minutes",Q)},L=Q=>{n("update:seconds",Q)},D=()=>{if(b.value&&!u.value.enabled&&!a.noOverlayFocus){const Q=ab(b.value);Q&&Q.focus({preventScroll:!0})}},q=Q=>{P.value=!1,n("overlay-closed",Q)},W=Q=>{P.value=!0,n("overlay-opened",Q)};return t({toggleTimePicker:R}),(Q,ne)=>{var oe;return be(),Oe("div",{class:"dp--tp-wrap","data-dp-mobile":Q.isMobile},[!Q.timePicker&&!Q.timePickerInline?Jr((be(),Oe("button",{key:0,ref_key:"openTimePickerBtn",ref:S,type:"button",class:xt({...T.value,"dp--hidden-el":F.value}),"aria-label":(oe=pe(c))==null?void 0:oe.openTimePicker,tabindex:Q.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:ne[0]||(ne[0]=$=>pe(Gn)($,()=>R(!0))),onClick:ne[1]||(ne[1]=$=>R(!0))},[Q.$slots["clock-icon"]?ot(Q.$slots,"clock-icon",{key:0}):He("",!0),Q.$slots["clock-icon"]?He("",!0):(be(),pt(pe(wp),{key:1}))],42,xk)),[[vh,!pe(y)(Q.hideNavigation,"time")]]):He("",!0),at($l,{name:pe(d)(F.value),css:pe(g)&&!Q.timePickerInline},{default:dt(()=>{var $,I;return[F.value||Q.timePicker||Q.timePickerInline?(be(),Oe("div",{key:0,ref_key:"overlayRef",ref:b,role:Q.timePickerInline?void 0:"dialog",class:xt({dp__overlay:!Q.timePickerInline,"dp--overlay-absolute":!a.timePicker&&!Q.timePickerInline,"dp--overlay-relative":a.timePicker}),style:_n(Q.timePicker?{height:`${pe(h).modeHeight}px`}:void 0),"aria-label":($=pe(c))==null?void 0:$.timePicker,tabindex:Q.timePickerInline?void 0:0},[Ee("div",{class:xt(Q.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[Q.$slots["time-picker-overlay"]?ot(Q.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:x,setMinutes:k,setSeconds:L}):He("",!0),Q.$slots["time-picker-overlay"]?He("",!0):(be(),Oe("div",{key:1,class:xt(Q.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(be(!0),Oe(ct,null,Jt(O.value,(G,J)=>Jr((be(),pt(wk,Qr({key:J,ref_for:!0},{...Q.$props,order:J,hours:G.hours,minutes:G.minutes,seconds:G.seconds,closeTimePickerBtn:w.value,disabledTimesConfig:e.disabledTimesConfig,disabled:J===0?pe(p).fixedStart:pe(p).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:v,"validate-time":(re,_)=>e.validateTime(re,E(_,J,re)),"onUpdate:hours":re=>x(E(re,J,"hours")),"onUpdate:minutes":re=>k(E(re,J,"minutes")),"onUpdate:seconds":re=>L(E(re,J,"seconds")),onMounted:D,onOverlayClosed:q,onOverlayOpened:W,onAmPmChange:ne[2]||(ne[2]=re=>Q.$emit("am-pm-change",re))}),En({_:2},[Jt(pe(C),(re,_)=>({name:re,fn:dt(V=>[ot(Q.$slots,re,Qr({ref_for:!0},V))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[vh,J===0?!0:M.value]])),128))],2)),!Q.timePicker&&!Q.timePickerInline?Jr((be(),Oe("button",{key:2,ref_key:"closeTimePickerBtn",ref:w,type:"button",class:xt({...T.value,"dp--hidden-el":P.value}),"aria-label":(I=pe(c))==null?void 0:I.closeTimePicker,tabindex:"0",onKeydown:ne[3]||(ne[3]=G=>pe(Gn)(G,()=>R(!1))),onClick:ne[4]||(ne[4]=G=>R(!1))},[Q.$slots["calendar-icon"]?ot(Q.$slots,"calendar-icon",{key:0}):He("",!0),Q.$slots["calendar-icon"]?He("",!0):(be(),pt(pe(Vl),{key:1}))],42,Ak)),[[vh,!pe(y)(Q.hideNavigation,"time")]]):He("",!0)],2)],14,kk)):He("",!0)]}),_:3},8,["name","css"])],8,Sk)}}}),wb=(e,t,r,n)=>{const{defaultedRange:a}=wr(e),i=(b,P)=>Array.isArray(t[b])?t[b][P]:t[b],s=b=>e.enableSeconds?Array.isArray(t.seconds)?t.seconds[b]:t.seconds:0,o=(b,P)=>b?P!==void 0?Ls(b,i("hours",P),i("minutes",P),s(P)):Ls(b,t.hours,t.minutes,s()):Zy(Ye(),s(P)),l=(b,P)=>{t[b]=P},c=Ue(()=>e.modelAuto&&a.value.enabled?Array.isArray(r.value)?r.value.length>1:!1:a.value.enabled),u=(b,P)=>{const M=Object.fromEntries(Object.keys(t).map(F=>F===b?[F,P]:[F,t[F]].slice()));if(c.value&&!a.value.disableTimeRangeValidation){const F=O=>r.value?Ls(r.value[O],M.hours[O],M.minutes[O],M.seconds[O]):null,U=O=>Qy(r.value[O],0);return!(Bt(F(0),F(1))&&(go(F(0),U(1))||Fl(F(1),U(0))))}return!0},h=(b,P)=>{u(b,P)&&(l(b,P),n&&n())},p=b=>{h("hours",b)},d=b=>{h("minutes",b)},g=b=>{h("seconds",b)},y=(b,P,M,F)=>{P&&p(b),!P&&!M&&d(b),M&&g(b),r.value&&F(r.value)},S=b=>{if(b){const P=Array.isArray(b),M=P?[+b[0].hours,+b[1].hours]:+b.hours,F=P?[+b[0].minutes,+b[1].minutes]:+b.minutes,U=P?[+b[0].seconds,+b[1].seconds]:+b.seconds;l("hours",M),l("minutes",F),e.enableSeconds&&l("seconds",U)}},w=(b,P)=>{const M={hours:Array.isArray(t.hours)?t.hours[b]:t.hours,disabledArr:[]};return(P||P===0)&&(M.hours=P),Array.isArray(e.disabledTimes)&&(M.disabledArr=a.value.enabled&&Array.isArray(e.disabledTimes[b])?e.disabledTimes[b]:e.disabledTimes),M},v=Ue(()=>(b,P)=>{var M;if(Array.isArray(e.disabledTimes)){const{disabledArr:F,hours:U}=w(b,P),O=F.filter(R=>+R.hours===U);return((M=O[0])==null?void 0:M.minutes)==="*"?{hours:[U],minutes:void 0,seconds:void 0}:{hours:[],minutes:(O==null?void 0:O.map(R=>+R.minutes))??[],seconds:(O==null?void 0:O.map(R=>R.seconds?+R.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:l,updateHours:p,updateMinutes:d,updateSeconds:g,getSetDateTime:o,updateTimeValues:y,getSecondsValue:s,assignStartTime:S,validateTime:u,disabledTimesConfig:v}},Pk=(e,t)=>{const r=()=>{e.isTextInputDate&&P()},{modelValue:n,time:a}=id(e,t,r),{defaultedStartTime:i,defaultedRange:s,defaultedTz:o}=wr(e),{updateTimeValues:l,getSetDateTime:c,setTime:u,assignStartTime:h,disabledTimesConfig:p,validateTime:d}=wb(e,a,n,g);function g(){t("update-flow-step")}const y=F=>{const{hours:U,minutes:O,seconds:R}=F;return{hours:+U,minutes:+O,seconds:R?+R:0}},S=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const U=y(e.startTime[0]),O=y(e.startTime[1]);return[sr(Ye(),U),sr(Ye(),O)]}const F=y(e.startTime);return sr(Ye(),F)}return s.value.enabled?[null,null]:null},w=()=>{if(s.value.enabled){const[F,U]=S();n.value=[na(c(F,0),o.value.timezone),na(c(U,1),o.value.timezone)]}else n.value=na(c(S()),o.value.timezone)},v=F=>Array.isArray(F)?[ho(Ye(F[0])),ho(Ye(F[1]))]:[ho(F??Ye())],b=(F,U,O)=>{u("hours",F),u("minutes",U),u("seconds",e.enableSeconds?O:0)},P=()=>{const[F,U]=v(n.value);return s.value.enabled?b([F.hours,U.hours],[F.minutes,U.minutes],[F.seconds,U.seconds]):b(F.hours,F.minutes,F.seconds)};nr(()=>{if(!e.shadow)return h(i.value),n.value?P():w()});const M=()=>{Array.isArray(n.value)?n.value=n.value.map((F,U)=>F&&c(F,U)):n.value=c(n.value),t("time-update")};return{modelValue:n,time:a,disabledTimesConfig:p,updateTime:(F,U=!0,O=!1)=>{l(F,U,O,M)},validateTime:d}},Ck=qr({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Ja},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(e,{expose:t,emit:r}){const n=r,a=e,i=mo(),s=fa(i,"timePicker"),o=Ie(null),{time:l,modelValue:c,disabledTimesConfig:u,updateTime:h,validateTime:p}=Pk(a,n);return nr(()=>{a.shadow||n("mount",null)}),t({getSidebarProps:()=>({modelValue:c,time:l,updateTime:h}),toggleTimePicker:(d,g=!1,y="")=>{var S;(S=o.value)==null||S.toggleTimePicker(d,g,y)}}),(d,g)=>(be(),pt(rf,{"multi-calendars":0,stretch:"","is-mobile":d.isMobile},{default:dt(()=>[at(_b,Qr({ref_key:"tpRef",ref:o},d.$props,{hours:pe(l).hours,minutes:pe(l).minutes,seconds:pe(l).seconds,"internal-model-value":d.internalModelValue,"disabled-times-config":pe(u),"validate-time":pe(p),"onUpdate:hours":g[0]||(g[0]=y=>pe(h)(y)),"onUpdate:minutes":g[1]||(g[1]=y=>pe(h)(y,!1)),"onUpdate:seconds":g[2]||(g[2]=y=>pe(h)(y,!1,!0)),onAmPmChange:g[3]||(g[3]=y=>d.$emit("am-pm-change",y)),onResetFlow:g[4]||(g[4]=y=>d.$emit("reset-flow")),onOverlayClosed:g[5]||(g[5]=y=>d.$emit("overlay-toggle",{open:!1,overlay:y})),onOverlayOpened:g[6]||(g[6]=y=>d.$emit("overlay-toggle",{open:!0,overlay:y}))}),En({_:2},[Jt(pe(s),(y,S)=>({name:y,fn:dt(w=>[ot(d.$slots,y,cn(Vn(w)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3},8,["is-mobile"]))}}),Lk={class:"dp--header-wrap"},Nk={key:0,class:"dp__month_year_wrap"},Tk={key:0},Ok={class:"dp__month_year_wrap"},Ek=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],Rk=qr({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Ja},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(e,{expose:t,emit:r}){const n=r,a=e,{defaultedTransitions:i,defaultedAriaLabels:s,defaultedMultiCalendars:o,defaultedFilters:l,defaultedConfig:c,defaultedHighlight:u,propDates:h,defaultedUI:p}=wr(a),{transitionName:d,showTransition:g}=ad(i),{buildMatrix:y}=Is(),{handleMonthYearChange:S,isDisabled:w,updateMonthYear:v}=Zx(a,n),{showLeftIcon:b,showRightIcon:P}=af(),M=Ie(!1),F=Ie(!1),U=Ie(!1),O=Ie([null,null,null,null]);nr(()=>{n("mount")});const R=I=>({get:()=>a[I],set:G=>{const J=I===$a.month?$a.year:$a.month;n("update-month-year",{[I]:G,[J]:a[J]}),I===$a.month?q(!0):W(!0)}}),T=Ue(R($a.month)),C=Ue(R($a.year)),E=Ue(()=>I=>({month:a.month,year:a.year,items:I===$a.month?a.months:a.years,instance:a.instance,updateMonthYear:v,toggle:I===$a.month?q:W})),x=Ue(()=>a.months.find(G=>G.value===a.month)||{text:"",value:0}),k=Ue(()=>Bl(a.months,I=>{const G=a.month===I.value,J=Yc(I.value,lb(a.year,h.value.minDate),ub(a.year,h.value.maxDate))||l.value.months.includes(I.value),re=pb(u.value,I.value,a.year);return{active:G,disabled:J,highlighted:re}})),L=Ue(()=>Bl(a.years,I=>{const G=a.year===I.value,J=Yc(I.value,ql(h.value.minDate),ql(h.value.maxDate))||l.value.years.includes(I.value),re=Lp(u.value,I.value);return{active:G,disabled:J,highlighted:re}})),D=(I,G,J)=>{J!==void 0?I.value=J:I.value=!I.value,I.value?(U.value=!0,n("overlay-opened",G)):(U.value=!1,n("overlay-closed",G))},q=(I=!1,G)=>{Q(I),D(M,Ln.month,G)},W=(I=!1,G)=>{Q(I),D(F,Ln.year,G)},Q=I=>{I||n("reset-flow")},ne=(I,G)=>{a.arrowNavigation&&(O.value[G]=zr(I),y(O.value,"monthYear"))},oe=Ue(()=>{var I,G,J,re,_,V;return[{type:$a.month,index:1,toggle:q,modelValue:T.value,updateModelValue:Z=>T.value=Z,text:x.value.text,showSelectionGrid:M.value,items:k.value,ariaLabel:(I=s.value)==null?void 0:I.openMonthsOverlay,overlayLabel:((J=(G=s.value).monthPicker)==null?void 0:J.call(G,!0))??void 0},{type:$a.year,index:2,toggle:W,modelValue:C.value,updateModelValue:Z=>C.value=Z,text:ib(a.year,a.locale),showSelectionGrid:F.value,items:L.value,ariaLabel:(re=s.value)==null?void 0:re.openYearsOverlay,overlayLabel:((V=(_=s.value).yearPicker)==null?void 0:V.call(_,!0))??void 0}]}),$=Ue(()=>a.disableYearSelect?[oe.value[0]]:a.yearFirst?[...oe.value].reverse():oe.value);return t({toggleMonthPicker:q,toggleYearPicker:W,handleMonthYearChange:S}),(I,G)=>{var J,re,_,V,Z,fe;return be(),Oe("div",Lk,[I.$slots["month-year"]?(be(),Oe("div",Nk,[ot(I.$slots,"month-year",cn(Vn({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:pe(v),handleMonthYearChange:pe(S),instance:e.instance,isDisabled:pe(w)})))])):(be(),Oe(ct,{key:1},[I.$slots["top-extra"]?(be(),Oe("div",Tk,[ot(I.$slots,"top-extra",{value:I.internalModelValue})])):He("",!0),Ee("div",Ok,[pe(b)(pe(o),e.instance)&&!I.vertical?(be(),pt(Rc,{key:0,"aria-label":(J=pe(s))==null?void 0:J.prevMonth,disabled:pe(w)(!1),class:xt((re=pe(p))==null?void 0:re.navBtnPrev),"el-name":"action-prev",onActivate:G[0]||(G[0]=le=>pe(S)(!1,!0)),onSetRef:G[1]||(G[1]=le=>ne(le,0))},{default:dt(()=>[I.$slots["arrow-left"]?ot(I.$slots,"arrow-left",{key:0}):He("",!0),I.$slots["arrow-left"]?He("",!0):(be(),pt(pe(bp),{key:1}))]),_:3},8,["aria-label","disabled","class"])):He("",!0),Ee("div",{class:xt(["dp__month_year_wrap",{dp__year_disable_select:I.disableYearSelect}])},[(be(!0),Oe(ct,null,Jt($.value,(le,X)=>(be(),Oe(ct,{key:le.type},[Ee("button",{ref_for:!0,ref:z=>ne(z,X+1),type:"button","data-dp-element":`overlay-${le.type}`,class:xt(["dp__btn dp__month_year_select",{"dp--hidden-el":U.value}]),"aria-label":`${le.text}-${le.ariaLabel}`,"data-test-id":`${le.type}-toggle-overlay-${e.instance}`,onClick:le.toggle,onKeydown:z=>pe(Gn)(z,()=>le.toggle(),!0)},[I.$slots[le.type]?ot(I.$slots,le.type,{key:0,text:le.text,value:a[le.type]}):He("",!0),I.$slots[le.type]?He("",!0):(be(),Oe(ct,{key:1},[ir(qt(le.text),1)],64))],42,Ek),at($l,{name:pe(d)(le.showSelectionGrid),css:pe(g)},{default:dt(()=>[le.showSelectionGrid?(be(),pt(nd,{key:0,items:le.items,"arrow-navigation":I.arrowNavigation,"hide-navigation":I.hideNavigation,"is-last":I.autoApply&&!pe(c).keepActionRow,"skip-button-ref":!1,config:I.config,type:le.type,"header-refs":[],"esc-close":I.escClose,"menu-wrap-ref":I.menuWrapRef,"text-input":I.textInput,"aria-labels":I.ariaLabels,"overlay-label":le.overlayLabel,onSelected:le.updateModelValue,onToggle:le.toggle},En({"button-icon":dt(()=>[I.$slots["calendar-icon"]?ot(I.$slots,"calendar-icon",{key:0}):He("",!0),I.$slots["calendar-icon"]?He("",!0):(be(),pt(pe(Vl),{key:1}))]),_:2},[I.$slots[`${le.type}-overlay-value`]?{name:"item",fn:dt(({item:z})=>[ot(I.$slots,`${le.type}-overlay-value`,{text:z.text,value:z.value})]),key:"0"}:void 0,I.$slots[`${le.type}-overlay`]?{name:"overlay",fn:dt(()=>[ot(I.$slots,`${le.type}-overlay`,Qr({ref_for:!0},E.value(le.type)))]),key:"1"}:void 0,I.$slots[`${le.type}-overlay-header`]?{name:"header",fn:dt(()=>[ot(I.$slots,`${le.type}-overlay-header`,{toggle:le.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):He("",!0)]),_:2},1032,["name","css"])],64))),128))],2),pe(b)(pe(o),e.instance)&&I.vertical?(be(),pt(Rc,{key:1,"aria-label":(_=pe(s))==null?void 0:_.prevMonth,"el-name":"action-prev",disabled:pe(w)(!1),class:xt((V=pe(p))==null?void 0:V.navBtnPrev),onActivate:G[2]||(G[2]=le=>pe(S)(!1,!0))},{default:dt(()=>[I.$slots["arrow-up"]?ot(I.$slots,"arrow-up",{key:0}):He("",!0),I.$slots["arrow-up"]?He("",!0):(be(),pt(pe(Sp),{key:1}))]),_:3},8,["aria-label","disabled","class"])):He("",!0),pe(P)(pe(o),e.instance)?(be(),pt(Rc,{key:2,ref:"rightIcon","el-name":"action-next",disabled:pe(w)(!0),"aria-label":(Z=pe(s))==null?void 0:Z.nextMonth,class:xt((fe=pe(p))==null?void 0:fe.navBtnNext),onActivate:G[3]||(G[3]=le=>pe(S)(!0,!0)),onSetRef:G[4]||(G[4]=le=>ne(le,I.disableYearSelect?2:3))},{default:dt(()=>[I.$slots[I.vertical?"arrow-down":"arrow-right"]?ot(I.$slots,I.vertical?"arrow-down":"arrow-right",{key:0}):He("",!0),I.$slots[I.vertical?"arrow-down":"arrow-right"]?He("",!0):(be(),pt(Qc(I.vertical?pe(xp):pe(_p)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):He("",!0)])],64))])}}}),Mk={class:"dp__calendar_header",role:"row"},Dk={key:0,class:"dp__calendar_header_item",role:"gridcell"},Ik=["aria-label"],Fk={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},jk={class:"dp__cell_inner"},Bk=["id","aria-pressed","aria-disabled","aria-label","tabindex","data-test-id","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],qk=qr({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Ja},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:r}){const n=r,a=e,{buildMultiLevelMatrix:i}=Is(),{defaultedTransitions:s,defaultedConfig:o,defaultedAriaLabels:l,defaultedMultiCalendars:c,defaultedWeekNumbers:u,defaultedMultiDates:h,defaultedUI:p}=wr(a),d=Ie(null),g=Ie({bottom:"",left:"",transform:""}),y=Ie([]),S=Ie(null),w=Ie(!0),v=Ie(""),b=Ie({startX:0,endX:0,startY:0,endY:0}),P=Ie([]),M=Ie({left:"50%"}),F=Ie(!1),U=Ue(()=>a.calendar?a.calendar(a.mappedDates):a.mappedDates),O=Ue(()=>a.dayNames?Array.isArray(a.dayNames)?a.dayNames:a.dayNames(a.locale,+a.weekStart):bx(a.formatLocale,a.locale,+a.weekStart));nr(()=>{n("mount",{cmp:"calendar",refs:y}),o.value.noSwipe||S.value&&(S.value.addEventListener("touchstart",ne,{passive:!1}),S.value.addEventListener("touchend",oe,{passive:!1}),S.value.addEventListener("touchmove",$,{passive:!1})),a.monthChangeOnScroll&&S.value&&S.value.addEventListener("wheel",J,{passive:!1})}),bi(()=>{o.value.noSwipe||S.value&&(S.value.removeEventListener("touchstart",ne),S.value.removeEventListener("touchend",oe),S.value.removeEventListener("touchmove",$)),a.monthChangeOnScroll&&S.value&&S.value.removeEventListener("wheel",J)});const R=le=>le?a.vertical?"vNext":"next":a.vertical?"vPrevious":"previous",T=(le,X)=>{if(a.transitions){const z=fn(Ui(Ye(),a.month,a.year));v.value=Mr(fn(Ui(Ye(),le,X)),z)?s.value[R(!0)]:s.value[R(!1)],w.value=!1,Hn(()=>{w.value=!0})}},C=Ue(()=>({...p.value.calendar??{}})),E=Ue(()=>le=>{const X=wx(le);return{dp__marker_dot:X.type==="dot",dp__marker_line:X.type==="line"}}),x=Ue(()=>le=>Bt(le,d.value)),k=Ue(()=>({dp__calendar:!0,dp__calendar_next:c.value.count>0&&a.instance!==0})),L=Ue(()=>le=>a.hideOffsetDates?le.current:!0),D=async(le,X)=>{const{width:z,height:se}=le.getBoundingClientRect();d.value=X.value;let B={left:`${z/2}px`},H=-50;if(await Hn(),P.value[0]){const{left:de,width:ge}=P.value[0].getBoundingClientRect();de<0&&(B={left:"0"},H=0,M.value.left=`${z/2}px`),window.innerWidth<de+ge&&(B={right:"0"},H=0,M.value.left=`${ge-z/2}px`)}g.value={bottom:`${se}px`,...B,transform:`translateX(${H}%)`}},q=async(le,X,z)=>{var se,B,H;const de=zr(y.value[X][z]);de&&((se=le.marker)!=null&&se.customPosition&&(H=(B=le.marker)==null?void 0:B.tooltip)!=null&&H.length?g.value=le.marker.customPosition(de):await D(de,le),n("tooltip-open",le.marker))},W=async(le,X,z)=>{var se,B;if(F.value&&h.value.enabled&&h.value.dragSelect)return n("select-date",le);if(n("set-hover-date",le),(B=(se=le.marker)==null?void 0:se.tooltip)!=null&&B.length){if(a.hideOffsetDates&&!le.current)return;await q(le,X,z)}},Q=le=>{d.value&&(d.value=null,g.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),n("tooltip-close",le.marker))},ne=le=>{b.value.startX=le.changedTouches[0].screenX,b.value.startY=le.changedTouches[0].screenY},oe=le=>{b.value.endX=le.changedTouches[0].screenX,b.value.endY=le.changedTouches[0].screenY,I()},$=le=>{a.vertical&&!a.inline&&le.preventDefault()},I=()=>{const le=a.vertical?"Y":"X";Math.abs(b.value[`start${le}`]-b.value[`end${le}`])>10&&n("handle-swipe",b.value[`start${le}`]>b.value[`end${le}`]?"right":"left")},G=(le,X,z)=>{le&&(Array.isArray(y.value[X])?y.value[X][z]=le:y.value[X]=[le]),a.arrowNavigation&&i(y.value,"calendar")},J=le=>{a.monthChangeOnScroll&&(le.preventDefault(),n("handle-scroll",le))},re=le=>u.value.type==="local"?mp(le.value,{weekStartsOn:+a.weekStart}):u.value.type==="iso"?pp(le.value):typeof u.value.type=="function"?u.value.type(le.value):"",_=le=>{const X=le[0];return u.value.hideOnOffsetDates?le.some(z=>z.current)?re(X):"":re(X)},V=(le,X,z=!0)=>{!z&&Px()||(!h.value.enabled||o.value.allowPreventDefault)&&(Cs(le,o.value),n("select-date",X))},Z=le=>{Cs(le,o.value)},fe=le=>{h.value.enabled&&h.value.dragSelect?(F.value=!0,n("select-date",le)):h.value.enabled&&n("select-date",le)};return t({triggerTransition:T}),(le,X)=>(be(),Oe("div",{class:xt(k.value)},[Ee("div",{ref_key:"calendarWrapRef",ref:S,class:xt(C.value),role:"grid"},[Ee("div",Mk,[le.weekNumbers?(be(),Oe("div",Dk,qt(le.weekNumName),1)):He("",!0),(be(!0),Oe(ct,null,Jt(O.value,(z,se)=>{var B,H;return be(),Oe("div",{key:se,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":(H=(B=pe(l))==null?void 0:B.weekDay)==null?void 0:H.call(B,se)},[le.$slots["calendar-header"]?ot(le.$slots,"calendar-header",{key:0,day:z,index:se}):He("",!0),le.$slots["calendar-header"]?He("",!0):(be(),Oe(ct,{key:1},[ir(qt(z),1)],64))],8,Ik)}),128))]),X[2]||(X[2]=Ee("div",{class:"dp__calendar_header_separator"},null,-1)),at($l,{name:v.value,css:!!le.transitions},{default:dt(()=>[w.value?(be(),Oe("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:X[1]||(X[1]=z=>F.value=!1)},[(be(!0),Oe(ct,null,Jt(U.value,(z,se)=>(be(),Oe("div",{key:se,class:"dp__calendar_row",role:"row"},[le.weekNumbers?(be(),Oe("div",Fk,[Ee("div",jk,qt(_(z.days)),1)])):He("",!0),(be(!0),Oe(ct,null,Jt(z.days,(B,H)=>{var de,ge,me;return be(),Oe("div",{id:pe(T1)(B.value),ref_for:!0,ref:ve=>G(ve,se,H),key:H+se,role:"gridcell",class:"dp__calendar_item","aria-pressed":(B.classData.dp__active_date||B.classData.dp__range_start||B.classData.dp__range_start)??void 0,"aria-disabled":B.classData.dp__cell_disabled||void 0,"aria-label":(ge=(de=pe(l))==null?void 0:de.day)==null?void 0:ge.call(de,B),tabindex:!B.current&&le.hideOffsetDates?void 0:0,"data-test-id":pe(T1)(B.value),onClick:ma(ve=>V(ve,B),["prevent"]),onTouchend:ve=>V(ve,B,!1),onKeydown:ve=>pe(Gn)(ve,()=>le.$emit("select-date",B)),onMouseenter:ve=>W(B,se,H),onMouseleave:ve=>Q(B),onMousedown:ve=>fe(B),onMouseup:X[0]||(X[0]=ve=>F.value=!1)},[Ee("div",{class:xt(["dp__cell_inner",B.classData])},[le.$slots.day&&L.value(B)?ot(le.$slots,"day",{key:0,day:+B.text,date:B.value}):He("",!0),le.$slots.day?He("",!0):(be(),Oe(ct,{key:1},[ir(qt(B.text),1)],64)),B.marker&&L.value(B)?(be(),Oe(ct,{key:2},[le.$slots.marker?ot(le.$slots,"marker",{key:0,marker:B.marker,day:+B.text,date:B.value}):(be(),Oe("div",{key:1,class:xt(E.value(B.marker)),style:_n(B.marker.color?{backgroundColor:B.marker.color}:{})},null,6))],64)):He("",!0),x.value(B.value)?(be(),Oe("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:P,class:"dp__marker_tooltip",style:_n(g.value)},[(me=B.marker)!=null&&me.tooltip?(be(),Oe("div",{key:0,class:"dp__tooltip_content",onClick:Z},[(be(!0),Oe(ct,null,Jt(B.marker.tooltip,(ve,Se)=>(be(),Oe("div",{key:Se,class:"dp__tooltip_text"},[le.$slots["marker-tooltip"]?ot(le.$slots,"marker-tooltip",{key:0,tooltip:ve,day:B.value}):He("",!0),le.$slots["marker-tooltip"]?He("",!0):(be(),Oe(ct,{key:1},[Ee("div",{class:"dp__tooltip_mark",style:_n(ve.color?{backgroundColor:ve.color}:{})},null,4),Ee("div",null,qt(ve.text),1)],64))]))),128)),Ee("div",{class:"dp__arrow_bottom_tp",style:_n(M.value)},null,4)])):He("",!0)],4)):He("",!0)],2)],40,Bk)}),128))]))),128))],32)):He("",!0)]),_:3},8,["name","css"])],2)],2))}}),rm=e=>Array.isArray(e),$k=(e,t,r,n)=>{const a=Ie([]),i=Ie(new Date),s=Ie(),o=()=>oe(e.isTextInputDate),{modelValue:l,calendars:c,time:u,today:h}=id(e,t,o),{defaultedMultiCalendars:p,defaultedStartTime:d,defaultedRange:g,defaultedConfig:y,defaultedTz:S,propDates:w,defaultedMultiDates:v}=wr(e),{validateMonthYearInRange:b,isDisabled:P,isDateRangeAllowed:M,checkMinMaxRange:F}=Fs(e),{updateTimeValues:U,getSetDateTime:O,setTime:R,assignStartTime:T,validateTime:C,disabledTimesConfig:E}=wb(e,u,l,n),x=Ue(()=>Ae=>c.value[Ae]?c.value[Ae].month:0),k=Ue(()=>Ae=>c.value[Ae]?c.value[Ae].year:0),L=Ae=>!y.value.keepViewOnOffsetClick||Ae?!0:!s.value,D=(Ae,Xe,rt,vt=!1)=>{var je,Je;L(vt)&&(c.value[Ae]||(c.value[Ae]={month:0,year:0}),c.value[Ae].month=Xg(Xe)?(je=c.value[Ae])==null?void 0:je.month:Xe,c.value[Ae].year=Xg(rt)?(Je=c.value[Ae])==null?void 0:Je.year:rt)},q=()=>{e.autoApply&&t("select-date")},W=()=>{d.value&&T(d.value)};nr(()=>{e.shadow||(l.value||(X(),W()),oe(!0),e.focusStartDate&&e.startDate&&X())});const Q=Ue(()=>{var Ae;return(Ae=e.flow)!=null&&Ae.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),ne=()=>{e.autoApply&&Q.value&&t("auto-apply",e.partialFlow?e.flowStep!==e.flow.length:!1)},oe=(Ae=!1)=>{if(l.value)return Array.isArray(l.value)?(a.value=l.value,V(Ae)):G(l.value,Ae);if(p.value.count&&Ae&&!e.startDate)return I(Ye(),Ae)},$=()=>Array.isArray(l.value)&&g.value.enabled?jt(l.value[0])===jt(l.value[1]??l.value[0]):!1,I=(Ae=new Date,Xe=!1)=>{if((!p.value.count||!p.value.static||Xe)&&D(0,jt(Ae),kt(Ae)),p.value.count&&(!l.value||$()||!p.value.solo)&&(!p.value.solo||Xe))for(let rt=1;rt<p.value.count;rt++){const vt=sr(Ye(),{month:x.value(rt-1),year:k.value(rt-1)}),je=My(vt,{months:1});c.value[rt]={month:jt(je),year:kt(je)}}},G=(Ae,Xe)=>{I(Ae),R("hours",Hi(Ae)),R("minutes",Ts(Ae)),R("seconds",Il(Ae)),p.value.count&&Xe&&le()},J=Ae=>{if(p.value.count){if(p.value.solo)return 0;const Xe=jt(Ae[0]),rt=jt(Ae[1]);return Math.abs(rt-Xe)<p.value.count?0:1}return 1},re=(Ae,Xe)=>{Ae[1]&&g.value.showLastInRange?I(Ae[J(Ae)],Xe):I(Ae[0],Xe);const rt=(vt,je)=>[vt(Ae[0]),Ae[1]?vt(Ae[1]):u[je][1]];R("hours",rt(Hi,"hours")),R("minutes",rt(Ts,"minutes")),R("seconds",rt(Il,"seconds"))},_=(Ae,Xe)=>{if((g.value.enabled||e.weekPicker)&&!v.value.enabled)return re(Ae,Xe);if(v.value.enabled&&Xe){const rt=Ae[Ae.length-1];return G(rt,Xe)}},V=Ae=>{const Xe=l.value;_(Xe,Ae),p.value.count&&p.value.solo&&le()},Z=(Ae,Xe)=>{const rt=sr(Ye(),{month:x.value(Xe),year:k.value(Xe)}),vt=Ae<0?Wa(rt,1):jl(rt,1);b(jt(vt),kt(vt),Ae<0,e.preventMinMaxNavigation)&&(D(Xe,jt(vt),kt(vt)),t("update-month-year",{instance:Xe,month:jt(vt),year:kt(vt)}),p.value.count&&!p.value.solo&&fe(Xe),r())},fe=Ae=>{for(let Xe=Ae-1;Xe>=0;Xe--){const rt=jl(sr(Ye(),{month:x.value(Xe+1),year:k.value(Xe+1)}),1);D(Xe,jt(rt),kt(rt))}for(let Xe=Ae+1;Xe<=p.value.count-1;Xe++){const rt=Wa(sr(Ye(),{month:x.value(Xe-1),year:k.value(Xe-1)}),1);D(Xe,jt(rt),kt(rt))}},le=()=>{if(Array.isArray(l.value)&&l.value.length===2){const Ae=Ye(Ye(l.value[1]?l.value[1]:Wa(l.value[0],1))),[Xe,rt]=[jt(l.value[0]),kt(l.value[0])],[vt,je]=[jt(l.value[1]),kt(l.value[1])];(Xe!==vt||Xe===vt&&rt!==je)&&p.value.solo&&D(1,jt(Ae),kt(Ae))}else l.value&&!Array.isArray(l.value)&&(D(0,jt(l.value),kt(l.value)),I(Ye()))},X=()=>{e.startDate&&(D(0,jt(Ye(e.startDate)),kt(Ye(e.startDate))),p.value.count&&fe(0))},z=(Ae,Xe)=>{if(e.monthChangeOnScroll){const rt=new Date().getTime()-i.value.getTime(),vt=Math.abs(Ae.deltaY);let je=500;vt>1&&(je=100),vt>100&&(je=0),rt>je&&(i.value=new Date,Z(e.monthChangeOnScroll!=="inverse"?-Ae.deltaY:Ae.deltaY,Xe))}},se=(Ae,Xe,rt=!1)=>{e.monthChangeOnArrows&&e.vertical===rt&&B(Ae,Xe)},B=(Ae,Xe)=>{Z(Ae==="right"?-1:1,Xe)},H=Ae=>{if(w.value.markers)return Dh(Ae.value,w.value.markers)},de=(Ae,Xe)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[Ae==0,!0];case"fair":return[Ae==0||Xe>Ae,!0];case"append":return[!1,!1];default:return[!1,!1]}},ge=(Ae,Xe,rt,vt)=>{if(e.sixWeeks&&Ae.length<6){const je=6-Ae.length,Je=(Xe.getDay()+7-vt)%7,ze=6-(rt.getDay()+7-vt)%7,[Rt,tn]=de(Je,ze);for(let gr=1;gr<=je;gr++)if(tn?!!(gr%2)==Rt:Rt){const Yr=Ae[0].days[0],zn=me(Pa(Yr.value,-7),jt(Xe));Ae.unshift({days:zn})}else{const Yr=Ae[Ae.length-1],zn=Yr.days[Yr.days.length-1],gt=me(Pa(zn.value,1),jt(Xe));Ae.push({days:gt})}}return Ae},me=(Ae,Xe)=>{const rt=Ye(Ae),vt=[];for(let je=0;je<7;je++){const Je=Pa(rt,je),ze=jt(Je)!==Xe;vt.push({text:e.hideOffsetDates&&ze?"":Je.getDate(),value:Je,current:!ze,classData:{}})}return vt},ve=(Ae,Xe)=>{const rt=[],vt=new Date(Xe,Ae),je=new Date(Xe,Ae+1,0),Je=e.weekStart,ze=Xa(vt,{weekStartsOn:Je}),Rt=tn=>{const gr=me(tn,Ae);if(rt.push({days:gr}),!rt[rt.length-1].days.some(Yr=>Bt(fn(Yr.value),fn(je)))){const Yr=Pa(tn,7);Rt(Yr)}};return Rt(ze),ge(rt,vt,je,Je)},Se=Ae=>{const Xe=Ls(Ye(Ae.value),u.hours,u.minutes,Fe());t("date-update",Xe),v.value.enabled?Np(Xe,l,v.value.limit):l.value=Xe,n(),Hn().then(()=>{ne()})},Ce=Ae=>g.value.noDisabledRange?cb(a.value[0],Ae).some(Xe=>P(Xe)):!1,ue=()=>{a.value=l.value?l.value.slice():[],a.value.length===2&&!(g.value.fixedStart||g.value.fixedEnd)&&(a.value=[])},ke=(Ae,Xe)=>{const rt=[Ye(Ae.value),Pa(Ye(Ae.value),+g.value.autoRange)];M(rt)?(Xe&&Me(Ae.value),a.value=rt):t("invalid-date",Ae.value)},Me=Ae=>{const Xe=jt(Ye(Ae)),rt=kt(Ye(Ae));if(D(0,Xe,rt),p.value.count>0)for(let vt=1;vt<p.value.count;vt++){const je=Nx(sr(Ye(Ae),{year:k.value(vt-1),month:x.value(vt-1)}));D(vt,je.month,je.year)}},Ve=Ae=>{if(Ce(Ae.value)||!F(Ae.value,l.value,g.value.fixedStart?0:1))return t("invalid-date",Ae.value);a.value=yb(Ye(Ae.value),l,t,g)},Ze=(Ae,Xe)=>{if(ue(),g.value.autoRange)return ke(Ae,Xe);if(g.value.fixedStart||g.value.fixedEnd)return Ve(Ae);a.value[0]?F(Ye(Ae.value),l.value)&&!Ce(Ae.value)?Cr(Ye(Ae.value),Ye(a.value[0]))?(a.value.unshift(Ye(Ae.value)),t("range-end",a.value[0])):(a.value[1]=Ye(Ae.value),t("range-end",a.value[1])):(e.autoApply&&t("auto-apply-invalid",Ae.value),t("invalid-date",Ae.value)):(a.value[0]=Ye(Ae.value),t("range-start",a.value[0]))},Fe=(Ae=!0)=>e.enableSeconds?Array.isArray(u.seconds)?Ae?u.seconds[0]:u.seconds[1]:u.seconds:0,Qe=Ae=>{a.value[Ae]=Ls(a.value[Ae],u.hours[Ae],u.minutes[Ae],Fe(Ae!==1))},nt=()=>{var Ae,Xe;a.value[0]&&a.value[1]&&+((Ae=a.value)==null?void 0:Ae[0])>+((Xe=a.value)==null?void 0:Xe[1])&&(a.value.reverse(),t("range-start",a.value[0]),t("range-end",a.value[1]))},Ke=()=>{a.value.length&&(a.value[0]&&!a.value[1]?Qe(0):(Qe(0),Qe(1),n()),nt(),l.value=a.value.slice(),nf(a.value,t,e.autoApply,e.modelAuto))},Ct=(Ae,Xe=!1)=>{if(P(Ae.value)||!Ae.current&&e.hideOffsetDates)return t("invalid-date",Ae.value);if(s.value=JSON.parse(JSON.stringify(Ae)),!g.value.enabled)return Se(Ae);rm(u.hours)&&rm(u.minutes)&&!v.value.enabled&&(Ze(Ae,Xe),Ke())},ft=(Ae,Xe)=>{var rt;D(Ae,Xe.month,Xe.year,!0),p.value.count&&!p.value.solo&&fe(Ae),t("update-month-year",{instance:Ae,month:Xe.month,year:Xe.year}),r(p.value.solo?Ae:void 0);const vt=(rt=e.flow)!=null&&rt.length?e.flow[e.flowStep]:void 0;!Xe.fromNav&&(vt===Ln.month||vt===Ln.year)&&n()},Yt=(Ae,Xe)=>{vb({value:Ae,modelValue:l,range:g.value.enabled,timezone:Xe?void 0:S.value.timezone}),q(),e.multiCalendars&&Hn().then(()=>oe(!0))},_t=()=>{const Ae=kp(Ye(),S.value);!g.value.enabled&&!v.value.enabled?l.value=Ae:l.value&&Array.isArray(l.value)&&l.value[0]?v.value.enabled?l.value=[...l.value,Ae]:l.value=Cr(Ae,l.value[0])?[Ae,l.value[0]]:[l.value[0],Ae]:l.value=[Ae],q()},Et=()=>{if(Array.isArray(l.value))if(v.value.enabled){const Ae=mn();l.value[l.value.length-1]=O(Ae)}else l.value=l.value.map((Ae,Xe)=>Ae&&O(Ae,Xe));else l.value=O(l.value);t("time-update")},mn=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:c,modelValue:l,month:x,year:k,time:u,disabledTimesConfig:E,today:h,validateTime:C,getCalendarDays:ve,getMarker:H,handleScroll:z,handleSwipe:B,handleArrow:se,selectDate:Ct,updateMonthYear:ft,presetDate:Yt,selectCurrentDate:_t,updateTime:(Ae,Xe=!0,rt=!1)=>{U(Ae,Xe,rt,Et)},assignMonthAndYear:I,setStartTime:W}},Uk={key:0},Vk=qr({__name:"DatePicker",props:{...Ja},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:t,emit:r}){const n=r,a=e,{calendars:i,month:s,year:o,modelValue:l,time:c,disabledTimesConfig:u,today:h,validateTime:p,getCalendarDays:d,getMarker:g,handleArrow:y,handleScroll:S,handleSwipe:w,selectDate:v,updateMonthYear:b,presetDate:P,selectCurrentDate:M,updateTime:F,assignMonthAndYear:U,setStartTime:O}=$k(a,n,$,I),R=mo(),{setHoverDate:T,getDayClassData:C,clearHoverDate:E}=sA(l,a),{defaultedMultiCalendars:x}=wr(a),k=Ie([]),L=Ie([]),D=Ie(null),q=fa(R,"calendar"),W=fa(R,"monthYear"),Q=fa(R,"timePicker"),ne=z=>{a.shadow||n("mount",z)};Zr(i,()=>{a.shadow||setTimeout(()=>{n("recalculate-position")},0)},{deep:!0}),Zr(x,(z,se)=>{z.count-se.count>0&&U()},{deep:!0});const oe=Ue(()=>z=>d(s.value(z),o.value(z)).map(se=>({...se,days:se.days.map(B=>(B.marker=g(B),B.classData=C(B),B))})));function $(z){var se;z||z===0?(se=L.value[z])==null||se.triggerTransition(s.value(z),o.value(z)):L.value.forEach((B,H)=>B.triggerTransition(s.value(H),o.value(H)))}function I(){n("update-flow-step")}const G=(z,se=!1)=>{v(z,se),a.spaceConfirm&&n("select-date")},J=(z,se,B=0)=>{var H;(H=k.value[B])==null||H.toggleMonthPicker(z,se)},re=(z,se,B=0)=>{var H;(H=k.value[B])==null||H.toggleYearPicker(z,se)},_=(z,se,B)=>{var H;(H=D.value)==null||H.toggleTimePicker(z,se,B)},V=(z,se)=>{var B;if(!a.range){const H=l.value?l.value:h,de=se?new Date(se):H,ge=z?Xa(de,{weekStartsOn:1}):$y(de,{weekStartsOn:1});v({value:ge,current:jt(de)===s.value(0),text:"",classData:{}}),(B=document.getElementById(T1(ge)))==null||B.focus()}},Z=z=>{var se;(se=k.value[0])==null||se.handleMonthYearChange(z,!0)},fe=z=>{b(0,{month:s.value(0),year:o.value(0)+(z?1:-1),fromNav:!0})},le=(z,se)=>{z===Ln.time&&n(`time-picker-${se?"open":"close"}`),n("overlay-toggle",{open:se,overlay:z})},X=z=>{n("overlay-toggle",{open:!1,overlay:z}),n("focus-menu")};return t({clearHoverDate:E,presetDate:P,selectCurrentDate:M,toggleMonthPicker:J,toggleYearPicker:re,toggleTimePicker:_,handleArrow:y,updateMonthYear:b,getSidebarProps:()=>({modelValue:l,month:s,year:o,time:c,updateTime:F,updateMonthYear:b,selectDate:v,presetDate:P}),changeMonth:Z,changeYear:fe,selectWeekDate:V,setStartTime:O}),(z,se)=>(be(),Oe(ct,null,[at(rf,{"multi-calendars":pe(x).count,collapse:z.collapse,"is-mobile":z.isMobile},{default:dt(({instance:B,index:H})=>[z.disableMonthYearSelect?He("",!0):(be(),pt(Rk,Qr({key:0,ref:de=>{de&&(k.value[H]=de)},months:pe(rb)(z.formatLocale,z.locale,z.monthNameFormat),years:pe(Ap)(z.yearRange,z.locale,z.reverseYears),month:pe(s)(B),year:pe(o)(B),instance:B},z.$props,{onMount:se[0]||(se[0]=de=>ne(pe(co).header)),onResetFlow:se[1]||(se[1]=de=>z.$emit("reset-flow")),onUpdateMonthYear:de=>pe(b)(B,de),onOverlayClosed:X,onOverlayOpened:se[2]||(se[2]=de=>z.$emit("overlay-toggle",{open:!0,overlay:de}))}),En({_:2},[Jt(pe(W),(de,ge)=>({name:de,fn:dt(me=>[ot(z.$slots,de,cn(Vn(me)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),at(qk,Qr({ref:de=>{de&&(L.value[H]=de)},"mapped-dates":oe.value(B),month:pe(s)(B),year:pe(o)(B),instance:B},z.$props,{onSelectDate:de=>pe(v)(de,B!==1),onHandleSpace:de=>G(de,B!==1),onSetHoverDate:se[3]||(se[3]=de=>pe(T)(de)),onHandleScroll:de=>pe(S)(de,B),onHandleSwipe:de=>pe(w)(de,B),onMount:se[4]||(se[4]=de=>ne(pe(co).calendar)),onResetFlow:se[5]||(se[5]=de=>z.$emit("reset-flow")),onTooltipOpen:se[6]||(se[6]=de=>z.$emit("tooltip-open",de)),onTooltipClose:se[7]||(se[7]=de=>z.$emit("tooltip-close",de))}),En({_:2},[Jt(pe(q),(de,ge)=>({name:de,fn:dt(me=>[ot(z.$slots,de,cn(Vn({...me})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse","is-mobile"]),z.enableTimePicker?(be(),Oe("div",Uk,[z.$slots["time-picker"]?ot(z.$slots,"time-picker",cn(Qr({key:0},{time:pe(c),updateTime:pe(F)}))):(be(),pt(_b,Qr({key:1,ref_key:"timePickerRef",ref:D},z.$props,{hours:pe(c).hours,minutes:pe(c).minutes,seconds:pe(c).seconds,"internal-model-value":z.internalModelValue,"disabled-times-config":pe(u),"validate-time":pe(p),onMount:se[8]||(se[8]=B=>ne(pe(co).timePicker)),"onUpdate:hours":se[9]||(se[9]=B=>pe(F)(B)),"onUpdate:minutes":se[10]||(se[10]=B=>pe(F)(B,!1)),"onUpdate:seconds":se[11]||(se[11]=B=>pe(F)(B,!1,!0)),onResetFlow:se[12]||(se[12]=B=>z.$emit("reset-flow")),onOverlayClosed:se[13]||(se[13]=B=>le(B,!1)),onOverlayOpened:se[14]||(se[14]=B=>le(B,!0)),onAmPmChange:se[15]||(se[15]=B=>z.$emit("am-pm-change",B))}),En({_:2},[Jt(pe(Q),(B,H)=>({name:B,fn:dt(de=>[ot(z.$slots,B,cn(Vn(de)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):He("",!0)],64))}}),Gk=(e,t)=>{const r=Ie(),{defaultedMultiCalendars:n,defaultedConfig:a,defaultedHighlight:i,defaultedRange:s,propDates:o,defaultedFilters:l,defaultedMultiDates:c}=wr(e),{modelValue:u,year:h,month:p,calendars:d}=id(e,t),{isDisabled:g}=Fs(e),{selectYear:y,groupedYears:S,showYearPicker:w,isDisabled:v,toggleYearPicker:b,handleYearSelect:P,handleYear:M}=bb({modelValue:u,multiCalendars:n,range:s,highlight:i,calendars:d,propDates:o,month:p,year:h,filters:l,props:e,emit:t}),F=(L,D)=>[L,D].map(q=>vi(q,"MMMM",{locale:e.formatLocale})).join("-"),U=Ue(()=>L=>u.value?Array.isArray(u.value)?u.value.some(D=>Wg(L,D)):Wg(u.value,L):!1),O=L=>{if(s.value.enabled){if(Array.isArray(u.value)){const D=Bt(L,u.value[0])||Bt(L,u.value[1]);return Kc(u.value,r.value,L)&&!D}return!1}return!1},R=(L,D)=>L.quarter===$g(D)&&L.year===kt(D),T=L=>typeof i.value=="function"?i.value({quarter:$g(L),year:kt(L)}):!!i.value.quarters.find(D=>R(D,L)),C=Ue(()=>L=>{const D=sr(new Date,{year:h.value(L)});return b9({start:Wc(D),end:qy(D)}).map(q=>{const W=lo(q),Q=Ug(q),ne=g(q),oe=O(W),$=T(W);return{text:F(W,Q),value:W,active:U.value(W),highlighted:$,disabled:ne,isBetween:oe}})}),E=L=>{Np(L,u,c.value.limit),t("auto-apply",!0)},x=L=>{u.value=Tp(u,L,t),nf(u.value,t,e.autoApply,e.modelAuto)},k=L=>{u.value=L,t("auto-apply")};return{defaultedConfig:a,defaultedMultiCalendars:n,groupedYears:S,year:h,isDisabled:v,quarters:C,showYearPicker:w,modelValue:u,setHoverDate:L=>{r.value=L},selectYear:y,selectQuarter:(L,D,q)=>{if(!q)return d.value[D].month=jt(Ug(L)),c.value.enabled?E(L):s.value.enabled?x(L):k(L)},toggleYearPicker:b,handleYearSelect:P,handleYear:M}},Hk={class:"dp--quarter-items"},zk=["data-test-id","disabled","onClick","onMouseover"],Wk=qr({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Ja},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(e,{expose:t,emit:r}){const n=r,a=e,i=mo(),s=fa(i,"yearMode"),{defaultedMultiCalendars:o,defaultedConfig:l,groupedYears:c,year:u,isDisabled:h,quarters:p,modelValue:d,showYearPicker:g,setHoverDate:y,selectQuarter:S,toggleYearPicker:w,handleYearSelect:v,handleYear:b}=Gk(a,n);return t({getSidebarProps:()=>({modelValue:d,year:u,selectQuarter:S,handleYearSelect:v,handleYear:b})}),(P,M)=>(be(),pt(rf,{"multi-calendars":pe(o).count,collapse:P.collapse,stretch:"","is-mobile":P.isMobile},{default:dt(({instance:F})=>[Ee("div",{class:"dp-quarter-picker-wrap",style:_n({minHeight:`${pe(l).modeHeight}px`})},[P.$slots["top-extra"]?ot(P.$slots,"top-extra",{key:0,value:P.internalModelValue}):He("",!0),Ee("div",null,[at(mb,Qr(P.$props,{items:pe(c)(F),instance:F,"show-year-picker":pe(g)[F],year:pe(u)(F),"is-disabled":U=>pe(h)(F,U),onHandleYear:U=>pe(b)(F,U),onYearSelect:U=>pe(v)(U,F),onToggleYearPicker:U=>pe(w)(F,U==null?void 0:U.flow,U==null?void 0:U.show)}),En({_:2},[Jt(pe(s),(U,O)=>({name:U,fn:dt(R=>[ot(P.$slots,U,cn(Vn(R)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),Ee("div",Hk,[(be(!0),Oe(ct,null,Jt(pe(p)(F),(U,O)=>(be(),Oe("div",{key:O},[Ee("button",{type:"button",class:xt(["dp--qr-btn",{"dp--qr-btn-active":U.active,"dp--qr-btn-between":U.isBetween,"dp--qr-btn-disabled":U.disabled,"dp--highlighted":U.highlighted}]),"data-test-id":U.value,disabled:U.disabled,onClick:R=>pe(S)(U.value,F,U.disabled),onMouseover:R=>pe(y)(U.value)},[P.$slots.quarter?ot(P.$slots,"quarter",{key:0,value:U.value,text:U.text}):(be(),Oe(ct,{key:1},[ir(qt(U.text),1)],64))],42,zk)]))),128))])],4)]),_:3},8,["multi-calendars","collapse","is-mobile"]))}}),Sb=(e,t)=>{const r=Ie(0);nr(()=>{n(),window.addEventListener("resize",n,{passive:!0})}),bi(()=>{window.removeEventListener("resize",n)});const n=()=>{r.value=window.document.documentElement.clientWidth};return{isMobile:Ue(()=>r.value<=e.value.mobileBreakpoint&&!t?!0:void 0)}},Yk=["id","tabindex","role","aria-label"],Kk={key:0,class:"dp--menu-load-container"},Xk={key:1,class:"dp--menu-header"},Jk=["data-dp-mobile"],Qk={key:0,class:"dp__sidebar_left"},Zk=["data-dp-mobile"],eA=["data-test-id","data-dp-mobile","onClick","onKeydown"],tA={key:2,class:"dp__sidebar_right"},rA={key:3,class:"dp__action_extra"},nm=qr({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...tf,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle","menu-blur"],setup(e,{expose:t,emit:r}){const n=r,a=e,i=Ie(null),s=Ue(()=>{const{openOnTop:ue,...ke}=a;return{...ke,isMobile:S.value,flowStep:x.value,menuWrapRef:i.value}}),{setMenuFocused:o,setShiftKey:l,control:c}=gb(),u=mo(),{defaultedTextInput:h,defaultedInline:p,defaultedConfig:d,defaultedUI:g,handleEventPropagation:y}=wr(a),{isMobile:S}=Sb(d,a.shadow),w=Ie(null),v=Ie(0),b=Ie(null),P=Ie(!1),M=Ie(null),F=Ie(!1),U=ue=>{F.value=!0,d.value.allowPreventDefault&&ue.preventDefault(),Cs(ue,d.value,!0)};nr(()=>{if(!a.shadow){P.value=!0,O(),window.addEventListener("resize",O);const ue=zr(i);ue&&!h.value.enabled&&!p.value.enabled&&(o(!0),ne()),ue&&(ue.addEventListener("pointerdown",U),ue.addEventListener("mousedown",U))}document.addEventListener("mousedown",Ce)}),bi(()=>{window.removeEventListener("resize",O),document.removeEventListener("mousedown",Ce);const ue=zr(i);ue&&(ue.removeEventListener("pointerdown",U),ue.removeEventListener("mousedown",U))});const O=()=>{const ue=zr(b);ue&&(v.value=ue.getBoundingClientRect().width)},{arrowRight:R,arrowLeft:T,arrowDown:C,arrowUp:E}=Is(),{flowStep:x,updateFlowStep:k,childMount:L,resetFlow:D,handleFlow:q}=oA(a,n,M),W=Ue(()=>a.monthPicker?dk:a.yearPicker?fk:a.timePicker?Ck:a.quarterPicker?Wk:Vk),Q=Ue(()=>{var ue;if(d.value.arrowLeft)return d.value.arrowLeft;const ke=(ue=i.value)==null?void 0:ue.getBoundingClientRect(),Me=a.getInputRect();return(Me==null?void 0:Me.width)<(v==null?void 0:v.value)&&(Me==null?void 0:Me.left)<=((ke==null?void 0:ke.left)??0)?`${(Me==null?void 0:Me.width)/2}px`:(Me==null?void 0:Me.right)>=((ke==null?void 0:ke.right)??0)&&(Me==null?void 0:Me.width)<(v==null?void 0:v.value)?`${(v==null?void 0:v.value)-(Me==null?void 0:Me.width)/2}px`:"50%"}),ne=()=>{const ue=zr(i);ue&&ue.focus({preventScroll:!0})},oe=Ue(()=>{var ue;return((ue=M.value)==null?void 0:ue.getSidebarProps())||{}}),$=()=>{a.openOnTop&&n("recalculate-position")},I=fa(u,"action"),G=Ue(()=>a.monthPicker||a.yearPicker?fa(u,"monthYear"):a.timePicker?fa(u,"timePicker"):fa(u,"shared")),J=Ue(()=>a.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),re=Ue(()=>({dp__menu_disabled:a.disabled,dp__menu_readonly:a.readonly,"dp-menu-loading":a.loading})),_=Ue(()=>({dp__menu:!0,dp__menu_index:!p.value.enabled,dp__relative:p.value.enabled,...g.value.menu??{}})),V=ue=>{Cs(ue,d.value,!0)},Z=ue=>{a.escClose&&(n("close-picker"),y(ue))},fe=ue=>{if(a.arrowNavigation){if(ue===Fn.up)return E();if(ue===Fn.down)return C();if(ue===Fn.left)return T();if(ue===Fn.right)return R()}else ue===Fn.left||ue===Fn.up?B("handleArrow",Fn.left,0,ue===Fn.up):B("handleArrow",Fn.right,0,ue===Fn.down)},le=ue=>{l(ue.shiftKey),!a.disableMonthYearSelect&&ue.code===vr.tab&&ue.target.classList.contains("dp__menu")&&c.value.shiftKeyInMenu&&(ue.preventDefault(),Cs(ue,d.value,!0),n("close-picker"))},X=()=>{ne(),n("time-picker-close")},z=ue=>{var ke,Me,Ve;(ke=M.value)==null||ke.toggleTimePicker(!1,!1),(Me=M.value)==null||Me.toggleMonthPicker(!1,!1,ue),(Ve=M.value)==null||Ve.toggleYearPicker(!1,!1,ue)},se=(ue,ke=0)=>{var Me,Ve,Ze;return ue==="month"?(Me=M.value)==null?void 0:Me.toggleMonthPicker(!1,!0,ke):ue==="year"?(Ve=M.value)==null?void 0:Ve.toggleYearPicker(!1,!0,ke):ue==="time"?(Ze=M.value)==null?void 0:Ze.toggleTimePicker(!0,!1):z(ke)},B=(ue,...ke)=>{var Me,Ve;(Me=M.value)!=null&&Me[ue]&&((Ve=M.value)==null||Ve[ue](...ke))},H=()=>{B("selectCurrentDate")},de=(ue,ke)=>{B("presetDate",w4(ue),ke)},ge=()=>{B("clearHoverDate")},me=(ue,ke)=>{B("updateMonthYear",ue,ke)},ve=(ue,ke)=>{ue.preventDefault(),fe(ke)},Se=ue=>{var ke,Me,Ve;if(le(ue),ue.key===vr.home||ue.key===vr.end)return B("selectWeekDate",ue.key===vr.home,ue.target.getAttribute("id"));switch((ue.key===vr.pageUp||ue.key===vr.pageDown)&&(ue.shiftKey?(B("changeYear",ue.key===vr.pageUp),(ke=L1(i.value,"overlay-year"))==null||ke.focus()):(B("changeMonth",ue.key===vr.pageUp),(Me=L1(i.value,ue.key===vr.pageUp?"action-prev":"action-next"))==null||Me.focus()),ue.target.getAttribute("id")&&((Ve=i.value)==null||Ve.focus({preventScroll:!0}))),ue.key){case vr.esc:return Z(ue);case vr.arrowLeft:return ve(ue,Fn.left);case vr.arrowRight:return ve(ue,Fn.right);case vr.arrowUp:return ve(ue,Fn.up);case vr.arrowDown:return ve(ue,Fn.down);default:return}},Ce=ue=>{var ke;p.value.enabled&&!p.value.input&&!((ke=i.value)!=null&&ke.contains(ue.target))&&F.value&&(F.value=!1,n("menu-blur"))};return t({updateMonthYear:me,switchView:se,handleFlow:q,onValueCleared:()=>{var ue,ke;(ke=(ue=M.value)==null?void 0:ue.setStartTime)==null||ke.call(ue)}}),(ue,ke)=>{var Me,Ve,Ze;return be(),Oe("div",{id:ue.uid?`dp-menu-${ue.uid}`:void 0,ref_key:"dpMenuRef",ref:i,tabindex:pe(p).enabled?void 0:"0",role:pe(p).enabled?void 0:"dialog","aria-label":(Me=ue.ariaLabels)==null?void 0:Me.menu,class:xt(_.value),style:_n({"--dp-arrow-left":Q.value}),onMouseleave:ge,onClick:V,onKeydown:Se},[(ue.disabled||ue.readonly)&&pe(p).enabled||ue.loading?(be(),Oe("div",{key:0,class:xt(re.value)},[ue.loading?(be(),Oe("div",Kk,ke[19]||(ke[19]=[Ee("span",{class:"dp--menu-loader"},null,-1)]))):He("",!0)],2)):He("",!0),ue.$slots["menu-header"]?(be(),Oe("div",Xk,[ot(ue.$slots,"menu-header")])):He("",!0),!pe(p).enabled&&!ue.teleportCenter?(be(),Oe("div",{key:2,class:xt(J.value)},null,2)):He("",!0),Ee("div",{ref_key:"innerMenuRef",ref:b,class:xt({dp__menu_content_wrapper:((Ve=ue.presetDates)==null?void 0:Ve.length)||!!ue.$slots["left-sidebar"]||!!ue.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(((Ze=ue.presetDates)==null?void 0:Ze.length)||!!ue.$slots["left-sidebar"]||!!ue.$slots["right-sidebar"])}),"data-dp-mobile":pe(S),style:_n({"--dp-menu-width":`${v.value}px`})},[ue.$slots["left-sidebar"]?(be(),Oe("div",Qk,[ot(ue.$slots,"left-sidebar",cn(Vn(oe.value)))])):He("",!0),ue.presetDates.length?(be(),Oe("div",{key:1,class:xt({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0}),"data-dp-mobile":pe(S)},[(be(!0),Oe(ct,null,Jt(ue.presetDates,(Fe,Qe)=>(be(),Oe(ct,{key:Qe},[Fe.slot?ot(ue.$slots,Fe.slot,{key:0,presetDate:de,label:Fe.label,value:Fe.value}):(be(),Oe("button",{key:1,type:"button",style:_n(Fe.style||{}),class:xt(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test-id":Fe.testId??void 0,"data-dp-mobile":pe(S),onClick:ma(nt=>de(Fe.value,Fe.noTz),["prevent"]),onKeydown:nt=>pe(Gn)(nt,()=>de(Fe.value,Fe.noTz),!0)},qt(Fe.label),47,eA))],64))),128))],10,Zk)):He("",!0),Ee("div",{ref_key:"calendarWrapperRef",ref:w,class:"dp__instance_calendar",role:"document"},[(be(),pt(Qc(W.value),Qr({ref_key:"dynCmpRef",ref:M},s.value,{"flow-step":pe(x),onMount:pe(L),onUpdateFlowStep:pe(k),onResetFlow:pe(D),onFocusMenu:ne,onSelectDate:ke[0]||(ke[0]=Fe=>ue.$emit("select-date")),onDateUpdate:ke[1]||(ke[1]=Fe=>ue.$emit("date-update",Fe)),onTooltipOpen:ke[2]||(ke[2]=Fe=>ue.$emit("tooltip-open",Fe)),onTooltipClose:ke[3]||(ke[3]=Fe=>ue.$emit("tooltip-close",Fe)),onAutoApply:ke[4]||(ke[4]=Fe=>ue.$emit("auto-apply",Fe)),onRangeStart:ke[5]||(ke[5]=Fe=>ue.$emit("range-start",Fe)),onRangeEnd:ke[6]||(ke[6]=Fe=>ue.$emit("range-end",Fe)),onInvalidFixedRange:ke[7]||(ke[7]=Fe=>ue.$emit("invalid-fixed-range",Fe)),onTimeUpdate:ke[8]||(ke[8]=Fe=>ue.$emit("time-update")),onAmPmChange:ke[9]||(ke[9]=Fe=>ue.$emit("am-pm-change",Fe)),onTimePickerOpen:ke[10]||(ke[10]=Fe=>ue.$emit("time-picker-open",Fe)),onTimePickerClose:X,onRecalculatePosition:$,onUpdateMonthYear:ke[11]||(ke[11]=Fe=>ue.$emit("update-month-year",Fe)),onAutoApplyInvalid:ke[12]||(ke[12]=Fe=>ue.$emit("auto-apply-invalid",Fe)),onInvalidDate:ke[13]||(ke[13]=Fe=>ue.$emit("invalid-date",Fe)),onOverlayToggle:ke[14]||(ke[14]=Fe=>ue.$emit("overlay-toggle",Fe)),"onUpdate:internalModelValue":ke[15]||(ke[15]=Fe=>ue.$emit("update:internal-model-value",Fe))}),En({_:2},[Jt(G.value,(Fe,Qe)=>({name:Fe,fn:dt(nt=>[ot(ue.$slots,Fe,cn(Vn({...nt})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),ue.$slots["right-sidebar"]?(be(),Oe("div",tA,[ot(ue.$slots,"right-sidebar",cn(Vn(oe.value)))])):He("",!0),ue.$slots["action-extra"]?(be(),Oe("div",rA,[ue.$slots["action-extra"]?ot(ue.$slots,"action-extra",{key:0,selectCurrentDate:H}):He("",!0)])):He("",!0)],14,Jk),!ue.autoApply||pe(d).keepActionRow?(be(),pt(rk,Qr({key:3,"menu-mount":P.value},s.value,{"calendar-width":v.value,onClosePicker:ke[16]||(ke[16]=Fe=>ue.$emit("close-picker")),onSelectDate:ke[17]||(ke[17]=Fe=>ue.$emit("select-date")),onInvalidSelect:ke[18]||(ke[18]=Fe=>ue.$emit("invalid-select")),onSelectNow:H}),En({_:2},[Jt(pe(I),(Fe,Qe)=>({name:Fe,fn:dt(nt=>[ot(ue.$slots,Fe,cn(Vn({...nt})))])}))]),1040,["menu-mount","calendar-width"])):He("",!0)],46,Yk)}}});var pl=(e=>(e.center="center",e.left="left",e.right="right",e))(pl||{});const nA=({menuRef:e,menuRefInner:t,inputRef:r,pickerWrapperRef:n,inline:a,emit:i,props:s,slots:o})=>{const{defaultedConfig:l}=wr(s),c=Ie({}),u=Ie(!1),h=Ie({top:"0",left:"0"}),p=Ie(!1),d=Fc(s,"teleportCenter");Zr(d,()=>{h.value=JSON.parse(JSON.stringify({})),M()});const g=D=>{if(s.teleport){const q=D.getBoundingClientRect();return{left:q.left+window.scrollX,top:q.top+window.scrollY}}return{top:0,left:0}},y=(D,q)=>{h.value.left=`${D+q-c.value.width}px`},S=D=>{h.value.left=`${D}px`},w=(D,q)=>{s.position===pl.left&&S(D),s.position===pl.right&&y(D,q),s.position===pl.center&&(h.value.left=`${D+q/2-c.value.width/2}px`)},v=D=>{const{width:q,height:W}=D.getBoundingClientRect(),{top:Q,left:ne}=g(D);return{top:+Q,left:+ne,width:q,height:W}},b=()=>{h.value.left="50%",h.value.top="50%",h.value.transform="translate(-50%, -50%)",h.value.position="fixed",delete h.value.opacity},P=()=>{const D=zr(r);h.value=s.altPosition(D)},M=(D=!0)=>{var q;if(!a.value.enabled){if(d.value)return b();if(s.altPosition!==null)return P();if(D){const W=s.teleport?(q=t.value)==null?void 0:q.$el:e.value;W&&(c.value=W.getBoundingClientRect()),i("recalculate-position")}return E()}},F=({inputEl:D,left:q,width:W})=>{window.screen.width>768&&!u.value&&w(q,W),R(D)},U=D=>{const{top:q,left:W,height:Q,width:ne}=v(D);h.value.top=`${Q+q+ +s.offset}px`,p.value=!1,u.value||(h.value.left=`${W+ne/2-c.value.width/2}px`),F({inputEl:D,left:W,width:ne})},O=D=>{const{top:q,left:W,width:Q}=v(D);h.value.top=`${q-+s.offset-c.value.height}px`,p.value=!0,F({inputEl:D,left:W,width:Q})},R=D=>{if(s.autoPosition){const{left:q,width:W}=v(D),{left:Q,right:ne}=c.value;if(!u.value){if(Math.abs(Q)!==Math.abs(ne)){if(Q<=0)return u.value=!0,S(q);if(ne>=document.documentElement.clientWidth)return u.value=!0,y(q,W)}return w(q,W)}}},T=()=>{const D=zr(r);if(D){if(s.autoPosition===Ua.top)return Ua.top;if(s.autoPosition===Ua.bottom)return Ua.bottom;const{height:q}=c.value,{top:W,height:Q}=D.getBoundingClientRect(),ne=window.innerHeight-W-Q,oe=W;return q<=ne?Ua.bottom:q>ne&&q<=oe?Ua.top:ne>=oe?Ua.bottom:Ua.top}return Ua.bottom},C=D=>T()===Ua.bottom?U(D):O(D),E=()=>{const D=zr(r);if(D)return s.autoPosition?C(D):U(D)},x=function(D){if(D){const q=D.scrollHeight>D.clientHeight,W=window.getComputedStyle(D).overflowY.indexOf("hidden")!==-1;return q&&!W}return!0},k=function(D){return!D||D===document.body||D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:x(D)?D:k(D.assignedSlot&&l.value.shadowDom?D.assignedSlot.parentNode:D.parentNode)},L=D=>{if(D)switch(s.position){case pl.left:return{left:0,transform:"translateX(0)"};case pl.right:return{left:`${D.width}px`,transform:"translateX(-100%)"};default:return{left:`${D.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:p,menuStyle:h,xCorrect:u,setMenuPosition:M,getScrollableParent:k,shadowRender:(D,q,W)=>{var Q,ne,oe;const $=document.createElement("div"),I=(Q=zr(r))==null?void 0:Q.getBoundingClientRect();$.setAttribute("id","dp--temp-container");const G=(ne=n.value)!=null&&ne.clientWidth?n.value:document.body;G.append($);const J=L(I),re=l.value.shadowDom?Object.keys(o).filter(V=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(V)):Object.keys(o),_=Vi(q,{...W,shadow:!0,style:{opacity:0,position:"absolute",...J}},Object.fromEntries(re.map(V=>[V,o[V]])));D!=null&&(_.appContext=D.appContext),J2(_,$),c.value=(oe=_.el)==null?void 0:oe.getBoundingClientRect(),J2(null,$),G.removeChild($)}}},ds=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],aA=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],iA={all:()=>ds,monthYear:()=>ds.filter(e=>e.use.includes("month-year")),input:()=>aA,timePicker:()=>ds.filter(e=>e.use.includes("time")),action:()=>ds.filter(e=>e.use.includes("action")),calendar:()=>ds.filter(e=>e.use.includes("calendar")),menu:()=>ds.filter(e=>e.use.includes("menu")),shared:()=>ds.filter(e=>e.use.includes("shared")),yearMode:()=>ds.filter(e=>e.use.includes("year-mode"))},fa=(e,t,r)=>{const n=[];return iA[t]().forEach(a=>{e[a.name]&&n.push(a.name)}),r!=null&&r.length&&r.forEach(a=>{a.slot&&n.push(a.slot)}),n},ad=e=>{const t=Ue(()=>n=>e.value?n?e.value.open:e.value.close:""),r=Ue(()=>n=>e.value?n?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:t,showTransition:!!e.value,menuTransition:r}},id=(e,t,r)=>{const{defaultedRange:n,defaultedTz:a}=wr(e),i=Ye(na(Ye(),a.value.timezone)),s=Ie([{month:jt(i),year:kt(i)}]),o=p=>{const d={hours:Hi(i),minutes:Ts(i),seconds:0};return n.value.enabled?[d[p],d[p]]:d[p]},l=ga({hours:o("hours"),minutes:o("minutes"),seconds:o("seconds")});Zr(n,(p,d)=>{p.enabled!==d.enabled&&(l.hours=o("hours"),l.minutes=o("minutes"),l.seconds=o("seconds"))},{deep:!0});const c=Ue({get:()=>e.internalModelValue,set:p=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",p)}}),u=Ue(()=>p=>s.value[p]?s.value[p].month:0),h=Ue(()=>p=>s.value[p]?s.value[p].year:0);return Zr(c,(p,d)=>{r&&JSON.stringify(p??{})!==JSON.stringify(d??{})&&r()},{deep:!0}),{calendars:s,time:l,modelValue:c,month:u,year:h,today:i}},sA=(e,t)=>{const{defaultedMultiCalendars:r,defaultedMultiDates:n,defaultedUI:a,defaultedHighlight:i,defaultedTz:s,propDates:o,defaultedRange:l}=wr(t),{isDisabled:c}=Fs(t),u=Ie(null),h=Ie(na(new Date,s.value.timezone)),p=_=>{!_.current&&t.hideOffsetDates||(u.value=_.value)},d=()=>{u.value=null},g=_=>Array.isArray(e.value)&&l.value.enabled&&e.value[0]&&u.value?_?Mr(u.value,e.value[0]):Cr(u.value,e.value[0]):!0,y=(_,V)=>{const Z=()=>e.value?V?e.value[0]||null:e.value[1]:null,fe=e.value&&Array.isArray(e.value)?Z():null;return Bt(Ye(_.value),fe)},S=_=>{const V=Array.isArray(e.value)?e.value[0]:null;return _?!Cr(u.value??null,V):!0},w=(_,V=!0)=>(l.value.enabled||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!_.current?!1:Bt(Ye(_.value),e.value[V?0:1]):l.value.enabled?y(_,V)&&S(V)||Bt(_.value,Array.isArray(e.value)?e.value[0]:null)&&g(V):!1,v=(_,V)=>{if(Array.isArray(e.value)&&e.value[0]&&e.value.length===1){const Z=Bt(_.value,u.value);return V?Mr(e.value[0],_.value)&&Z:Cr(e.value[0],_.value)&&Z}return!1},b=_=>!e.value||t.hideOffsetDates&&!_.current?!1:l.value.enabled?t.modelAuto&&Array.isArray(e.value)?Bt(_.value,e.value[0]?e.value[0]:h.value):!1:n.value.enabled&&Array.isArray(e.value)?e.value.some(V=>Bt(V,_.value)):Bt(_.value,e.value?e.value:h.value),P=_=>{if(l.value.autoRange||t.weekPicker){if(u.value){if(t.hideOffsetDates&&!_.current)return!1;const V=Pa(u.value,+l.value.autoRange),Z=Bi(Ye(u.value),t.weekStart);return t.weekPicker?Bt(Z[1],Ye(_.value)):Bt(V,Ye(_.value))}return!1}return!1},M=_=>{if(l.value.autoRange||t.weekPicker){if(u.value){const V=Pa(u.value,+l.value.autoRange);if(t.hideOffsetDates&&!_.current)return!1;const Z=Bi(Ye(u.value),t.weekStart);return t.weekPicker?Mr(_.value,Z[0])&&Cr(_.value,Z[1]):Mr(_.value,u.value)&&Cr(_.value,V)}return!1}return!1},F=_=>{if(l.value.autoRange||t.weekPicker){if(u.value){if(t.hideOffsetDates&&!_.current)return!1;const V=Bi(Ye(u.value),t.weekStart);return t.weekPicker?Bt(V[0],_.value):Bt(u.value,_.value)}return!1}return!1},U=_=>Kc(e.value,u.value,_.value),O=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,R=()=>t.modelAuto?nb(t.internalModelValue):!0,T=_=>{if(t.weekPicker)return!1;const V=l.value.enabled?!w(_)&&!w(_,!1):!0;return!c(_.value)&&!b(_)&&!(!_.current&&t.hideOffsetDates)&&V},C=_=>l.value.enabled?t.modelAuto?O()&&b(_):!1:b(_),E=_=>i.value?Ax(_.value,o.value.highlight):!1,x=_=>{const V=c(_.value);return V&&(typeof i.value=="function"?!i.value(_.value,V):!i.value.options.highlightDisabled)},k=_=>{var V;return typeof i.value=="function"?i.value(_.value):(V=i.value.weekdays)==null?void 0:V.includes(_.value.getDay())},L=_=>(l.value.enabled||t.weekPicker)&&(!(r.value.count>0)||_.current)&&R()&&!(!_.current&&t.hideOffsetDates)&&!b(_)?U(_):!1,D=_=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:V,after:Z}=Zg(+l.value.maxRange,e.value[0]);return Fl(_.value,V)||go(_.value,Z)}return!1},q=_=>{if(Array.isArray(e.value)&&e.value.length===1){const{before:V,after:Z}=Zg(+l.value.minRange,e.value[0]);return Kc([V,Z],e.value[0],_.value)}return!1},W=_=>l.value.enabled&&(l.value.maxRange||l.value.minRange)?l.value.maxRange&&l.value.minRange?D(_)||q(_):l.value.maxRange?D(_):q(_):!1,Q=_=>{const{isRangeStart:V,isRangeEnd:Z}=I(_),fe=l.value.enabled?V||Z:!1;return{dp__cell_offset:!_.current,dp__pointer:!t.disabled&&!(!_.current&&t.hideOffsetDates)&&!c(_.value)&&!W(_),dp__cell_disabled:c(_.value)||W(_),dp__cell_highlight:!x(_)&&(E(_)||k(_))&&!C(_)&&!fe&&!F(_)&&!(L(_)&&t.weekPicker)&&!Z,dp__cell_highlight_active:!x(_)&&(E(_)||k(_))&&C(_),dp__today:!t.noToday&&Bt(_.value,h.value)&&_.current,"dp--past":Cr(_.value,h.value),"dp--future":Mr(_.value,h.value)}},ne=_=>({dp__active_date:C(_),dp__date_hover:T(_)}),oe=_=>{if(e.value&&!Array.isArray(e.value)){const V=Bi(e.value,t.weekStart);return{...J(_),dp__range_start:Bt(V[0],_.value),dp__range_end:Bt(V[1],_.value),dp__range_between_week:Mr(_.value,V[0])&&Cr(_.value,V[1])}}return{...J(_)}},$=_=>{if(e.value&&Array.isArray(e.value)){const V=Bi(e.value[0],t.weekStart),Z=e.value[1]?Bi(e.value[1],t.weekStart):[];return{...J(_),dp__range_start:Bt(V[0],_.value)||Bt(Z[0],_.value),dp__range_end:Bt(V[1],_.value)||Bt(Z[1],_.value),dp__range_between_week:Mr(_.value,V[0])&&Cr(_.value,V[1])||Mr(_.value,Z[0])&&Cr(_.value,Z[1]),dp__range_between:Mr(_.value,V[1])&&Cr(_.value,Z[0])}}return{...J(_)}},I=_=>{const V=r.value.count>0?_.current&&w(_)&&R():w(_)&&R(),Z=r.value.count>0?_.current&&w(_,!1)&&R():w(_,!1)&&R();return{isRangeStart:V,isRangeEnd:Z}},G=_=>{const{isRangeStart:V,isRangeEnd:Z}=I(_);return{dp__range_start:V,dp__range_end:Z,dp__range_between:L(_),dp__date_hover:Bt(_.value,u.value)&&!V&&!Z&&!t.weekPicker,dp__date_hover_start:v(_,!0),dp__date_hover_end:v(_,!1)}},J=_=>({...G(_),dp__cell_auto_range:M(_),dp__cell_auto_range_start:F(_),dp__cell_auto_range_end:P(_)}),re=_=>l.value.enabled?l.value.autoRange?J(_):t.modelAuto?{...ne(_),...G(_)}:t.weekPicker?$(_):G(_):t.weekPicker?oe(_):ne(_);return{setHoverDate:p,clearHoverDate:d,getDayClassData:_=>t.hideOffsetDates&&!_.current?{}:{...Q(_),...re(_),[t.dayClass?t.dayClass(_.value,t.internalModelValue):""]:!0,...a.value.calendarCell??{}}}},Fs=e=>{const{defaultedFilters:t,defaultedRange:r,propDates:n,defaultedMultiDates:a}=wr(e),i=k=>n.value.disabledDates?typeof n.value.disabledDates=="function"?n.value.disabledDates(Ye(k)):!!Dh(k,n.value.disabledDates):!1,s=k=>n.value.maxDate?e.yearPicker?kt(k)>kt(n.value.maxDate):Mr(k,n.value.maxDate):!1,o=k=>n.value.minDate?e.yearPicker?kt(k)<kt(n.value.minDate):Cr(k,n.value.minDate):!1,l=k=>{const L=s(k),D=o(k),q=i(k),W=t.value.months.map(I=>+I).includes(jt(k)),Q=e.disabledWeekDays.length?e.disabledWeekDays.some(I=>+I===hS(k)):!1,ne=d(k),oe=kt(k),$=oe<+e.yearRange[0]||oe>+e.yearRange[1];return!(L||D||q||W||$||Q||ne)},c=(k,L)=>Cr(...ks(n.value.minDate,k,L))||Bt(...ks(n.value.minDate,k,L)),u=(k,L)=>Mr(...ks(n.value.maxDate,k,L))||Bt(...ks(n.value.maxDate,k,L)),h=(k,L,D)=>{let q=!1;return n.value.maxDate&&D&&u(k,L)&&(q=!0),n.value.minDate&&!D&&c(k,L)&&(q=!0),q},p=(k,L,D,q)=>{let W=!1;return q&&(n.value.minDate||n.value.maxDate)?n.value.minDate&&n.value.maxDate?W=h(k,L,D):(n.value.minDate&&c(k,L)||n.value.maxDate&&u(k,L))&&(W=!0):W=!0,W},d=k=>Array.isArray(n.value.allowedDates)&&!n.value.allowedDates.length?!0:n.value.allowedDates?!Dh(k,n.value.allowedDates,sb(e.monthPicker,e.yearPicker)):!1,g=k=>!l(k),y=k=>r.value.noDisabledRange?!By({start:k[0],end:k[1]}).some(L=>g(L)):!0,S=k=>{if(k){const L=kt(k);return L>=+e.yearRange[0]&&L<=e.yearRange[1]}return!0},w=(k,L)=>!!(Array.isArray(k)&&k[L]&&(r.value.maxRange||r.value.minRange)&&S(k[L])),v=(k,L,D=0)=>{if(w(L,D)&&S(k)){const q=Iy(k,L[D]),W=cb(L[D],k),Q=W.length===1?0:W.filter(oe=>g(oe)).length,ne=Math.abs(q)-(r.value.minMaxRawRange?0:Q);if(r.value.minRange&&r.value.maxRange)return ne>=+r.value.minRange&&ne<=+r.value.maxRange;if(r.value.minRange)return ne>=+r.value.minRange;if(r.value.maxRange)return ne<=+r.value.maxRange}return!0},b=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,P=k=>Array.isArray(k)?[k[0]?L0(k[0]):null,k[1]?L0(k[1]):null]:L0(k),M=(k,L,D)=>k.find(q=>+q.hours===Hi(L)&&q.minutes==="*"?!0:+q.minutes===Ts(L)&&+q.hours===Hi(L))&&D,F=(k,L,D)=>{const[q,W]=k,[Q,ne]=L;return!M(q,Q,D)&&!M(W,ne,D)&&D},U=(k,L)=>{const D=Array.isArray(L)?L:[L];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?F(e.disabledTimes,D,k):!D.some(q=>M(e.disabledTimes,q,k)):k},O=(k,L)=>{const D=Array.isArray(L)?[ho(L[0]),L[1]?ho(L[1]):void 0]:ho(L),q=!e.disabledTimes(D);return k&&q},R=(k,L)=>e.disabledTimes?Array.isArray(e.disabledTimes)?U(L,k):O(L,k):L,T=k=>{let L=!0;if(!k||b())return!0;const D=!n.value.minDate&&!n.value.maxDate?P(k):k;return(e.maxTime||n.value.maxDate)&&(L=Qg(e.maxTime,n.value.maxDate,"max",on(D),L)),(e.minTime||n.value.minDate)&&(L=Qg(e.minTime,n.value.minDate,"min",on(D),L)),R(k,L)},C=k=>{if(!e.monthPicker)return!0;let L=!0;const D=Ye(Ha(k));if(n.value.minDate&&n.value.maxDate){const q=Ye(Ha(n.value.minDate)),W=Ye(Ha(n.value.maxDate));return Mr(D,q)&&Cr(D,W)||Bt(D,q)||Bt(D,W)}if(n.value.minDate){const q=Ye(Ha(n.value.minDate));L=Mr(D,q)||Bt(D,q)}if(n.value.maxDate){const q=Ye(Ha(n.value.maxDate));L=Cr(D,q)||Bt(D,q)}return L},E=Ue(()=>k=>!e.enableTimePicker||e.ignoreTimeValidation?!0:T(k)),x=Ue(()=>k=>e.monthPicker?Array.isArray(k)&&(r.value.enabled||a.value.enabled)?!k.filter(L=>!C(L)).length:C(k):!0);return{isDisabled:g,validateDate:l,validateMonthYearInRange:p,isDateRangeAllowed:y,checkMinMaxRange:v,isValidTime:T,isTimeValid:E,isMonthValid:x}},af=()=>{const e=Ue(()=>(n,a)=>n==null?void 0:n.includes(a)),t=Ue(()=>(n,a)=>n.count?n.solo?!0:a===0:!0),r=Ue(()=>(n,a)=>n.count?n.solo?!0:a===n.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:t,showRightIcon:r}},oA=(e,t,r)=>{const n=Ie(0),a=ga({[co.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[co.calendar]:!1,[co.header]:!1}),i=Ue(()=>e.monthPicker||e.timePicker),s=h=>{var p;if((p=e.flow)!=null&&p.length){if(!h&&i.value)return u();a[h]=!0,Object.keys(a).filter(d=>!a[d]).length||u()}},o=()=>{var h,p;(h=e.flow)!=null&&h.length&&n.value!==-1&&(n.value+=1,t("flow-step",n.value),u()),((p=e.flow)==null?void 0:p.length)===n.value&&Hn().then(()=>l())},l=()=>{n.value=-1},c=(h,p,...d)=>{var g,y;e.flow[n.value]===h&&r.value&&((y=(g=r.value)[p])==null||y.call(g,...d))},u=(h=0)=>{h&&(n.value+=h),c(Ln.month,"toggleMonthPicker",!0),c(Ln.year,"toggleYearPicker",!0),c(Ln.calendar,"toggleTimePicker",!1,!0),c(Ln.time,"toggleTimePicker",!0,!0);const p=e.flow[n.value];(p===Ln.hours||p===Ln.minutes||p===Ln.seconds)&&c(p,"toggleTimePicker",!0,!0,p)};return{childMount:s,updateFlowStep:o,resetFlow:l,handleFlow:u,flowStep:n}},lA={key:1,class:"dp__input_wrap"},uA=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],cA={key:2,class:"dp--clear-btn"},dA=["aria-label"],hA=qr({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...tf},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(e,{expose:t,emit:r}){const n=r,a=e,{defaultedTextInput:i,defaultedAriaLabels:s,defaultedInline:o,defaultedConfig:l,defaultedRange:c,defaultedMultiDates:u,defaultedUI:h,getDefaultPattern:p,getDefaultStartTime:d}=wr(a),{checkMinMaxRange:g}=Fs(a),y=Ie(),S=Ie(null),w=Ie(!1),v=Ie(!1),b=Ue(()=>({dp__pointer:!a.disabled&&!a.readonly&&!i.value.enabled,dp__disabled:a.disabled,dp__input_readonly:!i.value.enabled,dp__input:!0,dp__input_icon_pad:!a.hideInputIcon,dp__input_valid:typeof a.state=="boolean"?a.state:!1,dp__input_invalid:typeof a.state=="boolean"?!a.state:!1,dp__input_focus:w.value||a.isMenuOpen,dp__input_reg:!i.value.enabled,...h.value.input??{}})),P=()=>{n("set-input-date",null),a.clearable&&a.autoApply&&(n("set-empty-date"),y.value=null)},M=oe=>{const $=d();return Cx(oe,i.value.format??p(),$??db({},a.enableSeconds),a.inputValue,v.value,a.formatLocale)},F=oe=>{const{rangeSeparator:$}=i.value,[I,G]=oe.split(`${$}`);if(I){const J=M(I.trim()),re=G?M(G.trim()):void 0;if(go(J,re))return;const _=J&&re?[J,re]:[J];g(re,_,0)&&(y.value=J?_:null)}},U=()=>{v.value=!0},O=oe=>{if(c.value.enabled)F(oe);else if(u.value.enabled){const $=oe.split(";");y.value=$.map(I=>M(I.trim())).filter(I=>I)}else y.value=M(oe)},R=oe=>{var $;const I=typeof oe=="string"?oe:($=oe.target)==null?void 0:$.value;I!==""?(i.value.openMenu&&!a.isMenuOpen&&n("open"),O(I),n("set-input-date",y.value)):P(),v.value=!1,n("update:input-value",I),n("text-input",oe,y.value)},T=oe=>{i.value.enabled?(O(oe.target.value),i.value.enterSubmit&&N1(y.value)&&a.inputValue!==""?(n("set-input-date",y.value,!0),y.value=null):i.value.enterSubmit&&a.inputValue===""&&(y.value=null,n("clear"))):x(oe)},C=(oe,$)=>{i.value.enabled&&i.value.tabSubmit&&!$&&O(oe.target.value),i.value.tabSubmit&&N1(y.value)&&a.inputValue!==""?(n("set-input-date",y.value,!0,!0),y.value=null):i.value.tabSubmit&&a.inputValue===""&&(y.value=null,n("clear",!0))},E=()=>{w.value=!0,n("focus"),Hn().then(()=>{var oe;i.value.enabled&&i.value.selectOnFocus&&((oe=S.value)==null||oe.select())})},x=oe=>{if(Cs(oe,l.value,!0),i.value.enabled&&i.value.openMenu&&!o.value.input){if(i.value.openMenu==="open"&&!a.isMenuOpen)return n("open");if(i.value.openMenu==="toggle")return n("toggle")}else i.value.enabled||n("toggle")},k=()=>{n("real-blur"),w.value=!1,(!a.isMenuOpen||o.value.enabled&&o.value.input)&&n("blur"),a.autoApply&&i.value.enabled&&y.value&&!a.isMenuOpen&&(n("set-input-date",y.value),n("select-date"),y.value=null)},L=oe=>{Cs(oe,l.value,!0),n("clear")},D=()=>{n("close")},q=oe=>{if(oe.key==="Tab"&&C(oe),oe.key==="Enter"&&T(oe),oe.key==="Escape"&&i.value.escClose&&D(),!i.value.enabled){if(oe.code==="Tab")return;oe.preventDefault()}},W=()=>{var oe;(oe=S.value)==null||oe.focus({preventScroll:!0})},Q=oe=>{y.value=oe},ne=oe=>{oe.key===vr.tab&&C(oe,!0)};return t({focusInput:W,setParsedDate:Q}),(oe,$)=>{var I,G,J;return be(),Oe("div",{onClick:x},[oe.$slots.trigger&&!oe.$slots["dp-input"]&&!pe(o).enabled?ot(oe.$slots,"trigger",{key:0}):He("",!0),!oe.$slots.trigger&&(!pe(o).enabled||pe(o).input)?(be(),Oe("div",lA,[oe.$slots["dp-input"]&&!oe.$slots.trigger&&(!pe(o).enabled||pe(o).enabled&&pe(o).input)?ot(oe.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:R,onEnter:T,onTab:C,onClear:L,onBlur:k,onKeypress:q,onPaste:U,onFocus:E,openMenu:()=>oe.$emit("open"),closeMenu:()=>oe.$emit("close"),toggleMenu:()=>oe.$emit("toggle")}):He("",!0),oe.$slots["dp-input"]?He("",!0):(be(),Oe("input",{key:1,id:oe.uid?`dp-input-${oe.uid}`:void 0,ref_key:"inputRef",ref:S,"data-test-id":"dp-input",name:oe.name,class:xt(b.value),inputmode:pe(i).enabled?"text":"none",placeholder:oe.placeholder,disabled:oe.disabled,readonly:oe.readonly,required:oe.required,value:e.inputValue,autocomplete:oe.autocomplete,"aria-label":(I=pe(s))==null?void 0:I.input,"aria-disabled":oe.disabled||void 0,"aria-invalid":oe.state===!1?!0:void 0,onInput:R,onBlur:k,onFocus:E,onKeypress:q,onKeydown:$[0]||($[0]=re=>q(re)),onPaste:U},null,42,uA)),Ee("div",{onClick:$[3]||($[3]=re=>n("toggle"))},[oe.$slots["input-icon"]&&!oe.hideInputIcon?(be(),Oe("span",{key:0,class:"dp__input_icon",onClick:$[1]||($[1]=re=>n("toggle"))},[ot(oe.$slots,"input-icon")])):He("",!0),!oe.$slots["input-icon"]&&!oe.hideInputIcon&&!oe.$slots["dp-input"]?(be(),pt(pe(Vl),{key:1,"aria-label":(G=pe(s))==null?void 0:G.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:$[2]||($[2]=re=>n("toggle"))},null,8,["aria-label"])):He("",!0)]),oe.$slots["clear-icon"]&&(oe.alwaysClearable||e.inputValue&&oe.clearable&&!oe.disabled&&!oe.readonly)?(be(),Oe("span",cA,[ot(oe.$slots,"clear-icon",{clear:L})])):He("",!0),!oe.$slots["clear-icon"]&&(oe.alwaysClearable||oe.clearable&&e.inputValue&&!oe.disabled&&!oe.readonly)?(be(),Oe("button",{key:3,"aria-label":(J=pe(s))==null?void 0:J.clearInput,class:"dp--clear-btn",type:"button",onKeydown:$[4]||($[4]=re=>pe(Gn)(re,()=>L(re),!0,ne)),onClick:$[5]||($[5]=ma(re=>L(re),["prevent"]))},[at(pe(tb),{class:"dp__input_icons","data-test-id":"clear-icon"})],40,dA)):He("",!0)])):He("",!0)])}}}),fA=typeof window<"u"?window:void 0,M0=()=>{},pA=e=>B5()?(Q3(e),!0):!1,gA=(e,t,r,n)=>{if(!e)return M0;let a=M0;const i=Zr(()=>pe(e),o=>{a(),o&&(o.removeEventListener(t,r),o.addEventListener(t,r,n),a=()=>{o.removeEventListener(t,r,n),a=M0})},{immediate:!0,flush:"post"}),s=()=>{i(),a()};return pA(s),s},mA=(e,t,r,n={})=>{const{window:a=fA,event:i="pointerdown"}=n;return a?gA(a,i,s=>{const o=zr(e),l=zr(t);!o||!l||o===s.target||s.composedPath().includes(o)||s.composedPath().includes(l)||r(s)},{passive:!0}):void 0},vA=["data-dp-mobile"],yA=qr({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...tf},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(e,{expose:t,emit:r}){const n=r,a=e,i=mo(),s=Ie(!1),o=Fc(a,"modelValue"),l=Fc(a,"timezone"),c=Ie(null),u=Ie(null),h=Ie(null),p=Ie(!1),d=Ie(null),g=Ie(!1),y=Ie(!1),S=Ie(!1),w=Ie(!1),{setMenuFocused:v,setShiftKey:b}=gb(),{clearArrowNav:P}=Is(),{validateDate:M,isValidTime:F}=Fs(a),{defaultedTransitions:U,defaultedTextInput:O,defaultedInline:R,defaultedConfig:T,defaultedRange:C,defaultedMultiDates:E}=wr(a),{menuTransition:x,showTransition:k}=ad(U),{isMobile:L}=Sb(T),D=Zc();nr(()=>{_(a.modelValue),Hn().then(()=>{if(!R.value.enabled){const je=I(d.value);je==null||je.addEventListener("scroll",de),window==null||window.addEventListener("resize",ge)}}),R.value.enabled&&(s.value=!0),window==null||window.addEventListener("keyup",me),window==null||window.addEventListener("keydown",ve)}),bi(()=>{if(!R.value.enabled){const je=I(d.value);je==null||je.removeEventListener("scroll",de),window==null||window.removeEventListener("resize",ge)}window==null||window.removeEventListener("keyup",me),window==null||window.removeEventListener("keydown",ve)});const q=fa(i,"all",a.presetDates),W=fa(i,"input");Zr([o,l],()=>{_(o.value)},{deep:!0});const{openOnTop:Q,menuStyle:ne,xCorrect:oe,setMenuPosition:$,getScrollableParent:I,shadowRender:G}=nA({menuRef:c,menuRefInner:u,inputRef:h,pickerWrapperRef:d,inline:R,emit:n,props:a,slots:i}),{inputValue:J,internalModelValue:re,parseExternalModelValue:_,emitModelValue:V,formatInputValue:Z,checkBeforeEmit:fe}=Qx(n,a,p),le=Ue(()=>({dp__main:!0,dp__theme_dark:a.dark,dp__theme_light:!a.dark,dp__flex_display:R.value.enabled,"dp--flex-display-collapsed":S.value,dp__flex_display_with_input:R.value.input})),X=Ue(()=>a.dark?"dp__theme_dark":"dp__theme_light"),z=Ue(()=>a.teleport?{to:typeof a.teleport=="boolean"?"body":a.teleport,disabled:!a.teleport||R.value.enabled}:{}),se=Ue(()=>({class:"dp__outer_menu_wrap"})),B=Ue(()=>R.value.enabled&&(a.timePicker||a.monthPicker||a.yearPicker||a.quarterPicker)),H=()=>{var je,Je;return((Je=(je=h.value)==null?void 0:je.$el)==null?void 0:Je.getBoundingClientRect())??{width:0,left:0,right:0}},de=()=>{s.value&&(T.value.closeOnScroll?Qe():$())},ge=()=>{var je;s.value&&$();const Je=((je=u.value)==null?void 0:je.$el.getBoundingClientRect().width)??0;S.value=document.body.offsetWidth<=Je},me=je=>{je.key==="Tab"&&!R.value.enabled&&!a.teleport&&T.value.tabOutClosesMenu&&(d.value.contains(document.activeElement)||Qe()),y.value=je.shiftKey},ve=je=>{y.value=je.shiftKey},Se=()=>{!a.disabled&&!a.readonly&&(G(D,nm,a),$(!1),s.value=!0,s.value&&n("open"),s.value||Fe(),_(a.modelValue))},Ce=()=>{var je,Je;J.value="",Fe(),(je=u.value)==null||je.onValueCleared(),(Je=h.value)==null||Je.setParsedDate(null),n("update:model-value",null),n("update:model-timezone-value",null),n("cleared"),T.value.closeOnClearValue&&Qe()},ue=()=>{const je=re.value;return!je||!Array.isArray(je)&&M(je)?!0:Array.isArray(je)?E.value.enabled||je.length===2&&M(je[0])&&M(je[1])?!0:C.value.partialRange&&!a.timePicker?M(je[0]):!1:!1},ke=()=>{fe()&&ue()?(V(),Qe()):n("invalid-select",re.value)},Me=je=>{Ve(),V(),T.value.closeOnAutoApply&&!je&&Qe()},Ve=()=>{h.value&&O.value.enabled&&h.value.setParsedDate(re.value)},Ze=(je=!1)=>{a.autoApply&&F(re.value)&&ue()&&(C.value.enabled&&Array.isArray(re.value)?(C.value.partialRange||re.value.length===2)&&Me(je):Me(je))},Fe=()=>{O.value.enabled||(re.value=null)},Qe=(je=!1)=>{var Je,ze;je&&re.value&&T.value.setDateOnMenuClose&&ke(),R.value.enabled||(s.value&&(s.value=!1,oe.value=!1,v(!1),b(!1),P(),n("closed"),J.value&&_(o.value)),Fe(),n("blur"),(ze=(Je=u.value)==null?void 0:Je.$el)==null||ze.remove())},nt=(je,Je,ze=!1)=>{if(!je){re.value=null;return}const Rt=Array.isArray(je)?!je.some(gr=>!M(gr)):M(je),tn=F(je);Rt&&tn?(w.value=!0,re.value=je,Je?(g.value=ze,ke(),n("text-submit")):a.autoApply&&Ze(),Hn().then(()=>{w.value=!1})):n("invalid-date",je)},Ke=()=>{a.autoApply&&F(re.value)&&V(),Ve()},Ct=()=>s.value?Qe():Se(),ft=je=>{re.value=je},Yt=()=>{O.value.enabled&&(p.value=!0,Z()),n("focus")},_t=()=>{if(O.value.enabled&&(p.value=!1,_(a.modelValue),g.value)){const je=kx(d.value,y.value);je==null||je.focus()}n("blur")},Et=je=>{u.value&&u.value.updateMonthYear(0,{month:Kg(je.month),year:Kg(je.year)})},mn=je=>{_(je??a.modelValue)},Ae=(je,Je)=>{var ze;(ze=u.value)==null||ze.switchView(je,Je)},Xe=(je,Je)=>T.value.onClickOutside?T.value.onClickOutside(je,Je):Qe(!0),rt=(je=0)=>{var Je;(Je=u.value)==null||Je.handleFlow(je)},vt=()=>c;return mA(c,h,je=>Xe(ue,je)),t({closeMenu:Qe,selectDate:ke,clearValue:Ce,openMenu:Se,onScroll:de,formatInputValue:Z,updateInternalModelValue:ft,setMonthYear:Et,parseModel:mn,switchView:Ae,toggleMenu:Ct,handleFlow:rt,getDpWrapMenuRef:vt}),(je,Je)=>(be(),Oe("div",{ref_key:"pickerWrapperRef",ref:d,class:xt(le.value),"data-datepicker-instance":"","data-dp-mobile":pe(L)},[at(hA,Qr({ref_key:"inputRef",ref:h,"input-value":pe(J),"onUpdate:inputValue":Je[0]||(Je[0]=ze=>Wr(J)?J.value=ze:null),"is-menu-open":s.value},je.$props,{onClear:Ce,onOpen:Se,onSetInputDate:nt,onSetEmptyDate:pe(V),onSelectDate:ke,onToggle:Ct,onClose:Qe,onFocus:Yt,onBlur:_t,onRealBlur:Je[1]||(Je[1]=ze=>p.value=!1),onTextInput:Je[2]||(Je[2]=ze=>je.$emit("text-input",ze))}),En({_:2},[Jt(pe(W),(ze,Rt)=>({name:ze,fn:dt(tn=>[ot(je.$slots,ze,cn(Vn(tn)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(be(),pt(Qc(je.teleport?M4:"div"),cn(Vn(z.value)),{default:dt(()=>[at($l,{name:pe(x)(pe(Q)),css:pe(k)&&!pe(R).enabled},{default:dt(()=>[s.value?(be(),Oe("div",Qr({key:0,ref_key:"dpWrapMenuRef",ref:c},se.value,{class:{"dp--menu-wrapper":!pe(R).enabled},style:pe(R).enabled?void 0:pe(ne)}),[at(nm,Qr({ref_key:"dpMenuRef",ref:u},je.$props,{"internal-model-value":pe(re),"onUpdate:internalModelValue":Je[3]||(Je[3]=ze=>Wr(re)?re.value=ze:null),class:{[X.value]:!0,"dp--menu-wrapper":je.teleport},"open-on-top":pe(Q),"no-overlay-focus":B.value,collapse:S.value,"get-input-rect":H,"is-text-input-date":w.value,onClosePicker:Qe,onSelectDate:ke,onAutoApply:Ze,onTimeUpdate:Ke,onFlowStep:Je[4]||(Je[4]=ze=>je.$emit("flow-step",ze)),onUpdateMonthYear:Je[5]||(Je[5]=ze=>je.$emit("update-month-year",ze)),onInvalidSelect:Je[6]||(Je[6]=ze=>je.$emit("invalid-select",pe(re))),onAutoApplyInvalid:Je[7]||(Je[7]=ze=>je.$emit("invalid-select",ze)),onInvalidFixedRange:Je[8]||(Je[8]=ze=>je.$emit("invalid-fixed-range",ze)),onRecalculatePosition:pe($),onTooltipOpen:Je[9]||(Je[9]=ze=>je.$emit("tooltip-open",ze)),onTooltipClose:Je[10]||(Je[10]=ze=>je.$emit("tooltip-close",ze)),onTimePickerOpen:Je[11]||(Je[11]=ze=>je.$emit("time-picker-open",ze)),onTimePickerClose:Je[12]||(Je[12]=ze=>je.$emit("time-picker-close",ze)),onAmPmChange:Je[13]||(Je[13]=ze=>je.$emit("am-pm-change",ze)),onRangeStart:Je[14]||(Je[14]=ze=>je.$emit("range-start",ze)),onRangeEnd:Je[15]||(Je[15]=ze=>je.$emit("range-end",ze)),onDateUpdate:Je[16]||(Je[16]=ze=>je.$emit("date-update",ze)),onInvalidDate:Je[17]||(Je[17]=ze=>je.$emit("invalid-date",ze)),onOverlayToggle:Je[18]||(Je[18]=ze=>je.$emit("overlay-toggle",ze)),onMenuBlur:Je[19]||(Je[19]=ze=>je.$emit("blur"))}),En({_:2},[Jt(pe(q),(ze,Rt)=>({name:ze,fn:dt(tn=>[ot(je.$slots,ze,cn(Vn({...tn})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):He("",!0)]),_:3},8,["name","css"])]),_:3},16))],10,vA))}}),sf=(()=>{const e=yA;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),bA=Object.freeze(Object.defineProperty({__proto__:null,default:sf},Symbol.toStringTag,{value:"Module"}));Object.entries(bA).forEach(([e,t])=>{e!=="default"&&(sf[e]=t)});const _A=["onUpdate:modelValue"],wA=["onUpdate:modelValue"],SA={key:0,class:"image-upload"},xA={__name:"BaseAddView",props:{tableName:String,title:String,fields:Array,fieldLabels:Object},setup(e){const t=e,r=aa(),n=Ie({}),a=Ie(!1),i=Ie(null),s={lastdate:"date",interval:"number"};t.fields.forEach(h=>{n.value[h]=s[h]==="date"?null:s[h]==="number"?1:""});const o=()=>{t.tableName==="devices"&&(a.value=!0)},l=Ue(()=>{if(!n.value.lastdate||!n.value.interval)return"";const h=new Date(n.value.lastdate);return h.setMonth(h.getMonth()+Number(n.value.interval)),h.toISOString().split("T")[0]}),c=async()=>{t.tableName==="devices"&&(n.value.nextdate=l.value),n.value.image_url||(n.value.image_url="https://ksyzvskmdyaopajckqra.supabase.co/storage/v1/object/public/devices-images//noimage.png");const{error:h}=await en.from(t.tableName).insert([n.value]);if(h){console.error("Error adding item:",h);return}r.push(`/${t.tableName}`)},u=async h=>{if(!h.target.files[0])return;const d=`${i.value.name}`,{data:g,error:y}=await en.storage.from("devices-images").upload(d,i.value);if(y){console.error("Upload error:",y.message);return}const{publicUrl:S}=en.storage.from("devices-images").getPublicUrl(d);n.value.image_url=S};return nr(()=>{o()}),(h,p)=>(be(),Oe("div",null,[Ee("h3",null,qt(e.title),1),Ee("form",{onSubmit:ma(c,["prevent"])},[(be(!0),Oe(ct,null,Jt(e.fields,d=>(be(),Oe("div",{key:d},[Ee("label",null,qt(e.fieldLabels[d]||d)+":",1),s[d]==="date"?(be(),pt(pe(sf),{key:0,class:"date-picker",modelValue:n.value[d],"onUpdate:modelValue":g=>n.value[d]=g,"value-type":"format",format:"yyyy-MM-dd"},null,8,["modelValue","onUpdate:modelValue"])):s[d]==="number"?Jr((be(),Oe("input",{key:1,"onUpdate:modelValue":g=>n.value[d]=g,type:"number"},null,8,_A)),[[Un,n.value[d]]]):Jr((be(),Oe("input",{key:2,"onUpdate:modelValue":g=>n.value[d]=g},null,8,wA)),[[Un,n.value[d]]])]))),128)),a.value?(be(),Oe("div",SA,[p[0]||(p[0]=Ee("label",{for:""},"Ladda upp en bild:",-1)),Ee("input",{type:"file",onChange:u,accept:"image/*"},null,32)])):He("",!0),at(Na,{label:"Lgg till",color:"green",type:"submit"})],32)]))}},of=pn(xA,[["__scopeId","data-v-3b618118"]]),kA={__name:"AddServicesView",setup(e){const t=["customer","address","contact","phone","email","month","desc"],r={customer:"Kund",address:"Adress",contact:"Kontakt",phone:"Telefon",email:"Mail",month:"Ska utfras i",desc:"Beskrivning/Info"};return(n,a)=>(be(),pt(of,{tableName:"services",title:"Skapa ny service",fields:t,"field-labels":r}))}},AA="/assets/trashcan-DuYgmint.png",PA={class:"header"},CA=["src"],LA=["onUpdate:modelValue"],NA=["onUpdate:modelValue"],TA={__name:"BaseEditView",props:{tableName:String,title:String,fields:Array,fieldLabels:Object},setup(e){const t=e,r={lastdate:"date",interval:"number"},n=op(),a=aa(),i=n.params.id,s=Ie({}),o=async()=>{const{data:h,error:p}=await en.from(t.tableName).select("*").eq("id",i).single();if(p){console.error("Error fetching item:",p);return}s.value=h},l=Ue(()=>{if(!s.value.lastdate||!s.value.interval)return"";const h=new Date(s.value.lastdate);return h.setMonth(h.getMonth()+Number(s.value.interval)),h.toISOString().split("T")[0]}),c=async()=>{t.tableName==="devices"&&(s.value.nextdate=l.value);const{error:h}=await en.from(t.tableName).update(s.value).eq("id",i);if(h){console.error("Error updating item:",h);return}a.push(`/${t.tableName}`)},u=async()=>{if(!confirm("r du sker p att du vill ta bort detta?"))return;const{error:p}=await en.from(t.tableName).delete().eq("id",i);if(p){console.error("Error updating item:",p);return}a.push(`/${t.tableName}`)};return nr(()=>{o()}),(h,p)=>(be(),Oe("div",null,[Ee("div",PA,[Ee("h1",null,qt(e.title),1),Ee("img",{src:pe(AA),alt:"",onClick:u},null,8,CA)]),Ee("form",{onSubmit:ma(c,["prevent"])},[(be(!0),Oe(ct,null,Jt(e.fields,d=>(be(),Oe("div",{key:d},[Ee("label",null,qt(e.fieldLabels[d]||d)+":",1),r[d]==="date"?(be(),pt(pe(sf),{key:0,class:"date-picker",modelValue:s.value[d],"onUpdate:modelValue":g=>s.value[d]=g,"value-type":"format",format:"yyyy-MM-dd"},null,8,["modelValue","onUpdate:modelValue"])):r[d]==="number"?Jr((be(),Oe("input",{key:1,"onUpdate:modelValue":g=>s.value[d]=g,type:"number"},null,8,LA)),[[Un,s.value[d]]]):Jr((be(),Oe("input",{key:2,"onUpdate:modelValue":g=>s.value[d]=g},null,8,NA)),[[Un,s.value[d]]])]))),128)),at(Na,{label:"Spara",color:"green",type:"submit"})],32)]))}},lf=pn(TA,[["__scopeId","data-v-066b8dd3"]]),OA={__name:"EditServicesView",setup(e){const t=["customer","address","contact","phone","email","month","desc"],r={customer:"Kund",address:"Adress",contact:"Kontakt",phone:"Telefon",email:"Mail",month:"Ska utfras i",desc:"Beskrivning/Info"};return(n,a)=>(be(),pt(lf,{tableName:"services",title:"Redigera service",fields:t,fieldLabels:r}))}},EA={key:0},RA=["src"],MA=["href"],DA=["href"],IA={key:2},FA={__name:"BaseDetailView",props:{tableName:String,fields:Array,fieldLabels:Object},setup(e){const t=e,r=op(),n=Ie({}),a=r.params.id,i=Ie(!1),s={email:"email",address:"address"},o=async()=>{const{data:u,error:h}=await en.from(t.tableName).select("*").eq("id",a).single();if(h){console.error("Error fetching item details:",h);return}n.value=u},l=()=>{t.tableName==="devices"&&(i.value=!0)},c=u=>u?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(u)}`:"#";return nr(()=>{o(),l()}),(u,h)=>(be(),Oe("div",null,[Ee("form",{onSubmit:h[0]||(h[0]=ma(()=>{},["prevent"]))},[i.value?(be(),Oe("div",EA,[Ee("img",{src:n.value.image_url,class:"device-image",alt:""},null,8,RA)])):He("",!0),(be(!0),Oe(ct,null,Jt(e.fields,p=>(be(),Oe("div",{key:p,class:"field-container"},[Ee("label",null,qt(e.fieldLabels[p]||p)+":",1),s[p]==="email"?(be(),Oe("a",{key:0,href:"mailto:"+n.value[p]},qt(n.value[p]),9,MA)):s[p]==="address"?(be(),Oe("a",{key:1,href:c(n.value[p]),target:"_blank"},qt(n.value[p]),9,DA)):(be(),Oe("p",IA,qt(n.value[p]),1))]))),128))],32)]))}},uf=pn(FA,[["__scopeId","data-v-d61693dd"]]),jA={__name:"ServiceDetailsView",setup(e){const t=["customer","address","contact","phone","email","month","desc"],r={customer:"Kund",address:"Adress",contact:"Kontakt",phone:"Telefon",email:"Mail",month:"Ska utfras i",desc:"Beskrivning/Info"};return(n,a)=>(be(),pt(uf,{tableName:"services",fields:t,fieldLabels:r}))}},BA={__name:"AddOrdersView",setup(e){const t=["ordername","customer","desc","address","contact","phone","email","ordernumber"],r={ordername:"Namn p order",customer:"Kund",desc:"Beskrivning/Info",address:"Adress",contact:"Kontakt",phone:"Telefon",email:"Mail",ordernumber:"Ordernummer"};return(n,a)=>(be(),pt(of,{tableName:"orders",title:"Skapa ny arbetsorder",fields:t,"field-labels":r}))}},qA={__name:"EditOrdersView",setup(e){const t=["ordername","customer","desc","address","contact","phone","email","ordernumber"],r={ordername:"Namn p order",customer:"Kund",desc:"Beskrivning/Info",address:"Adress",contact:"Kontakt",phone:"Telefon",email:"Mail",ordernumber:"Ordernummer"};return(n,a)=>(be(),pt(lf,{tableName:"orders",title:"Redigera Arbetsorder",fields:t,"field-labels":r}))}},$A={__name:"OrdersDetailsView",setup(e){const t=["ordername","customer","desc","address","contact","phone","email","ordernumber"],r={ordername:"Namn p order",customer:"Kund",desc:"Beskrivning/Info",address:"Adress",contact:"Kontakt",phone:"Telefon",email:"Mail",ordernumber:"Ordernummer"};return(n,a)=>(be(),pt(uf,{tableName:"orders",fields:t,"field-labels":r}))}},UA={__name:"NotAuthorizedView",setup(e){const t=aa(),r=()=>{t.go(-1)};return(n,a)=>(be(),Oe("div",null,[a[0]||(a[0]=Ee("h1",null,"tkomst nekad",-1)),a[1]||(a[1]=Ee("p",null,"Du har inte tilltelse att beska den hr sidan",-1)),Ee("button",{onClick:r},"Tillbaka")]))}},VA=pn(UA,[["__scopeId","data-v-e7d10195"]]),GA={__name:"NotFoundView",setup(e){const t=aa(),r=()=>{t.go(-1)};return(n,a)=>(be(),Oe("div",null,[a[0]||(a[0]=Ee("h1",null,"Sidan finns inte",-1)),Ee("button",{onClick:r},"Tillbaka")]))}},HA=pn(GA,[["__scopeId","data-v-f6b98e16"]]),zA={__name:"ProjectsView",setup(e){const t=aa(),r=()=>{t.push("/projects/add")};return(n,a)=>(be(),Oe(ct,null,[Ee("div",null,[a[0]||(a[0]=Ee("h2",null,"Projekt",-1)),at(Na,{label:"Lgg till projekt",color:"green",onClick:r})]),at(ef,{tableName:"projects",fields:["projectname","address"]})],64))}},WA={__name:"EditProjectsView",setup(e){const t=["projectname","address","customer","contact","phone","email","enddate","inspectiondate","desc"],r={projectname:"Projektnamn",address:"Adress",customer:"Kund",contact:"Kontakt",phone:"Telefon",email:"Mail",enddate:"Slutdatum",inspectiondate:"Besiktningsdatum",desc:"Beskrivning/Info"};return(n,a)=>(be(),pt(lf,{tableName:"projects",title:"Redigera projekt",fields:t,fieldLabels:r}))}},YA={__name:"ProjectsDetailsView",setup(e){const t=["projectname","address","customer","contact","phone","email","enddate","inspectiondate","desc"],r={projectname:"Projektnamn",address:"Adress",customer:"Kund",contact:"Kontakt",phone:"Telefon",email:"Mail",enddate:"Slutdatum",inspectiondate:"Besiktningsdatum",desc:"Beskrivning/Info"};return(n,a)=>(be(),pt(uf,{tableName:"projects",fields:t,fieldLabels:r}))}},KA={__name:"AddProjectsView",setup(e){const t=["projectname","address","customer","contact","phone","email","enddate","inspectiondate","desc"],r={projectname:"Projektnamn",address:"Adress",customer:"Kund",contact:"Kontakt",phone:"Telefon",email:"Mail",enddate:"Slutdatum",inspectiondate:"Besiktningsdatum",desc:"Beskrivning/Info"};return(n,a)=>(be(),pt(of,{tableName:"projects",title:"Skapa nytt projekt",fields:t,"field-labels":r}))}},XA={__name:"DevicesView",setup(e){const t=aa(),r=()=>{t.push("/devices/add")};return(n,a)=>(be(),Oe(ct,null,[a[0]||(a[0]=Ee("h2",null,"Mtinstrument",-1)),at(Na,{label:"Lgg till nytt mtinstrument",color:"green",onClick:r}),at(ef,{tableName:"devices",fields:["name","nextdate"]})],64))}},JA={__name:"EditDevicesView",setup(e){const t=["name","serienumber","lastdate","interval"],r={name:"Namn",serienumber:"Serienummer",lastdate:"Senaste kalibrering",interval:"Intervall"};return(n,a)=>(be(),pt(lf,{tableName:"devices",title:"Redigera mtinstrument",fields:t,fieldLabels:r}))}},QA={__name:"AddDevicesView",setup(e){const t=["name","serienumber","lastdate","interval"],r={name:"Namn",serienumber:"Serienummer",lastdate:"Senaste kalibrering",interval:"Intervall"};return(n,a)=>(be(),pt(of,{tableName:"devices",title:"Skapa nytt mtinstrument",fields:t,"field-labels":r}))}},ZA={},eP={class:"container"};function tP(e,t){return be(),Oe("div",eP,t[0]||(t[0]=[Hv('<div class="department" data-v-f2abad0b><h3 data-v-f2abad0b><strong data-v-f2abad0b>Avdelningar</strong></h3><p data-v-f2abad0b>Service 30077</p><p data-v-f2abad0b>Entreprenad 30075</p></div><div class="divider" data-v-f2abad0b></div><div class="table-supply" data-v-f2abad0b><h3 data-v-f2abad0b><strong data-v-f2abad0b>Leverantrer</strong></h3><table id="supply" data-v-f2abad0b><th data-v-f2abad0b>Materialgrupp</th><th data-v-f2abad0b>Prio 1</th><th data-v-f2abad0b>Prio 2</th><tr data-v-f2abad0b><td data-v-f2abad0b>Material frn icke avtalsleverantr</td><td data-v-f2abad0b>Ahlsell, Bevego</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Rektangulra kanaler och detaljer</td><td data-v-f2abad0b>(Crenna, Girovent), Altech (Bevego)</td><td data-v-f2abad0b>Nordiska Ventilationsprodukter, Vefast</td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Cirkulra kanaler och detaljer</td><td data-v-f2abad0b>Lindab</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Samlingsldor</td><td data-v-f2abad0b>Crenna, Bevego</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Rektangulra ljuddmpare</td><td data-v-f2abad0b>Crenna, Swegon, Altech (Bevego)</td><td data-v-f2abad0b>Bevent Rasch</td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Cirkulra ljuddmpare</td><td data-v-f2abad0b>Lindab, Swegon, Bevent Rasch</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Flexibla Ljuddmpare</td><td data-v-f2abad0b>Ahlsell, Systemair</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Brandskydd</td><td data-v-f2abad0b>Bevent Rasch, EKO Vent, Swegon, Systemair</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Spjll Cirkulra</td><td data-v-f2abad0b>Swegon, Lindab, EKO Vent, Bevent Rasch, Systemair</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Spjll Rektangulra</td><td data-v-f2abad0b>Swegon, Lindab, EKO Vent, Bevent Rasch, Systemair</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Luftburna rumsprodukter</td><td data-v-f2abad0b>Lindab, Swegon, Systemair</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Vattenburna rumsprodukter</td><td data-v-f2abad0b>Lindab, Swegon</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Textilsystem</td><td data-v-f2abad0b>KB Klimatbyrn</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Systemleverantr av don och styrning</td><td data-v-f2abad0b>Lindinvent, Swegon, Lindab, Systemair</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Takhuvar, Vgghuv samt Takgenomfringar</td><td data-v-f2abad0b>EKO Vent, Bevent Rasch</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Yttervggsgaller</td><td data-v-f2abad0b>EKO Vent, Bevent Rasch</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Montagematerial, infstning och upphngning</td><td data-v-f2abad0b>Ahlsell, Lindab, Bevego, Hilti</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Spiskpor</td><td data-v-f2abad0b>Ahlsell, Bevego, Swegon</td><td data-v-f2abad0b>LGG</td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Storkkskpor</td><td data-v-f2abad0b>Halton, Elektro Termo (mindre kpor), Vakant*</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Reningsystem av frnluft frn storkk</td><td data-v-f2abad0b>Vakant*</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Luftbehandlingsaggregat</td><td data-v-f2abad0b>Swegon, IV Produkt, Systemair</td><td data-v-f2abad0b>Flexit, Komfovent</td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Luftbehandlingsaggregat special</td><td data-v-f2abad0b>Munters, Voltair</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Filter</td><td data-v-f2abad0b>Camfil</td><td data-v-f2abad0b>Mann + Hummel&amp;Vakant*</td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Flktluftsvrmare/kylare</td><td data-v-f2abad0b>Eveco, Epecon, LGG</td><td data-v-f2abad0b>Altech</td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Avfuktare</td><td data-v-f2abad0b>Acetec</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Mtning, styrning reglering</td><td data-v-f2abad0b>Siemens</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Elmaterial (Inkluderat tele &amp; larm)</td><td data-v-f2abad0b>Rexel</td><td data-v-f2abad0b>Ahlsell&amp;Elektroskandia</td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Flktar</td><td data-v-f2abad0b>Ebm-Papst, Systemair</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Specialflktar</td><td data-v-f2abad0b>EMB-Papst, EKO Vent, Systemair</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Upphngning och infstning</td><td data-v-f2abad0b>Hilti, Rethermkruge</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Teknisk isolering</td><td data-v-f2abad0b>Bevego, Ahlsell</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Stllningar/Liftar/Bodar (Hyra)</td><td data-v-f2abad0b>Ramirent</td><td data-v-f2abad0b>Cramo</td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Verktyg (Hyra)</td><td data-v-f2abad0b>Ramirent</td><td data-v-f2abad0b>Cramo</td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Elhandverktyg</td><td data-v-f2abad0b>Hilti, Ahlsell</td><td data-v-f2abad0b></td></tr><tr data-v-f2abad0b><td data-v-f2abad0b>Handverktyg</td><td data-v-f2abad0b>Ahlsell</td><td data-v-f2abad0b></td></tr></table></div>',3)]))}const rP=pn(ZA,[["render",tP],["__scopeId","data-v-f2abad0b"]]),nP={__name:"DeviceDetailsView",setup(e){const t=["name","serienumber","lastdate","nextdate","interval"],r={name:"Namn",serienumber:"Serienummer",lastdate:"Senaste kalibrering",nextdate:"Nsta kalibrering",interval:"Intervall"};return(n,a)=>(be(),pt(uf,{tableName:"devices",fields:t,fieldLabels:r}))}},aP="/assets/skogsblomman-D9gZZjxr.png",iP={class:"container"},sP={class:"map"},oP=["src"],lP={__name:"SkogsblommanView",setup(e){return(t,r)=>(be(),Oe("div",iP,[r[1]||(r[1]=Hv('<div class="adress" data-v-3c35230a><p data-v-3c35230a><strong data-v-3c35230a>Adress:</strong> Stenbrohultsvgen 107</p></div><div class="phones" data-v-3c35230a><h3 data-v-3c35230a><strong data-v-3c35230a>Kontaktuppgifter</strong></h3><p data-v-3c35230a>Ordfrande -</p><p data-v-3c35230a>Annan person</p><p data-v-3c35230a>Annan person</p><p data-v-3c35230a>Annan person</p><p data-v-3c35230a>Tmning av container - <a href="tel:018 18 65 50" data-v-3c35230a>018 18 65 50</a></p></div><div class="keys" data-v-3c35230a><h3 data-v-3c35230a><strong data-v-3c35230a>Nycklar och koder</strong></h3><p data-v-3c35230a>Kk -</p><p data-v-3c35230a>Reception -</p><p data-v-3c35230a>Huvudnyckel till lgenheter finns i kket (deras kontor)</p></div><div class="schema" data-v-3c35230a><h3 data-v-3c35230a><strong data-v-3c35230a>Schema</strong></h3><p data-v-3c35230a> Kolla arbetsorder varje dag (postlda utanfr kontoret och utanfr receptionen) </p><br data-v-3c35230a><strong data-v-3c35230a>Mndag</strong><p data-v-3c35230a>Rotera sopkrl i soprum (5st)</p><p data-v-3c35230a></p><br data-v-3c35230a><strong data-v-3c35230a>Torsdag</strong><p data-v-3c35230a>Hjlpa kket med att ta emot tv matleveranser</p><p data-v-3c35230a></p><br data-v-3c35230a><strong data-v-3c35230a>Fredag</strong><p data-v-3c35230a>Byta soppsar i soptunnar utomhus (4st, se karta)</p><p data-v-3c35230a>Rensa filter i torktummlare i hus 3 och 5</p><p data-v-3c35230a>Fyll p handsprit i automat utanfr matsalen</p></div>',4)),Ee("div",sP,[r[0]||(r[0]=Ee("h3",null,[Ee("strong",null,"Karta")],-1)),Ee("img",{src:pe(aP),alt:""},null,8,oP)])]))}},uP=pn(lP,[["__scopeId","data-v-3c35230a"]]);function tr(e){"@babel/helpers - typeof";return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(e)}var On=Uint8Array,pa=Uint16Array,Op=Int32Array,cf=new On([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),df=new On([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),O1=new On([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),xb=function(e,t){for(var r=new pa(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new Op(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},kb=xb(cf,2),Ab=kb.b,E1=kb.r;Ab[28]=258,E1[258]=28;var Pb=xb(df,0),cP=Pb.b,am=Pb.r,R1=new pa(32768);for(var yr=0;yr<32768;++yr){var hs=(yr&43690)>>1|(yr&21845)<<1;hs=(hs&52428)>>2|(hs&13107)<<2,hs=(hs&61680)>>4|(hs&3855)<<4,R1[yr]=((hs&65280)>>8|(hs&255)<<8)>>1}var yi=function(e,t,r){for(var n=e.length,a=0,i=new pa(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new pa(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new pa(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],h=s[e[a]-1]++<<u,p=h|(1<<u)-1;h<=p;++h)o[R1[h]>>l]=c}else for(o=new pa(n),a=0;a<n;++a)e[a]&&(o[a]=R1[s[e[a]-1]++]>>15-e[a]);return o},Os=new On(288);for(var yr=0;yr<144;++yr)Os[yr]=8;for(var yr=144;yr<256;++yr)Os[yr]=9;for(var yr=256;yr<280;++yr)Os[yr]=7;for(var yr=280;yr<288;++yr)Os[yr]=8;var Xc=new On(32);for(var yr=0;yr<32;++yr)Xc[yr]=5;var dP=yi(Os,9,0),hP=yi(Os,9,1),fP=yi(Xc,5,0),pP=yi(Xc,5,1),D0=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Ba=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},I0=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},Ep=function(e){return(e+7)/8|0},Cb=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new On(e.subarray(t,r))},gP=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Va=function(e,t,r){var n=new Error(t||gP[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Va),!r)throw n;return n},mP=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new On(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new On(a*3));var c=function(le){var X=r.length;if(le>X){var z=new On(Math.max(X*2,le));z.set(r),r=z}},u=t.f||0,h=t.p||0,p=t.b||0,d=t.l,g=t.d,y=t.m,S=t.n,w=a*8;do{if(!d){u=Ba(e,h,1);var v=Ba(e,h+1,3);if(h+=3,v)if(v==1)d=hP,g=pP,y=9,S=5;else if(v==2){var F=Ba(e,h,31)+257,U=Ba(e,h+10,15)+4,O=F+Ba(e,h+5,31)+1;h+=14;for(var R=new On(O),T=new On(19),C=0;C<U;++C)T[O1[C]]=Ba(e,h+C*3,7);h+=U*3;for(var E=D0(T),x=(1<<E)-1,k=yi(T,E,1),C=0;C<O;){var L=k[Ba(e,h,x)];h+=L&15;var b=L>>4;if(b<16)R[C++]=b;else{var D=0,q=0;for(b==16?(q=3+Ba(e,h,3),h+=2,D=R[C-1]):b==17?(q=3+Ba(e,h,7),h+=3):b==18&&(q=11+Ba(e,h,127),h+=7);q--;)R[C++]=D}}var W=R.subarray(0,F),Q=R.subarray(F);y=D0(W),S=D0(Q),d=yi(W,y,1),g=yi(Q,S,1)}else Va(1);else{var b=Ep(h)+4,P=e[b-4]|e[b-3]<<8,M=b+P;if(M>a){l&&Va(0);break}o&&c(p+P),r.set(e.subarray(b,M),p),t.b=p+=P,t.p=h=M*8,t.f=u;continue}if(h>w){l&&Va(0);break}}o&&c(p+131072);for(var ne=(1<<y)-1,oe=(1<<S)-1,$=h;;$=h){var D=d[I0(e,h)&ne],I=D>>4;if(h+=D&15,h>w){l&&Va(0);break}if(D||Va(2),I<256)r[p++]=I;else if(I==256){$=h,d=null;break}else{var G=I-254;if(I>264){var C=I-257,J=cf[C];G=Ba(e,h,(1<<J)-1)+Ab[C],h+=J}var re=g[I0(e,h)&oe],_=re>>4;re||Va(3),h+=re&15;var Q=cP[_];if(_>3){var J=df[_];Q+=I0(e,h)&(1<<J)-1,h+=J}if(h>w){l&&Va(0);break}o&&c(p+131072);var V=p+G;if(p<Q){var Z=i-Q,fe=Math.min(Q,V);for(Z+p<0&&Va(3);p<fe;++p)r[p]=n[Z+p]}for(;p<V;++p)r[p]=r[p-Q]}}t.l=d,t.p=$,t.b=p,t.f=u,d&&(u=1,t.m=y,t.d=g,t.n=S)}while(!u);return p!=r.length&&s?Cb(r,0,p):r.subarray(0,p)},Mi=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Tu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},F0=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:Nb,l:0};if(a==1){var s=new On(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(M,F){return M.f-F.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,h=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[h].f?c++:h++],l=r[c!=u&&r[c].f<r[h].f?c++:h++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var d=new pa(p+1),g=M1(r[u-1],d,0);if(g>t){var n=0,y=0,S=g-t,w=1<<S;for(i.sort(function(F,U){return d[U.s]-d[F.s]||F.f-U.f});n<a;++n){var v=i[n].s;if(d[v]>t)y+=w-(1<<g-d[v]),d[v]=t;else break}for(y>>=S;y>0;){var b=i[n].s;d[b]<t?y-=1<<t-d[b]++-1:++n}for(;n>=0&&y;--n){var P=i[n].s;d[P]==t&&(--d[P],++y)}g=t}return{t:new On(d),l:g}},M1=function(e,t,r){return e.s==-1?Math.max(M1(e.l,t,r+1),M1(e.r,t,r+1)):t[e.s]=r},im=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new pa(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},Ou=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Lb=function(e,t,r){var n=r.length,a=Ep(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},sm=function(e,t,r,n,a,i,s,o,l,c,u){Mi(t,u++,r),++a[256];for(var h=F0(a,15),p=h.t,d=h.l,g=F0(i,15),y=g.t,S=g.l,w=im(p),v=w.c,b=w.n,P=im(y),M=P.c,F=P.n,U=new pa(19),O=0;O<v.length;++O)++U[v[O]&31];for(var O=0;O<M.length;++O)++U[M[O]&31];for(var R=F0(U,7),T=R.t,C=R.l,E=19;E>4&&!T[O1[E-1]];--E);var x=c+5<<3,k=Ou(a,Os)+Ou(i,Xc)+s,L=Ou(a,p)+Ou(i,y)+s+14+3*E+Ou(U,T)+2*U[16]+3*U[17]+7*U[18];if(l>=0&&x<=k&&x<=L)return Lb(t,u,e.subarray(l,l+c));var D,q,W,Q;if(Mi(t,u,1+(L<k)),u+=2,L<k){D=yi(p,d,0),q=p,W=yi(y,S,0),Q=y;var ne=yi(T,C,0);Mi(t,u,b-257),Mi(t,u+5,F-1),Mi(t,u+10,E-4),u+=14;for(var O=0;O<E;++O)Mi(t,u+3*O,T[O1[O]]);u+=3*E;for(var oe=[v,M],$=0;$<2;++$)for(var I=oe[$],O=0;O<I.length;++O){var G=I[O]&31;Mi(t,u,ne[G]),u+=T[G],G>15&&(Mi(t,u,I[O]>>5&127),u+=I[O]>>12)}}else D=dP,q=Os,W=fP,Q=Xc;for(var O=0;O<o;++O){var J=n[O];if(J>255){var G=J>>18&31;Tu(t,u,D[G+257]),u+=q[G+257],G>7&&(Mi(t,u,J>>23&31),u+=cf[G]);var re=J&31;Tu(t,u,W[re]),u+=Q[re],re>3&&(Tu(t,u,J>>5&8191),u+=df[re])}else Tu(t,u,D[J]),u+=q[J]}return Tu(t,u,D[256]),u+q[256]},vP=new Op([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Nb=new On(0),yP=function(e,t,r,n,a,i){var s=i.z||e.length,o=new On(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var h=vP[t-1],p=h>>13,d=h&8191,g=(1<<r)-1,y=i.p||new pa(32768),S=i.h||new pa(g+1),w=Math.ceil(r/3),v=2*w,b=function(se){return(e[se]^e[se+1]<<w^e[se+2]<<v)&g},P=new Op(25e3),M=new pa(288),F=new pa(32),U=0,O=0,R=i.i||0,T=0,C=i.w||0,E=0;R+2<s;++R){var x=b(R),k=R&32767,L=S[x];if(y[k]=L,S[x]=k,C<=R){var D=s-R;if((U>7e3||T>24576)&&(D>423||!c)){u=sm(e,l,0,P,M,F,O,T,E,R-E,u),T=U=O=0,E=R;for(var q=0;q<286;++q)M[q]=0;for(var q=0;q<30;++q)F[q]=0}var W=2,Q=0,ne=d,oe=k-L&32767;if(D>2&&x==b(R-oe))for(var $=Math.min(p,D)-1,I=Math.min(32767,R),G=Math.min(258,D);oe<=I&&--ne&&k!=L;){if(e[R+W]==e[R+W-oe]){for(var J=0;J<G&&e[R+J]==e[R+J-oe];++J);if(J>W){if(W=J,Q=oe,J>$)break;for(var re=Math.min(oe,J-2),_=0,q=0;q<re;++q){var V=R-oe+q&32767,Z=y[V],fe=V-Z&32767;fe>_&&(_=fe,L=V)}}}k=L,L=y[k],oe+=k-L&32767}if(Q){P[T++]=268435456|E1[W]<<18|am[Q];var le=E1[W]&31,X=am[Q]&31;O+=cf[le]+df[X],++M[257+le],++F[X],C=R+W,++U}else P[T++]=e[R],++M[e[R]]}}for(R=Math.max(R,C);R<s;++R)P[T++]=e[R],++M[e[R]];u=sm(e,l,c,P,M,F,O,T,E,R-E,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=S,i.p=y,i.i=R,i.w=C)}else{for(var R=i.w||0;R<s+c;R+=65535){var z=R+65535;z>=s&&(l[u/8|0]=c,z=s),u=Lb(l,u+1,e.subarray(R,z))}i.i=s}return Cb(o,0,n+Ep(u)+a)},Tb=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},bP=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new On(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return yP(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},Ob=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},_P=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Tb();a.p(t.dictionary),Ob(e,2,a.d())}},wP=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Va(6,"invalid zlib data"),(e[1]>>5&1)==1&&Va(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function D1(e,t){t||(t={});var r=Tb();r.p(e);var n=bP(e,t,t.dictionary?6:2,4);return _P(n,t),Ob(n,n.length-4,r.d()),n}function SP(e,t){return mP(e.subarray(wP(e),-4),{i:2},t,t)}var xP=typeof TextDecoder<"u"&&new TextDecoder,kP=0;try{xP.decode(Nb,{stream:!0}),kP=1}catch{}var wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function j0(){wt.console&&typeof wt.console.log=="function"&&wt.console.log.apply(wt.console,arguments)}var lr={log:j0,warn:function(e){wt.console&&(typeof wt.console.warn=="function"?wt.console.warn.apply(wt.console,arguments):j0.call(null,arguments))},error:function(e){wt.console&&(typeof wt.console.error=="function"?wt.console.error.apply(wt.console,arguments):j0(e))}};function B0(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){ao(n.response,t,r)},n.onerror=function(){lr.error("could not download file")},n.send()}function om(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function lh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Mc,I1,ao=wt.saveAs||((typeof window>"u"?"undefined":tr(window))!=="object"||window!==wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=wt.URL||wt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?om(a.href)?B0(e,t,r):lh(a,a.target="_blank"):lh(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){lh(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(om(e))B0(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){lh(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:tr(i)!=="object"&&(lr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return B0(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(wt.HTMLElement)||wt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":tr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=wt.URL||wt.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Eb(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function q0(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=kn(r,n,a,i,t[0],7,-680876936),i=kn(i,r,n,a,t[1],12,-389564586),a=kn(a,i,r,n,t[2],17,606105819),n=kn(n,a,i,r,t[3],22,-1044525330),r=kn(r,n,a,i,t[4],7,-176418897),i=kn(i,r,n,a,t[5],12,1200080426),a=kn(a,i,r,n,t[6],17,-1473231341),n=kn(n,a,i,r,t[7],22,-45705983),r=kn(r,n,a,i,t[8],7,1770035416),i=kn(i,r,n,a,t[9],12,-1958414417),a=kn(a,i,r,n,t[10],17,-42063),n=kn(n,a,i,r,t[11],22,-1990404162),r=kn(r,n,a,i,t[12],7,1804603682),i=kn(i,r,n,a,t[13],12,-40341101),a=kn(a,i,r,n,t[14],17,-1502002290),r=An(r,n=kn(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=An(i,r,n,a,t[6],9,-1069501632),a=An(a,i,r,n,t[11],14,643717713),n=An(n,a,i,r,t[0],20,-373897302),r=An(r,n,a,i,t[5],5,-701558691),i=An(i,r,n,a,t[10],9,38016083),a=An(a,i,r,n,t[15],14,-660478335),n=An(n,a,i,r,t[4],20,-405537848),r=An(r,n,a,i,t[9],5,568446438),i=An(i,r,n,a,t[14],9,-1019803690),a=An(a,i,r,n,t[3],14,-187363961),n=An(n,a,i,r,t[8],20,1163531501),r=An(r,n,a,i,t[13],5,-1444681467),i=An(i,r,n,a,t[2],9,-51403784),a=An(a,i,r,n,t[7],14,1735328473),r=Pn(r,n=An(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Pn(i,r,n,a,t[8],11,-2022574463),a=Pn(a,i,r,n,t[11],16,1839030562),n=Pn(n,a,i,r,t[14],23,-35309556),r=Pn(r,n,a,i,t[1],4,-1530992060),i=Pn(i,r,n,a,t[4],11,1272893353),a=Pn(a,i,r,n,t[7],16,-155497632),n=Pn(n,a,i,r,t[10],23,-1094730640),r=Pn(r,n,a,i,t[13],4,681279174),i=Pn(i,r,n,a,t[0],11,-358537222),a=Pn(a,i,r,n,t[3],16,-722521979),n=Pn(n,a,i,r,t[6],23,76029189),r=Pn(r,n,a,i,t[9],4,-640364487),i=Pn(i,r,n,a,t[12],11,-421815835),a=Pn(a,i,r,n,t[15],16,530742520),r=Cn(r,n=Pn(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Cn(i,r,n,a,t[7],10,1126891415),a=Cn(a,i,r,n,t[14],15,-1416354905),n=Cn(n,a,i,r,t[5],21,-57434055),r=Cn(r,n,a,i,t[12],6,1700485571),i=Cn(i,r,n,a,t[3],10,-1894986606),a=Cn(a,i,r,n,t[10],15,-1051523),n=Cn(n,a,i,r,t[1],21,-2054922799),r=Cn(r,n,a,i,t[8],6,1873313359),i=Cn(i,r,n,a,t[15],10,-30611744),a=Cn(a,i,r,n,t[6],15,-1560198380),n=Cn(n,a,i,r,t[13],21,1309151649),r=Cn(r,n,a,i,t[4],6,-145523070),i=Cn(i,r,n,a,t[11],10,-1120210379),a=Cn(a,i,r,n,t[2],15,718787259),n=Cn(n,a,i,r,t[9],21,-343485551),e[0]=As(r,e[0]),e[1]=As(n,e[1]),e[2]=As(a,e[2]),e[3]=As(i,e[3])}function hf(e,t,r,n,a,i){return t=As(As(t,e),As(n,i)),As(t<<a|t>>>32-a,r)}function kn(e,t,r,n,a,i,s){return hf(t&r|~t&n,e,t,a,i,s)}function An(e,t,r,n,a,i,s){return hf(t&n|r&~n,e,t,a,i,s)}function Pn(e,t,r,n,a,i,s){return hf(t^r^n,e,t,a,i,s)}function Cn(e,t,r,n,a,i,s){return hf(r^(t|~n),e,t,a,i,s)}function Rb(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)q0(n,AP(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(q0(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,q0(n,a),n}function AP(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Mc=wt.atob.bind(wt),I1=wt.btoa.bind(wt);var lm="0123456789abcdef".split("");function PP(e){for(var t="",r=0;r<4;r++)t+=lm[e>>8*r+4&15]+lm[e>>8*r&15];return t}function CP(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function F1(e){return Rb(e).map(CP).join("")}var LP=function(e){for(var t=0;t<e.length;t++)e[t]=PP(e[t]);return e.join("")}(Rb("hello"))!="5d41402abc4b2a76b9719d911017c592";function As(e,t){if(LP){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function j1(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var h=t.length,p=0,d=0,g="";for(l=0;l<h;l++)d=(d+(u=o[p=(p+1)%256]))%256,o[p]=o[d],o[d]=u,s=o[(o[p]+o[d])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var um={print:4,modify:8,copy:16,"annot-forms":32};function gl(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(um.perm!==void 0)throw new Error("Invalid permission: "+o);a+=um[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=F1(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=j1(this.encryptionKey,this.padding)}function ml(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function cm(e){if(tr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){wt.console&&lr.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ih(e){if(!(this instanceof Ih))return new Ih(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Mb(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function oo(e,t,r,n,a){if(!(this instanceof oo))return new oo(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Mb.call(this,n,a)}function bl(e,t,r,n,a){if(!(this instanceof bl))return new bl(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Mb.call(this,n,a)}function bt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;tr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,p={},d={internal:{},__private__:{}};d.__private__.PubSub=cm;var g="1.3",y=d.__private__.getPdfVersion=function(){return g};d.__private__.setPdfVersion=function(A){g=A};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return S};var w=d.__private__.getPageFormat=function(A){return S[A]};a=a||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},b=v.COMPAT;function P(){this.saveGraphicsState(),H(new gt(Ke,0,0,-Ke,0,Xi()*Ke).toString()+" cm"),this.setFontSize(this.getFontSize()/Ke),c="n",b=v.ADVANCED}function M(){this.restoreGraphicsState(),c="S",b=v.COMPAT}var F=d.__private__.combineFontStyleAndFontWeight=function(A,K){if(A=="bold"&&K=="normal"||A=="bold"&&K==400||A=="normal"&&K=="italic"||A=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(A=K==400||K==="normal"?A==="italic"?"italic":"normal":K!=700&&K!=="bold"||A!=="normal"?(K==700?"bold":K)+""+A:"bold"),A};d.advancedAPI=function(A){var K=b===v.COMPAT;return K&&P.call(this),typeof A!="function"||(A(this),K&&M.call(this)),this},d.compatAPI=function(A){var K=b===v.ADVANCED;return K&&M.call(this),typeof A!="function"||(A(this),K&&P.call(this)),this},d.isAdvancedAPI=function(){return b===v.ADVANCED};var U,O=function(A){if(b!==v.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=d.roundToPrecision=d.__private__.roundToPrecision=function(A,K){var he=t||K;if(isNaN(A)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(he).replace(/0+$/,"")};U=d.hpf=d.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return R(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return R(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return R(A,16)};var T=d.f2=d.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return R(A,2)},C=d.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return R(A,3)},E=d.scale=d.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return b===v.COMPAT?A*Ke:b===v.ADVANCED?A:void 0},x=function(A){return b===v.COMPAT?Xi()-A:b===v.ADVANCED?A:void 0},k=function(A){return E(x(A))};d.__private__.setPrecision=d.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var L,D="00000000000000000000000000000000",q=d.__private__.getFileId=function(){return D},W=d.__private__.setFileId=function(A){return D=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():D.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(wn=new gl(u.userPermissions,u.userPassword,u.ownerPassword,D)),D};d.setFileId=function(A){return W(A),this},d.getFileId=function(){return q()};var Q=d.__private__.convertDateToPDFDate=function(A){var K=A.getTimezoneOffset(),he=K<0?"+":"-",ye=Math.floor(Math.abs(K/60)),Le=Math.abs(K%60),De=[he,G(ye),"'",G(Le),"'"].join("");return["D:",A.getFullYear(),G(A.getMonth()+1),G(A.getDate()),G(A.getHours()),G(A.getMinutes()),G(A.getSeconds()),De].join("")},ne=d.__private__.convertPDFDateToDate=function(A){var K=parseInt(A.substr(2,4),10),he=parseInt(A.substr(6,2),10)-1,ye=parseInt(A.substr(8,2),10),Le=parseInt(A.substr(10,2),10),De=parseInt(A.substr(12,2),10),We=parseInt(A.substr(14,2),10);return new Date(K,he,ye,Le,De,We,0)},oe=d.__private__.setCreationDate=function(A){var K;if(A===void 0&&(A=new Date),A instanceof Date)K=Q(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=A}return L=K},$=d.__private__.getCreationDate=function(A){var K=L;return A==="jsDate"&&(K=ne(L)),K};d.setCreationDate=function(A){return oe(A),this},d.getCreationDate=function(A){return $(A)};var I,G=d.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},J=d.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},re=0,_=[],V=[],Z=0,fe=[],le=[],X=!1,z=V,se=function(){re=0,Z=0,V=[],_=[],fe=[],wi=Ur(),Oa=Ur()};d.__private__.setCustomOutputDestination=function(A){X=!0,z=A};var B=function(A){X||(z=A)};d.__private__.resetCustomOutputDestination=function(){X=!1,z=V};var H=d.__private__.out=function(A){return A=A.toString(),Z+=A.length+1,z.push(A),z},de=d.__private__.write=function(A){return H(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},ge=d.__private__.getArrayBuffer=function(A){for(var K=A.length,he=new ArrayBuffer(K),ye=new Uint8Array(he);K--;)ye[K]=A.charCodeAt(K);return he},me=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return me};var ve=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(A){return ve=b===v.ADVANCED?A/Ke:A,this};var Se,Ce=d.__private__.getFontSize=d.getFontSize=function(){return b===v.COMPAT?ve:ve*Ke},ue=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(A){return ue=A,this},d.__private__.getR2L=d.getR2L=function(){return ue};var ke,Me=d.__private__.setZoomMode=function(A){var K=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))Se=A;else if(isNaN(A)){if(K.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');Se=A}else Se=parseInt(A,10)};d.__private__.getZoomMode=function(){return Se};var Ve,Ze=d.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');ke=A};d.__private__.getPageMode=function(){return ke};var Fe=d.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');Ve=A};d.__private__.getLayoutMode=function(){return Ve},d.__private__.setDisplayMode=d.setDisplayMode=function(A,K,he){return Me(A),Fe(K),Ze(he),this};var Qe={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(A){if(Object.keys(Qe).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qe[A]},d.__private__.getDocumentProperties=function(){return Qe},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(A){for(var K in Qe)Qe.hasOwnProperty(K)&&A[K]&&(Qe[K]=A[K]);return this},d.__private__.setDocumentProperty=function(A,K){if(Object.keys(Qe).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qe[A]=K};var nt,Ke,Ct,ft,Yt,_t={},Et={},mn=[],Ae={},Xe={},rt={},vt={},je=null,Je=0,ze=[],Rt=new cm(d),tn=e.hotfixes||[],gr={},Yr={},zn=[],gt=function A(K,he,ye,Le,De,We){if(!(this instanceof A))return new A(K,he,ye,Le,De,We);isNaN(K)&&(K=1),isNaN(he)&&(he=0),isNaN(ye)&&(ye=0),isNaN(Le)&&(Le=1),isNaN(De)&&(De=0),isNaN(We)&&(We=0),this._matrix=[K,he,ye,Le,De,We]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(A)},gt.prototype.multiply=function(A){var K=A.sx*this.sx+A.shy*this.shx,he=A.sx*this.shy+A.shy*this.sy,ye=A.shx*this.sx+A.sy*this.shx,Le=A.shx*this.shy+A.sy*this.sy,De=A.tx*this.sx+A.ty*this.shx+this.tx,We=A.tx*this.shy+A.ty*this.sy+this.ty;return new gt(K,he,ye,Le,De,We)},gt.prototype.decompose=function(){var A=this.sx,K=this.shy,he=this.shx,ye=this.sy,Le=this.tx,De=this.ty,We=Math.sqrt(A*A+K*K),it=(A/=We)*he+(K/=We)*ye;he-=A*it,ye-=K*it;var ht=Math.sqrt(he*he+ye*ye);return it/=ht,A*(ye/=ht)<K*(he/=ht)&&(A=-A,K=-K,it=-it,We=-We),{scale:new gt(We,0,0,ht,0,0),translate:new gt(1,0,0,1,Le,De),rotate:new gt(A,K,-K,A,0,0),skew:new gt(1,0,it,1,0,0)}},gt.prototype.toString=function(A){return this.join(" ")},gt.prototype.inversed=function(){var A=this.sx,K=this.shy,he=this.shx,ye=this.sy,Le=this.tx,De=this.ty,We=1/(A*ye-K*he),it=ye*We,ht=-K*We,Tt=-he*We,Lt=A*We;return new gt(it,ht,Tt,Lt,-it*Le-Tt*De,-ht*Le-Lt*De)},gt.prototype.applyToPoint=function(A){var K=A.x*this.sx+A.y*this.shx+this.tx,he=A.x*this.shy+A.y*this.sy+this.ty;return new Mo(K,he)},gt.prototype.applyToRectangle=function(A){var K=this.applyToPoint(A),he=this.applyToPoint(new Mo(A.x+A.w,A.y+A.h));return new tu(K.x,K.y,he.x-K.x,he.y-K.y)},gt.prototype.clone=function(){var A=this.sx,K=this.shy,he=this.shx,ye=this.sy,Le=this.tx,De=this.ty;return new gt(A,K,he,ye,Le,De)},d.Matrix=gt;var Ta=d.matrixMult=function(A,K){return K.multiply(A)},ei=new gt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=ei;var Wn=function(A,K){if(!Xe[A]){var he=(K instanceof oo?"Sh":"P")+(Object.keys(Ae).length+1).toString(10);K.id=he,Xe[A]=he,Ae[he]=K,Rt.publish("addPattern",K)}};d.ShadingPattern=oo,d.TilingPattern=bl,d.addShadingPattern=function(A,K){return O("addShadingPattern()"),Wn(A,K),this},d.beginTilingPattern=function(A){O("beginTilingPattern()"),kd(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},d.endTilingPattern=function(A,K){O("endTilingPattern()"),K.stream=le[I].join(`
`),Wn(A,K),Rt.publish("endTilingPattern",K),zn.pop().restore()};var Kr=d.__private__.newObject=function(){var A=Ur();return sa(A,!0),A},Ur=d.__private__.newObjectDeferred=function(){return re++,_[re]=function(){return Z},re},sa=function(A,K){return K=typeof K=="boolean"&&K,_[A]=Z,K&&H(A+" 0 obj"),A},wo=d.__private__.newAdditionalObject=function(){var A={objId:Ur(),content:""};return fe.push(A),A},wi=Ur(),Oa=Ur(),Ea=d.__private__.decodeColorString=function(A){var K=A.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length===5&&(K[4]==="k"||K[4]==="K")&&(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var he=parseFloat(K[0]);K=[he,he,he,"r"]}for(var ye="#",Le=0;Le<3;Le++)ye+=("0"+Math.floor(255*parseFloat(K[Le])).toString(16)).slice(-2);return ye},Ra=d.__private__.encodeColorString=function(A){var K;typeof A=="string"&&(A={ch1:A});var he=A.ch1,ye=A.ch2,Le=A.ch3,De=A.ch4,We=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var it=new Eb(he);if(it.ok)he=it.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var ht=parseInt(he.substr(1),16);he=ht>>16&255,ye=ht>>8&255,Le=255&ht}if(ye===void 0||De===void 0&&he===ye&&ye===Le)if(typeof he=="string")K=he+" "+We[0];else switch(A.precision){case 2:K=T(he/255)+" "+We[0];break;case 3:default:K=C(he/255)+" "+We[0]}else if(De===void 0||tr(De)==="object"){if(De&&!isNaN(De.a)&&De.a===0)return K=["1.","1.","1.",We[1]].join(" ");if(typeof he=="string")K=[he,ye,Le,We[1]].join(" ");else switch(A.precision){case 2:K=[T(he/255),T(ye/255),T(Le/255),We[1]].join(" ");break;default:case 3:K=[C(he/255),C(ye/255),C(Le/255),We[1]].join(" ")}}else if(typeof he=="string")K=[he,ye,Le,De,We[2]].join(" ");else switch(A.precision){case 2:K=[T(he),T(ye),T(Le),T(De),We[2]].join(" ");break;case 3:default:K=[C(he),C(ye),C(Le),C(De),We[2]].join(" ")}return K},ti=d.__private__.getFilters=function(){return s},va=d.__private__.putStream=function(A){var K=(A=A||{}).data||"",he=A.filters||ti(),ye=A.alreadyAppliedFilters||[],Le=A.addLength1||!1,De=K.length,We=A.objectId,it=function(Sn){return Sn};if(u!==null&&We===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(it=wn.encryptor(We,0));var ht={};he===!0&&(he=["FlateEncode"]);var Tt=A.additionalKeyValues||[],Lt=(ht=bt.API.processDataByFilters!==void 0?bt.API.processDataByFilters(K,he):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(ht.data.length!==0&&(Tt.push({key:"Length",value:ht.data.length}),Le===!0&&Tt.push({key:"Length1",value:De})),Lt.length!=0)if(Lt.split("/").length-1==1)Tt.push({key:"Filter",value:Lt});else{Tt.push({key:"Filter",value:"["+Lt+"]"});for(var Vt=0;Vt<Tt.length;Vt+=1)if(Tt[Vt].key==="DecodeParms"){for(var Sr=[],kr=0;kr<ht.reverseChain.split("/").length-1;kr+=1)Sr.push("null");Sr.push(Tt[Vt].value),Tt[Vt].value="["+Sr.join(" ")+"]"}}H("<<");for(var Vr=0;Vr<Tt.length;Vr++)H("/"+Tt[Vr].key+" "+Tt[Vr].value);H(">>"),ht.data.length!==0&&(H("stream"),H(it(ht.data)),H("endstream"))},ri=d.__private__.putPage=function(A){var K=A.number,he=A.data,ye=A.objId,Le=A.contentsObjId;sa(ye,!0),H("<</Type /Page"),H("/Parent "+A.rootDictionaryObjId+" 0 R"),H("/Resources "+A.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(U(A.mediaBox.bottomLeftX))+" "+parseFloat(U(A.mediaBox.bottomLeftY))+" "+U(A.mediaBox.topRightX)+" "+U(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&H("/CropBox ["+U(A.cropBox.bottomLeftX)+" "+U(A.cropBox.bottomLeftY)+" "+U(A.cropBox.topRightX)+" "+U(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&H("/BleedBox ["+U(A.bleedBox.bottomLeftX)+" "+U(A.bleedBox.bottomLeftY)+" "+U(A.bleedBox.topRightX)+" "+U(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&H("/TrimBox ["+U(A.trimBox.bottomLeftX)+" "+U(A.trimBox.bottomLeftY)+" "+U(A.trimBox.topRightX)+" "+U(A.trimBox.topRightY)+"]"),A.artBox!==null&&H("/ArtBox ["+U(A.artBox.bottomLeftX)+" "+U(A.artBox.bottomLeftY)+" "+U(A.artBox.topRightX)+" "+U(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&H("/UserUnit "+A.userUnit),Rt.publish("putPage",{objId:ye,pageContext:ze[K],pageNumber:K,page:he}),H("/Contents "+Le+" 0 R"),H(">>"),H("endobj");var De=he.join(`
`);return b===v.ADVANCED&&(De+=`
Q`),sa(Le,!0),va({data:De,filters:ti(),objectId:Le}),H("endobj"),ye},js=d.__private__.putPages=function(){var A,K,he=[];for(A=1;A<=Je;A++)ze[A].objId=Ur(),ze[A].contentsObjId=Ur();for(A=1;A<=Je;A++)he.push(ri({number:A,data:le[A],objId:ze[A].objId,contentsObjId:ze[A].contentsObjId,mediaBox:ze[A].mediaBox,cropBox:ze[A].cropBox,bleedBox:ze[A].bleedBox,trimBox:ze[A].trimBox,artBox:ze[A].artBox,userUnit:ze[A].userUnit,rootDictionaryObjId:wi,resourceDictionaryObjId:Oa}));sa(wi,!0),H("<</Type /Pages");var ye="/Kids [";for(K=0;K<Je;K++)ye+=he[K]+" 0 R ";H(ye+"]"),H("/Count "+Je),H(">>"),H("endobj"),Rt.publish("postPutPages")},So=function(A){Rt.publish("putFont",{font:A,out:H,newObject:Kr,putStream:va}),A.isAlreadyPutted!==!0&&(A.objectNumber=Kr(),H("<<"),H("/Type /Font"),H("/BaseFont /"+ml(A.postScriptName)),H("/Subtype /Type1"),typeof A.encoding=="string"&&H("/Encoding /"+A.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},xo=function(){for(var A in _t)_t.hasOwnProperty(A)&&(h===!1||h===!0&&p.hasOwnProperty(A))&&So(_t[A])},ko=function(A){A.objectNumber=Kr();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[U(A.x),U(A.y),U(A.x+A.width),U(A.y+A.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var he=A.pages[1].join(`
`);va({data:he,additionalKeyValues:K,objectId:A.objectNumber}),H("endobj")},Ao=function(){for(var A in gr)gr.hasOwnProperty(A)&&ko(gr[A])},sd=function(A,K){var he,ye=[],Le=1/(K-1);for(he=0;he<1;he+=Le)ye.push(he);if(ye.push(1),A[0].offset!=0){var De={offset:0,color:A[0].color};A.unshift(De)}if(A[A.length-1].offset!=1){var We={offset:1,color:A[A.length-1].color};A.push(We)}for(var it="",ht=0,Tt=0;Tt<ye.length;Tt++){for(he=ye[Tt];he>A[ht+1].offset;)ht++;var Lt=A[ht].offset,Vt=(he-Lt)/(A[ht+1].offset-Lt),Sr=A[ht].color,kr=A[ht+1].color;it+=J(Math.round((1-Vt)*Sr[0]+Vt*kr[0]).toString(16))+J(Math.round((1-Vt)*Sr[1]+Vt*kr[1]).toString(16))+J(Math.round((1-Vt)*Sr[2]+Vt*kr[2]).toString(16))}return it.trim()},gf=function(A,K){K||(K=21);var he=Kr(),ye=sd(A.colors,K),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+K+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),va({data:ye,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),H("endobj"),A.objectNumber=Kr(),H("<< /ShadingType "+A.type),H("/ColorSpace /DeviceRGB");var De="/Coords ["+U(parseFloat(A.coords[0]))+" "+U(parseFloat(A.coords[1]))+" ";A.type===2?De+=U(parseFloat(A.coords[2]))+" "+U(parseFloat(A.coords[3])):De+=U(parseFloat(A.coords[2]))+" "+U(parseFloat(A.coords[3]))+" "+U(parseFloat(A.coords[4]))+" "+U(parseFloat(A.coords[5])),H(De+="]"),A.matrix&&H("/Matrix ["+A.matrix.toString()+"]"),H("/Function "+he+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},mf=function(A,K){var he=Ur(),ye=Kr();K.push({resourcesOid:he,objectOid:ye}),A.objectNumber=ye;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+A.boundingBox.map(U).join(" ")+"]"}),Le.push({key:"XStep",value:U(A.xStep)}),Le.push({key:"YStep",value:U(A.yStep)}),Le.push({key:"Resources",value:he+" 0 R"}),A.matrix&&Le.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),va({data:A.stream,additionalKeyValues:Le,objectId:A.objectNumber}),H("endobj")},Po=function(A){var K;for(K in Ae)Ae.hasOwnProperty(K)&&(Ae[K]instanceof oo?gf(Ae[K]):Ae[K]instanceof bl&&mf(Ae[K],A))},od=function(A){for(var K in A.objectNumber=Kr(),H("<<"),A)switch(K){case"opacity":H("/ca "+T(A[K]));break;case"stroke-opacity":H("/CA "+T(A[K]))}H(">>"),H("endobj")},vf=function(){var A;for(A in rt)rt.hasOwnProperty(A)&&od(rt[A])},Hl=function(){for(var A in H("/XObject <<"),gr)gr.hasOwnProperty(A)&&gr[A].objectNumber>=0&&H("/"+A+" "+gr[A].objectNumber+" 0 R");Rt.publish("putXobjectDict"),H(">>")},yf=function(){wn.oid=Kr(),H("<<"),H("/Filter /Standard"),H("/V "+wn.v),H("/R "+wn.r),H("/U <"+wn.toHexString(wn.U)+">"),H("/O <"+wn.toHexString(wn.O)+">"),H("/P "+wn.P),H(">>"),H("endobj")},ld=function(){for(var A in H("/Font <<"),_t)_t.hasOwnProperty(A)&&(h===!1||h===!0&&p.hasOwnProperty(A))&&H("/"+A+" "+_t[A].objectNumber+" 0 R");H(">>")},bf=function(){if(Object.keys(Ae).length>0){for(var A in H("/Shading <<"),Ae)Ae.hasOwnProperty(A)&&Ae[A]instanceof oo&&Ae[A].objectNumber>=0&&H("/"+A+" "+Ae[A].objectNumber+" 0 R");Rt.publish("putShadingPatternDict"),H(">>")}},Co=function(A){if(Object.keys(Ae).length>0){for(var K in H("/Pattern <<"),Ae)Ae.hasOwnProperty(K)&&Ae[K]instanceof d.TilingPattern&&Ae[K].objectNumber>=0&&Ae[K].objectNumber<A&&H("/"+K+" "+Ae[K].objectNumber+" 0 R");Rt.publish("putTilingPatternDict"),H(">>")}},_f=function(){if(Object.keys(rt).length>0){var A;for(A in H("/ExtGState <<"),rt)rt.hasOwnProperty(A)&&rt[A].objectNumber>=0&&H("/"+A+" "+rt[A].objectNumber+" 0 R");Rt.publish("putGStateDict"),H(">>")}},Tr=function(A){sa(A.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ld(),bf(),Co(A.objectOid),_f(),Hl(),H(">>"),H("endobj")},ud=function(){var A=[];xo(),vf(),Ao(),Po(A),Rt.publish("putResources"),A.forEach(Tr),Tr({resourcesOid:Oa,objectOid:Number.MAX_SAFE_INTEGER}),Rt.publish("postPutResources")},cd=function(){Rt.publish("putAdditionalObjects");for(var A=0;A<fe.length;A++){var K=fe[A];sa(K.objId,!0),H(K.content),H("endobj")}Rt.publish("postPutAdditionalObjects")},dd=function(A){Et[A.fontName]=Et[A.fontName]||{},Et[A.fontName][A.fontStyle]=A.id},zl=function(A,K,he,ye,Le){var De={id:"F"+(Object.keys(_t).length+1).toString(10),postScriptName:A,fontName:K,fontStyle:he,encoding:ye,isStandardFont:Le||!1,metadata:{}};return Rt.publish("addFont",{font:De,instance:this}),_t[De.id]=De,dd(De),De.id},wf=function(A){for(var K=0,he=me.length;K<he;K++){var ye=zl.call(this,A[K][0],A[K][1],A[K][2],me[K][3],!0);h===!1&&(p[ye]=!0);var Le=A[K][0].split("-");dd({id:ye,fontName:Le[0],fontStyle:Le[1]||""})}Rt.publish("addFonts",{fonts:_t,dictionary:Et})},Ma=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(ye){var K=ye.stack||"";~K.indexOf(" at ")&&(K=K.split(" at ")[1]);var he="Error in function "+K.split(`
`)[0].split("<")[0]+": "+ye.message;if(!wt.console)throw new Error(he);wt.console.error(he,ye),wt.alert&&alert(he)}},A.foo.bar=A,A.foo},Lo=function(A,K){var he,ye,Le,De,We,it,ht,Tt,Lt;if(Le=(K=K||{}).sourceEncoding||"Unicode",We=K.outputEncoding,(K.autoencode||We)&&_t[nt].metadata&&_t[nt].metadata[Le]&&_t[nt].metadata[Le].encoding&&(De=_t[nt].metadata[Le].encoding,!We&&_t[nt].encoding&&(We=_t[nt].encoding),!We&&De.codePages&&(We=De.codePages[0]),typeof We=="string"&&(We=De[We]),We)){for(ht=!1,it=[],he=0,ye=A.length;he<ye;he++)(Tt=We[A.charCodeAt(he)])?it.push(String.fromCharCode(Tt)):it.push(A[he]),it[he].charCodeAt(0)>>8&&(ht=!0);A=it.join("")}for(he=A.length;ht===void 0&&he!==0;)A.charCodeAt(he-1)>>8&&(ht=!0),he--;if(!ht)return A;for(it=K.noBOM?[]:[254,255],he=0,ye=A.length;he<ye;he++){if((Lt=(Tt=A.charCodeAt(he))>>8)>>8)throw new Error("Character at position "+he+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");it.push(Lt),it.push(Tt-(Lt<<8))}return String.fromCharCode.apply(void 0,it)},Yn=d.__private__.pdfEscape=d.pdfEscape=function(A,K){return Lo(A,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wl=d.__private__.beginPage=function(A){le[++Je]=[],ze[Je]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},fd(Je),B(le[I])},hd=function(A,K){var he,ye,Le;switch(r=K||r,typeof A=="string"&&(he=w(A.toLowerCase()),Array.isArray(he)&&(ye=he[0],Le=he[1])),Array.isArray(A)&&(ye=A[0]*Ke,Le=A[1]*Ke),isNaN(ye)&&(ye=a[0],Le=a[1]),(ye>14400||Le>14400)&&(lr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),Le=Math.min(14400,Le)),a=[ye,Le],r.substr(0,1)){case"l":Le>ye&&(a=[Le,ye]);break;case"p":ye>Le&&(a=[Le,ye])}Wl(a),bd(Jl),H(Da),Zl!==0&&H(Zl+" J"),eu!==0&&H(eu+" j"),Rt.publish("addPage",{pageNumber:Je})},Sf=function(A){A>0&&A<=Je&&(le.splice(A,1),ze.splice(A,1),Je--,I>Je&&(I=Je),this.setPage(I))},fd=function(A){A>0&&A<=Je&&(I=A)},xf=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return le.length-1},pd=function(A,K,he){var ye,Le=void 0;return he=he||{},A=A!==void 0?A:_t[nt].fontName,K=K!==void 0?K:_t[nt].fontStyle,ye=A.toLowerCase(),Et[ye]!==void 0&&Et[ye][K]!==void 0?Le=Et[ye][K]:Et[A]!==void 0&&Et[A][K]!==void 0?Le=Et[A][K]:he.disableWarning===!1&&lr.warn("Unable to look up font label for font '"+A+"', '"+K+"'. Refer to getFontList() for available fonts."),Le||he.noFallback||(Le=Et.times[K])==null&&(Le=Et.times.normal),Le},kf=d.__private__.putInfo=function(){var A=Kr(),K=function(ye){return ye};for(var he in u!==null&&(K=wn.encryptor(A,0)),H("<<"),H("/Producer ("+Yn(K("jsPDF "+bt.version))+")"),Qe)Qe.hasOwnProperty(he)&&Qe[he]&&H("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+Yn(K(Qe[he]))+")");H("/CreationDate ("+Yn(K(L))+")"),H(">>"),H("endobj")},Yl=d.__private__.putCatalog=function(A){var K=(A=A||{}).rootDictionaryObjId||wi;switch(Kr(),H("<<"),H("/Type /Catalog"),H("/Pages "+K+" 0 R"),Se||(Se="fullwidth"),Se){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+Se;he.substr(he.length-1)==="%"&&(Se=parseInt(Se)/100),typeof Se=="number"&&H("/OpenAction [3 0 R /XYZ null null "+T(Se)+"]")}switch(Ve||(Ve="continuous"),Ve){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}ke&&H("/PageMode /"+ke),Rt.publish("putCatalog"),H(">>"),H("endobj")},Af=d.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(re+1)),H("/Root "+re+" 0 R"),H("/Info "+(re-1)+" 0 R"),u!==null&&H("/Encrypt "+wn.oid+" 0 R"),H("/ID [ <"+D+"> <"+D+"> ]"),H(">>")},Pf=d.__private__.putHeader=function(){H("%PDF-"+g),H("%")},Cf=d.__private__.putXRef=function(){var A="0000000000";H("xref"),H("0 "+(re+1)),H("0000000000 65535 f ");for(var K=1;K<=re;K++)typeof _[K]=="function"?H((A+_[K]()).slice(-10)+" 00000 n "):_[K]!==void 0?H((A+_[K]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},Si=d.__private__.buildDocument=function(){se(),B(V),Rt.publish("buildDocument"),Pf(),js(),cd(),ud(),u!==null&&yf(),kf(),Yl();var A=Z;return Cf(),Af(),H("startxref"),H(""+A),H("%%EOF"),B(le[I]),V.join(`
`)},No=d.__private__.getBlob=function(A){return new Blob([ge(A)],{type:"application/pdf"})},To=d.output=d.__private__.output=Ma(function(A,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",A){case void 0:return Si();case"save":d.save(K.filename);break;case"arraybuffer":return ge(Si());case"blob":return No(Si());case"bloburi":case"bloburl":if(wt.URL!==void 0&&typeof wt.URL.createObjectURL=="function")return wt.URL&&wt.URL.createObjectURL(No(Si()))||void 0;lr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",ye=Si();try{he=I1(ye)}catch{he=I1(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+K.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",De=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(Le=K.pdfObjectUrl,De="");var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+De+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",it=wt.open();return it!==null&&it.document.write(We),it}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(wt)==="[object Window]"){var ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',Tt=wt.open();if(Tt!==null){Tt.document.write(ht);var Lt=this;Tt.document.documentElement.querySelector("#pdfViewer").onload=function(){Tt.document.title=K.filename,Tt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Lt.output("bloburl"))}}return Tt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',Sr=wt.open();if(Sr!==null&&(Sr.document.write(Vt),Sr.document.title=K.filename),Sr||typeof safari>"u")return Sr;break;case"datauri":case"dataurl":return wt.document.location.href=this.output("datauristring",K);default:return null}}),gd=function(A){return Array.isArray(tn)===!0&&tn.indexOf(A)>-1};switch(n){case"pt":Ke=1;break;case"mm":Ke=72/25.4;break;case"cm":Ke=72/2.54;break;case"in":Ke=72;break;case"px":Ke=gd("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ke=12;break;case"ex":Ke=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ke=n}var wn=null;oe(),W();var Lf=function(A){return u!==null?wn.encryptor(A,0):function(K){return K}},md=d.__private__.getPageInfo=d.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ze[A].objId,pageNumber:A,pageContext:ze[A]}},Pt=d.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in ze)if(ze[K].objId===A)break;return md(K)},Nf=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:ze[I].objId,pageNumber:I,pageContext:ze[I]}};d.addPage=function(){return hd.apply(this,arguments),this},d.setPage=function(){return fd.apply(this,arguments),B.call(this,le[I]),this},d.insertPage=function(A){return this.addPage(),this.movePage(I,A),this},d.movePage=function(A,K){var he,ye;if(A>K){he=le[A],ye=ze[A];for(var Le=A;Le>K;Le--)le[Le]=le[Le-1],ze[Le]=ze[Le-1];le[K]=he,ze[K]=ye,this.setPage(K)}else if(A<K){he=le[A],ye=ze[A];for(var De=A;De<K;De++)le[De]=le[De+1],ze[De]=ze[De+1];le[K]=he,ze[K]=ye,this.setPage(K)}return this},d.deletePage=function(){return Sf.apply(this,arguments),this},d.__private__.text=d.text=function(A,K,he,ye,Le){var De,We,it,ht,Tt,Lt,Vt,Sr,kr,Vr=(ye=ye||{}).scope||this;if(typeof A=="number"&&typeof K=="number"&&(typeof he=="string"||Array.isArray(he))){var Sn=he;he=K,K=A,A=Sn}if(arguments[3]instanceof gt?(O("The transform parameter of text() with a Matrix value"),kr=Le):(it=arguments[4],ht=arguments[5],tr(Vt=arguments[3])==="object"&&Vt!==null||(typeof it=="string"&&(ht=it,it=null),typeof Vt=="string"&&(ht=Vt,Vt=null),typeof Vt=="number"&&(it=Vt,Vt=null),ye={flags:Vt,angle:it,align:ht})),isNaN(K)||isNaN(he)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Vr;var rn="",Ia=!1,oa=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:qs,ii=Vr.internal.scaleFactor;function Ad(cr){return cr=cr.split("	").join(Array(ye.TabLen||9).join(" ")),Yn(cr,Vt)}function iu(cr){for(var dr,Er=cr.concat(),Xr=[],Ci=Er.length;Ci--;)typeof(dr=Er.shift())=="string"?Xr.push(dr):Array.isArray(cr)&&(dr.length===1||dr[1]===void 0&&dr[2]===void 0)?Xr.push(dr[0]):Xr.push([dr[0],dr[1],dr[2]]);return Xr}function su(cr,dr){var Er;if(typeof cr=="string")Er=dr(cr)[0];else if(Array.isArray(cr)){for(var Xr,Ci,pu=cr.concat(),Ho=[],Td=pu.length;Td--;)typeof(Xr=pu.shift())=="string"?Ho.push(dr(Xr)[0]):Array.isArray(Xr)&&typeof Xr[0]=="string"&&(Ci=dr(Xr[0],Xr[1],Xr[2]),Ho.push([Ci[0],Ci[1],Ci[2]]));Er=Ho}return Er}var Io=!1,ou=!0;if(typeof A=="string")Io=!0;else if(Array.isArray(A)){var lu=A.concat();We=[];for(var Fo,vn=lu.length;vn--;)(typeof(Fo=lu.shift())!="string"||Array.isArray(Fo)&&typeof Fo[0]!="string")&&(ou=!1);Io=ou}if(Io===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var jo=ve/Vr.internal.scaleFactor,Bo=jo*(oa-1);switch(ye.baseline){case"bottom":he-=Bo;break;case"top":he+=jo-Bo;break;case"hanging":he+=jo-2*Bo;break;case"middle":he+=jo/2-Bo}if((Lt=ye.maxWidth||0)>0&&(typeof A=="string"?A=Vr.splitTextToSize(A,Lt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(cr,dr){return cr.concat(Vr.splitTextToSize(dr,Lt))},[]))),De={text:A,x:K,y:he,options:ye,mutex:{pdfEscape:Yn,activeFontKey:nt,fonts:_t,activeFontSize:ve}},Rt.publish("preProcessText",De),A=De.text,it=(ye=De.options).angle,!(kr instanceof gt)&&it&&typeof it=="number"){it*=Math.PI/180,ye.rotationDirection===0&&(it=-it),b===v.ADVANCED&&(it=-it);var qo=Math.cos(it),uu=Math.sin(it);kr=new gt(qo,uu,-uu,qo,0,0)}else it&&it instanceof gt&&(kr=it);b!==v.ADVANCED||kr||(kr=ei),(Tt=ye.charSpace||Ro)!==void 0&&(rn+=U(E(Tt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Sr=ye.horizontalScale)!==void 0&&(rn+=U(100*Sr)+` Tz
`),ye.lang;var Kn=-1,Bf=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,cu=Vr.internal.getCurrentPageInfo().pageContext;switch(Bf){case 0:case!1:case"fill":Kn=0;break;case 1:case!0:case"stroke":Kn=1;break;case 2:case"fillThenStroke":Kn=2;break;case 3:case"invisible":Kn=3;break;case 4:case"fillAndAddForClipping":Kn=4;break;case 5:case"strokeAndAddPathForClipping":Kn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Kn=6;break;case 7:case"addToPathForClipping":Kn=7}var Pd=cu.usedRenderingMode!==void 0?cu.usedRenderingMode:-1;Kn!==-1?rn+=Kn+` Tr
`:Pd!==-1&&(rn+=`0 Tr
`),Kn!==-1&&(cu.usedRenderingMode=Kn),ht=ye.align||"left";var ya,$o=ve*oa,Cd=Vr.internal.pageSize.getWidth(),Ld=_t[nt];Tt=ye.charSpace||Ro,Lt=ye.maxWidth||0,Vt=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var Ji=[],Vs=function(cr){return Vr.getStringUnitWidth(cr,{font:Ld,charSpace:Tt,fontSize:ve,doKerning:!1})*ve/ii};if(Object.prototype.toString.call(A)==="[object Array]"){var Xn;We=iu(A),ht!=="left"&&(ya=We.map(Vs));var Rn,Qi=0;if(ht==="right"){K-=ya[0],A=[],vn=We.length;for(var ki=0;ki<vn;ki++)ki===0?(Rn=ai(K),Xn=xi(he)):(Rn=E(Qi-ya[ki]),Xn=-$o),A.push([We[ki],Rn,Xn]),Qi=ya[ki]}else if(ht==="center"){K-=ya[0]/2,A=[],vn=We.length;for(var Ai=0;Ai<vn;Ai++)Ai===0?(Rn=ai(K),Xn=xi(he)):(Rn=E((Qi-ya[Ai])/2),Xn=-$o),A.push([We[Ai],Rn,Xn]),Qi=ya[Ai]}else if(ht==="left"){A=[],vn=We.length;for(var Uo=0;Uo<vn;Uo++)A.push(We[Uo])}else if(ht==="justify"&&Ld.encoding==="Identity-H"){A=[],vn=We.length,Lt=Lt!==0?Lt:Cd;for(var Pi=0,Or=0;Or<vn;Or++)if(Xn=Or===0?xi(he):-$o,Rn=Or===0?ai(K):Pi,Or<vn-1){var du=E((Lt-ya[Or])/(We[Or].split(" ").length-1)),Mn=We[Or].split(" ");A.push([Mn[0]+" ",Rn,Xn]),Pi=0;for(var ba=1;ba<Mn.length;ba++){var Vo=(Vs(Mn[ba-1]+" "+Mn[ba])-Vs(Mn[ba]))*ii+du;ba==Mn.length-1?A.push([Mn[ba],Vo,0]):A.push([Mn[ba]+" ",Vo,0]),Pi-=Vo}}else A.push([We[Or],Rn,Xn]);A.push(["",Pi,0])}else{if(ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],vn=We.length,Lt=Lt!==0?Lt:Cd,Or=0;Or<vn;Or++)Xn=Or===0?xi(he):-$o,Rn=Or===0?ai(K):0,Or<vn-1?Ji.push(U(E((Lt-ya[Or])/(We[Or].split(" ").length-1)))):Ji.push(0),A.push([We[Or],Rn,Xn])}}var Nd=typeof ye.R2L=="boolean"?ye.R2L:ue;Nd===!0&&(A=su(A,function(cr,dr,Er){return[cr.split("").reverse().join(""),dr,Er]})),De={text:A,x:K,y:he,options:ye,mutex:{pdfEscape:Yn,activeFontKey:nt,fonts:_t,activeFontSize:ve}},Rt.publish("postProcessText",De),A=De.text,Ia=De.mutex.isHex||!1;var hu=_t[nt].encoding;hu!=="WinAnsiEncoding"&&hu!=="StandardEncoding"||(A=su(A,function(cr,dr,Er){return[Ad(cr),dr,Er]})),We=iu(A),A=[];for(var Gs,Hs,Zi,zs=0,Go=1,Ws=Array.isArray(We[0])?Go:zs,es="",fu=function(cr,dr,Er){var Xr="";return Er instanceof gt?(Er=typeof ye.angle=="number"?Ta(Er,new gt(1,0,0,1,cr,dr)):Ta(new gt(1,0,0,1,cr,dr),Er),b===v.ADVANCED&&(Er=Ta(new gt(1,0,0,-1,0,0),Er)),Xr=Er.join(" ")+` Tm
`):Xr=U(cr)+" "+U(dr)+` Td
`,Xr},_a=0;_a<We.length;_a++){switch(es="",Ws){case Go:Zi=(Ia?"<":"(")+We[_a][0]+(Ia?">":")"),Gs=parseFloat(We[_a][1]),Hs=parseFloat(We[_a][2]);break;case zs:Zi=(Ia?"<":"(")+We[_a]+(Ia?">":")"),Gs=ai(K),Hs=xi(he)}Ji!==void 0&&Ji[_a]!==void 0&&(es=Ji[_a]+` Tw
`),_a===0?A.push(es+fu(Gs,Hs,kr)+Zi):Ws===zs?A.push(es+Zi):Ws===Go&&A.push(es+fu(Gs,Hs,kr)+Zi)}A=Ws===zs?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var wa=`BT
/`;return wa+=nt+" "+ve+` Tf
`,wa+=U(ve*oa)+` TL
`,wa+=$s+`
`,wa+=rn,wa+=A,H(wa+="ET"),p[nt]=!0,Vr};var Tf=d.__private__.clip=d.clip=function(A){return H(A==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Tf("evenodd")},d.__private__.discardPath=d.discardPath=function(){return H("n"),this};var ni=d.__private__.isValidStyle=function(A){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(K=!0),K};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(A){return ni(A)&&(c=A),this};var vd=d.__private__.getStyle=d.getStyle=function(A){var K=c;switch(A){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=A}return K},yd=d.close=function(){return H("h"),this};d.stroke=function(){return H("S"),this},d.fill=function(A){return Oo("f",A),this},d.fillEvenOdd=function(A){return Oo("f*",A),this},d.fillStroke=function(A){return Oo("B",A),this},d.fillStrokeEvenOdd=function(A){return Oo("B*",A),this};var Oo=function(A,K){tr(K)==="object"?Ef(K,A):H(A)},Kl=function(A){A===null||b===v.ADVANCED&&A===void 0||(A=vd(A),H(A))};function Of(A,K,he,ye,Le){var De=new bl(K||this.boundingBox,he||this.xStep,ye||this.yStep,this.gState,Le||this.matrix);De.stream=this.stream;var We=A+"$$"+this.cloneIndex+++"$$";return Wn(We,De),De}var Ef=function(A,K){var he=Xe[A.key],ye=Ae[he];if(ye instanceof oo)H("q"),H(Rf(K)),ye.gState&&d.setGState(ye.gState),H(A.matrix.toString()+" cm"),H("/"+he+" sh"),H("Q");else if(ye instanceof bl){var Le=new gt(1,0,0,-1,0,Xi());A.matrix&&(Le=Le.multiply(A.matrix||ei),he=Of.call(ye,A.key,A.boundingBox,A.xStep,A.yStep,Le).id),H("q"),H("/Pattern cs"),H("/"+he+" scn"),ye.gState&&d.setGState(ye.gState),H(K),H("Q")}},Rf=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Xl=d.moveTo=function(A,K){return H(U(E(A))+" "+U(k(K))+" m"),this},Bs=d.lineTo=function(A,K){return H(U(E(A))+" "+U(k(K))+" l"),this},Yi=d.curveTo=function(A,K,he,ye,Le,De){return H([U(E(A)),U(k(K)),U(E(he)),U(k(ye)),U(E(Le)),U(k(De)),"c"].join(" ")),this};d.__private__.line=d.line=function(A,K,he,ye,Le){if(isNaN(A)||isNaN(K)||isNaN(he)||isNaN(ye)||!ni(Le))throw new Error("Invalid arguments passed to jsPDF.line");return b===v.COMPAT?this.lines([[he-A,ye-K]],A,K,[1,1],Le||"S"):this.lines([[he-A,ye-K]],A,K,[1,1]).stroke()},d.__private__.lines=d.lines=function(A,K,he,ye,Le,De){var We,it,ht,Tt,Lt,Vt,Sr,kr,Vr,Sn,rn,Ia;if(typeof A=="number"&&(Ia=he,he=K,K=A,A=Ia),ye=ye||[1,1],De=De||!1,isNaN(K)||isNaN(he)||!Array.isArray(A)||!Array.isArray(ye)||!ni(Le)||typeof De!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xl(K,he),We=ye[0],it=ye[1],Tt=A.length,Sn=K,rn=he,ht=0;ht<Tt;ht++)(Lt=A[ht]).length===2?(Sn=Lt[0]*We+Sn,rn=Lt[1]*it+rn,Bs(Sn,rn)):(Vt=Lt[0]*We+Sn,Sr=Lt[1]*it+rn,kr=Lt[2]*We+Sn,Vr=Lt[3]*it+rn,Sn=Lt[4]*We+Sn,rn=Lt[5]*it+rn,Yi(Vt,Sr,kr,Vr,Sn,rn));return De&&yd(),Kl(Le),this},d.path=function(A){for(var K=0;K<A.length;K++){var he=A[K],ye=he.c;switch(he.op){case"m":Xl(ye[0],ye[1]);break;case"l":Bs(ye[0],ye[1]);break;case"c":Yi.apply(this,ye);break;case"h":yd()}}return this},d.__private__.rect=d.rect=function(A,K,he,ye,Le){if(isNaN(A)||isNaN(K)||isNaN(he)||isNaN(ye)||!ni(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return b===v.COMPAT&&(ye=-ye),H([U(E(A)),U(k(K)),U(E(he)),U(E(ye)),"re"].join(" ")),Kl(Le),this},d.__private__.triangle=d.triangle=function(A,K,he,ye,Le,De,We){if(isNaN(A)||isNaN(K)||isNaN(he)||isNaN(ye)||isNaN(Le)||isNaN(De)||!ni(We))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-A,ye-K],[Le-he,De-ye],[A-Le,K-De]],A,K,[1,1],We,!0),this},d.__private__.roundedRect=d.roundedRect=function(A,K,he,ye,Le,De,We){if(isNaN(A)||isNaN(K)||isNaN(he)||isNaN(ye)||isNaN(Le)||isNaN(De)||!ni(We))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var it=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*he),De=Math.min(De,.5*ye),this.lines([[he-2*Le,0],[Le*it,0,Le,De-De*it,Le,De],[0,ye-2*De],[0,De*it,-Le*it,De,-Le,De],[2*Le-he,0],[-Le*it,0,-Le,-De*it,-Le,-De],[0,2*De-ye],[0,-De*it,Le*it,-De,Le,-De]],A+Le,K,[1,1],We,!0),this},d.__private__.ellipse=d.ellipse=function(A,K,he,ye,Le){if(isNaN(A)||isNaN(K)||isNaN(he)||isNaN(ye)||!ni(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var De=4/3*(Math.SQRT2-1)*he,We=4/3*(Math.SQRT2-1)*ye;return Xl(A+he,K),Yi(A+he,K-We,A+De,K-ye,A,K-ye),Yi(A-De,K-ye,A-he,K-We,A-he,K),Yi(A-he,K+We,A-De,K+ye,A,K+ye),Yi(A+De,K+ye,A+he,K+We,A+he,K),Kl(Le),this},d.__private__.circle=d.circle=function(A,K,he,ye){if(isNaN(A)||isNaN(K)||isNaN(he)||!ni(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,K,he,he,ye)},d.setFont=function(A,K,he){return he&&(K=F(K,he)),nt=pd(A,K,{disableWarning:!1}),this};var Mf=d.__private__.getFont=d.getFont=function(){return _t[pd.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var A,K,he={};for(A in Et)if(Et.hasOwnProperty(A))for(K in he[A]=[],Et[A])Et[A].hasOwnProperty(K)&&he[A].push(K);return he},d.addFont=function(A,K,he,ye,Le){var De=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&De.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&De.indexOf(arguments[3])==-1&&(he=F(he,ye)),Le=Le||"Identity-H",zl.call(this,A,K,he,Le)};var qs,Jl=e.lineWidth||.200025,Eo=d.__private__.getLineWidth=d.getLineWidth=function(){return Jl},bd=d.__private__.setLineWidth=d.setLineWidth=function(A){return Jl=A,H(U(E(A))+" w"),this};d.__private__.setLineDash=bt.API.setLineDash=bt.API.setLineDashPattern=function(A,K){if(A=A||[],K=K||0,isNaN(K)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(he){return U(E(he))}).join(" "),K=U(E(K)),H("["+A+"] "+K+" d"),this};var _d=d.__private__.getLineHeight=d.getLineHeight=function(){return ve*qs};d.__private__.getLineHeight=d.getLineHeight=function(){return ve*qs};var wd=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(qs=A),this},Sd=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return qs};wd(e.lineHeight);var ai=d.__private__.getHorizontalCoordinate=function(A){return E(A)},xi=d.__private__.getVerticalCoordinate=function(A){return b===v.ADVANCED?A:ze[I].mediaBox.topRightY-ze[I].mediaBox.bottomLeftY-E(A)},Df=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(A){return U(ai(A))},Ki=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(A){return U(xi(A))},Da=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return Ea(Da)},d.__private__.setStrokeColor=d.setDrawColor=function(A,K,he,ye){return Da=Ra({ch1:A,ch2:K,ch3:he,ch4:ye,pdfColorType:"draw",precision:2}),H(Da),this};var Ql=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return Ea(Ql)},d.__private__.setFillColor=d.setFillColor=function(A,K,he,ye){return Ql=Ra({ch1:A,ch2:K,ch3:he,ch4:ye,pdfColorType:"fill",precision:2}),H(Ql),this};var $s=e.textColor||"0 g",If=d.__private__.getTextColor=d.getTextColor=function(){return Ea($s)};d.__private__.setTextColor=d.setTextColor=function(A,K,he,ye){return $s=Ra({ch1:A,ch2:K,ch3:he,ch4:ye,pdfColorType:"text",precision:3}),this};var Ro=e.charSpace,Ff=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Ro||0)};d.__private__.setCharSpace=d.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ro=A,this};var Zl=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(A){var K=d.CapJoinStyles[A];if(K===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zl=K,H(K+" J"),this};var eu=0;d.__private__.setLineJoin=d.setLineJoin=function(A){var K=d.CapJoinStyles[A];if(K===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return eu=K,H(K+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(U(E(A))+" M"),this},d.GState=Ih,d.setGState=function(A){(A=typeof A=="string"?rt[vt[A]]:xd(null,A)).equals(je)||(H("/"+A.id+" gs"),je=A)};var xd=function(A,K){if(!A||!vt[A]){var he=!1;for(var ye in rt)if(rt.hasOwnProperty(ye)&&rt[ye].equals(K)){he=!0;break}if(he)K=rt[ye];else{var Le="GS"+(Object.keys(rt).length+1).toString(10);rt[Le]=K,K.id=Le}return A&&(vt[A]=K.id),Rt.publish("addGState",K),K}};d.addGState=function(A,K){return xd(A,K),this},d.saveGraphicsState=function(){return H("q"),mn.push({key:nt,size:ve,color:$s}),this},d.restoreGraphicsState=function(){H("Q");var A=mn.pop();return nt=A.key,ve=A.size,$s=A.color,je=null,this},d.setCurrentTransformationMatrix=function(A){return H(A.toString()+" cm"),this},d.comment=function(A){return H("#"+A),this};var Mo=function(A,K){var he=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(De){isNaN(De)||(he=parseFloat(De))}});var ye=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function(De){isNaN(De)||(ye=parseFloat(De))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(De){Le=De.toString()}}),this},tu=function(A,K,he,ye){Mo.call(this,A,K),this.type="rect";var Le=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(We){isNaN(We)||(Le=parseFloat(We))}});var De=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return De},set:function(We){isNaN(We)||(De=parseFloat(We))}}),this},ru=function(){this.page=Je,this.currentPage=I,this.pages=le.slice(0),this.pagesContext=ze.slice(0),this.x=Ct,this.y=ft,this.matrix=Yt,this.width=Us(I),this.height=Xi(I),this.outputDestination=z,this.id="",this.objectNumber=-1};ru.prototype.restore=function(){Je=this.page,I=this.currentPage,ze=this.pagesContext,le=this.pages,Ct=this.x,ft=this.y,Yt=this.matrix,nu(I,this.width),au(I,this.height),z=this.outputDestination};var kd=function(A,K,he,ye,Le){zn.push(new ru),Je=I=0,le=[],Ct=A,ft=K,Yt=Le,Wl([he,ye])},jf=function(A){if(Yr[A])zn.pop().restore();else{var K=new ru,he="Xo"+(Object.keys(gr).length+1).toString(10);K.id=he,Yr[A]=he,gr[he]=K,Rt.publish("addFormObject",K),zn.pop().restore()}};for(var Do in d.beginFormObject=function(A,K,he,ye,Le){return kd(A,K,he,ye,Le),this},d.endFormObject=function(A){return jf(A),this},d.doFormObject=function(A,K){var he=gr[Yr[A]];return H("q"),H(K.toString()+" cm"),H("/"+he.id+" Do"),H("Q"),this},d.getFormObject=function(A){var K=gr[Yr[A]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},d.save=function(A,K){return A=A||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(ao(No(Si()),A),typeof ao.unload=="function"&&wt.setTimeout&&setTimeout(ao.unload,911),this):new Promise(function(he,ye){try{var Le=ao(No(Si()),A);typeof ao.unload=="function"&&wt.setTimeout&&setTimeout(ao.unload,911),he(Le)}catch(De){ye(De.message)}})},bt.API)bt.API.hasOwnProperty(Do)&&(Do==="events"&&bt.API.events.length?function(A,K){var he,ye,Le;for(Le=K.length-1;Le!==-1;Le--)he=K[Le][0],ye=K[Le][1],A.subscribe.apply(A,[he].concat(typeof ye=="function"?[ye]:ye))}(Rt,bt.API.events):d[Do]=bt.API[Do]);var Us=d.getPageWidth=function(A){return(ze[A=A||I].mediaBox.topRightX-ze[A].mediaBox.bottomLeftX)/Ke},nu=d.setPageWidth=function(A,K){ze[A].mediaBox.topRightX=K*Ke+ze[A].mediaBox.bottomLeftX},Xi=d.getPageHeight=function(A){return(ze[A=A||I].mediaBox.topRightY-ze[A].mediaBox.bottomLeftY)/Ke},au=d.setPageHeight=function(A,K){ze[A].mediaBox.topRightY=K*Ke+ze[A].mediaBox.bottomLeftY};return d.internal={pdfEscape:Yn,getStyle:vd,getFont:Mf,getFontSize:Ce,getCharSpace:Ff,getTextColor:If,getLineHeight:_d,getLineHeightFactor:Sd,getLineWidth:Eo,write:de,getHorizontalCoordinate:ai,getVerticalCoordinate:xi,getCoordinateString:Df,getVerticalCoordinateString:Ki,collections:{},newObject:Kr,newAdditionalObject:wo,newObjectDeferred:Ur,newObjectDeferredBegin:sa,getFilters:ti,putStream:va,events:Rt,scaleFactor:Ke,pageSize:{getWidth:function(){return Us(I)},setWidth:function(A){nu(I,A)},getHeight:function(){return Xi(I)},setHeight:function(A){au(I,A)}},encryptionOptions:u,encryption:wn,getEncryptor:Lf,output:To,getNumberOfPages:xf,pages:le,out:H,f2:T,f3:C,getPageInfo:md,getPageInfoByObjId:Pt,getCurrentPageInfo:Nf,getPDFVersion:y,Point:Mo,Rectangle:tu,Matrix:gt,hasHotfix:gd},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Us(I)},set:function(A){nu(I,A)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Xi(I)},set:function(A){au(I,A)},enumerable:!0,configurable:!0}),wf.call(d,me),nt="F1",hd(a,r),Rt.publish("initialized"),d}gl.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},gl.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},gl.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},gl.prototype.processOwnerPassword=function(e,t){return j1(F1(t).substr(0,5),e)},gl.prototype.encryptor=function(e,t){var r=F1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return j1(r,n)}},Ih.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||tr(e)!==tr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},bt.API={events:[]},bt.version="3.0.1";var Pr=bt.API,Rp=1,_o=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ol=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nt=function(e){return e.toFixed(2)},fs=function(e){return e.toFixed(5)};Pr.__acroform__={};var ia=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},dm=function(e){return e*Rp},ui=function(e){var t=new Ib,r=ut.internal.getHeight(e)||0,n=ut.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Nt(n)),Number(Nt(r))],t},NP=Pr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},TP=Pr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},OP=Pr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},Dr=Pr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return OP(e,t-1)},Ir=Pr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return NP(e,t-1)},Fr=Pr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return TP(e,t-1)},EP=Pr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(Nt(l.lowerLeft_X)),Number(Nt(l.lowerLeft_Y)),Number(Nt(l.upperRight_X)),Number(Nt(l.upperRight_Y))]},RP=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=B1(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Nt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=ui(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},B1=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var i=r,s=ut.internal.getHeight(e)||0;s=s<0?-s:s;var o=ut.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(C,E,x){if(C+1<a.length){var k=E+" "+a[C+1][0];return uh(k,e,x).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,h=uh("3",e,i).height,p=e.multiline?s-i:(s-h)/2,d=p+=2,g=0,y=0,S=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+uh(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var w="",v=0,b=0;b<a.length;b++)if(a.hasOwnProperty(b)){var P=!1;if(a[b].length!==1&&S!==a[b].length-1){if((h+2)*(v+2)+2>s)continue e;w+=a[b][S],P=!0,y=b,b--}else{w=(w+=a[b][S]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var M=parseInt(b),F=l(M,w,i),U=b>=a.length-1;if(F&&!U){w+=" ",S=0;continue}if(F||U){if(U)y=M;else if(e.multiline&&(h+2)*(v+2)+2>s)continue e}else{if(!e.multiline||(h+2)*(v+2)+2>s)continue e;y=M}}for(var O="",R=g;R<=y;R++){var T=a[R];if(e.multiline){if(R===y){O+=T[S]+" ",S=(S+1)%T.length;continue}if(R===g){O+=T[T.length-1]+" ";continue}}O+=T[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,u=uh(O,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=Nt(c)+" "+Nt(d)+` Td
`,t+="("+_o(O)+`) Tj
`,t+=-Nt(c)+` 0 Td
`,d=-(i+2),u=0,g=P?y:y+1,v++,w=""}break}return n.text=t,n.fontSize=i,n},uh=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},MP={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},DP=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},IP=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),tr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},FP=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Qa.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(MP)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Rp=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Fb,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&DP(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=EP(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ut.createDefaultAppearanceStream(o),tr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=RP(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var h="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var d=o.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var s in d)if(d.hasOwnProperty(s)){var g=d[s];typeof g=="function"&&(g=g.call(a,o)),h+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=d)=="function"&&(g=g.call(a,o)),h+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&IP(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Db=Pr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),tr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+_o(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$0=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+_o(n(e))+")"},gi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};gi.prototype.toString=function(){return this.objId+" 0 R"},gi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},gi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:Db(a,this.objId,this.scope)}):a instanceof gi?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var Ib=function(){gi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ia(Ib,gi);var Fb=function(){gi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+_o(r(e))+")"}},set:function(r){e=r}})};ia(Fb,gi);var Qa=function e(){gi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Dr(t,3)},set:function(w){w?this.F=Ir(t,3):this.F=Fr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Fh)return;i="FieldObject"+e.FieldNum++}var w=function(v){return v};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+_o(w(i))+")"},set:function(w){i=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(w){i=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Rp:c},set:function(w){c=w}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Fh||this instanceof fo))return $0(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof un?p:$0(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof un?w:w.substr(0,1)==="("?ol(w.substr(1,w.length-2)):ol(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof un?ol(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof un?"/"+w:w}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof un?d:$0(d,this.objId,this.scope)},set:function(w){w=w.toString(),d=this instanceof un?w:w.substr(0,1)==="("?ol(w.substr(1,w.length-2)):ol(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof un?ol(d.substr(1,d.length-1)):d},set:function(w){w=w.toString(),d=this instanceof un?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(w){w=!!w,y=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(w){g=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,1)},set:function(w){w?this.Ff=Ir(this.Ff,1):this.Ff=Fr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,2)},set:function(w){w?this.Ff=Ir(this.Ff,2):this.Ff=Fr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,3)},set:function(w){w?this.Ff=Ir(this.Ff,3):this.Ff=Fr(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');S=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(S){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:S=2;break;case"center":case 1:S=1;break;case"left":case 0:default:S=0}}})};ia(Qa,gi);var Ll=function(){Qa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Db(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,18)},set:function(r){r?this.Ff=Ir(this.Ff,18):this.Ff=Fr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ir(this.Ff,19):this.Ff=Fr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,20)},set:function(r){r?(this.Ff=Ir(this.Ff,20),t.sort()):this.Ff=Fr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,22)},set:function(r){r?this.Ff=Ir(this.Ff,22):this.Ff=Fr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,23)},set:function(r){r?this.Ff=Ir(this.Ff,23):this.Ff=Fr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,27)},set:function(r){r?this.Ff=Ir(this.Ff,27):this.Ff=Fr(this.Ff,27)}}),this.hasAppearanceStream=!1};ia(Ll,Qa);var Nl=function(){Ll.call(this),this.fontName="helvetica",this.combo=!1};ia(Nl,Ll);var Tl=function(){Nl.call(this),this.combo=!0};ia(Tl,Nl);var bh=function(){Tl.call(this),this.edit=!0};ia(bh,Tl);var un=function(){Qa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,15)},set:function(r){r?this.Ff=Ir(this.Ff,15):this.Ff=Fr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,16)},set:function(r){r?this.Ff=Ir(this.Ff,16):this.Ff=Fr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,17)},set:function(r){r?this.Ff=Ir(this.Ff,17):this.Ff=Fr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,26)},set:function(r){r?this.Ff=Ir(this.Ff,26):this.Ff=Fr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+_o(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){tr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ia(un,Qa);var _h=function(){un.call(this),this.pushButton=!0};ia(_h,un);var Ol=function(){un.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ia(Ol,un);var Fh=function(){var e,t;Qa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+_o(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){tr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ia(Fh,Qa),Ol.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ol.prototype.createOption=function(e){var t=new Fh;return t.Parent=this,t.optionName=e,this.Kids.push(t),jP.call(this.scope,t),t};var wh=function(){un.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ut.CheckBox.createAppearanceStream()};ia(wh,un);var fo=function(){Qa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,13)},set:function(t){t?this.Ff=Ir(this.Ff,13):this.Ff=Fr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,21)},set:function(t){t?this.Ff=Ir(this.Ff,21):this.Ff=Fr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,23)},set:function(t){t?this.Ff=Ir(this.Ff,23):this.Ff=Fr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,24)},set:function(t){t?this.Ff=Ir(this.Ff,24):this.Ff=Fr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,25)},set:function(t){t?this.Ff=Ir(this.Ff,25):this.Ff=Fr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,26)},set:function(t){t?this.Ff=Ir(this.Ff,26):this.Ff=Fr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ia(fo,Qa);var Sh=function(){fo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Dr(this.Ff,14)},set:function(e){e?this.Ff=Ir(this.Ff,14):this.Ff=Fr(this.Ff,14)}}),this.password=!0};ia(Sh,fo);var ut={CheckBox:{createAppearanceStream:function(){return{N:{On:ut.CheckBox.YesNormal},D:{On:ut.CheckBox.YesPushDown,Off:ut.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ui(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=B1(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Nt(ut.internal.getWidth(e))+" "+Nt(ut.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Nt(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ui(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=ut.internal.getHeight(e),s=ut.internal.getWidth(e),o=B1(e,e.caption);return a.push("1 g"),a.push("0 0 "+Nt(s)+" "+Nt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Nt(s-1)+" "+Nt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Nt(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ui(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nt(ut.internal.getWidth(e))+" "+Nt(ut.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ut.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ut.RadioButton.Circle.YesNormal,t.D[e]=ut.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ui(e);t.scope=e.scope;var r=[],n=ut.internal.getWidth(e)<=ut.internal.getHeight(e)?ut.internal.getWidth(e)/4:ut.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=ut.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+fs(ut.internal.getWidth(e)/2)+" "+fs(ut.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ui(e);t.scope=e.scope;var r=[],n=ut.internal.getWidth(e)<=ut.internal.getHeight(e)?ut.internal.getWidth(e)/4:ut.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*ut.internal.Bezier_C).toFixed(5)),s=Number((n*ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+fs(ut.internal.getWidth(e)/2)+" "+fs(ut.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+fs(ut.internal.getWidth(e)/2)+" "+fs(ut.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ui(e);t.scope=e.scope;var r=[],n=ut.internal.getWidth(e)<=ut.internal.getHeight(e)?ut.internal.getWidth(e)/4:ut.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+fs(ut.internal.getWidth(e)/2)+" "+fs(ut.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ut.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ut.RadioButton.Cross.YesNormal,t.D[e]=ut.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ui(e);t.scope=e.scope;var r=[],n=ut.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Nt(ut.internal.getWidth(e)-2)+" "+Nt(ut.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Nt(n.x1.x)+" "+Nt(n.x1.y)+" m"),r.push(Nt(n.x2.x)+" "+Nt(n.x2.y)+" l"),r.push(Nt(n.x4.x)+" "+Nt(n.x4.y)+" m"),r.push(Nt(n.x3.x)+" "+Nt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ui(e);t.scope=e.scope;var r=ut.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Nt(ut.internal.getWidth(e))+" "+Nt(ut.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Nt(ut.internal.getWidth(e)-2)+" "+Nt(ut.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Nt(r.x1.x)+" "+Nt(r.x1.y)+" m"),n.push(Nt(r.x2.x)+" "+Nt(r.x2.y)+" l"),n.push(Nt(r.x4.x)+" "+Nt(r.x4.y)+" m"),n.push(Nt(r.x3.x)+" "+Nt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ui(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Nt(ut.internal.getWidth(e))+" "+Nt(ut.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};ut.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ut.internal.getWidth(e),r=ut.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},ut.internal.getWidth=function(e){var t=0;return tr(e)==="object"&&(t=dm(e.Rect[2])),t},ut.internal.getHeight=function(e){var t=0;return tr(e)==="object"&&(t=dm(e.Rect[3])),t};var jP=Pr.addField=function(e){if(FP(this,e),!(e instanceof Qa))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Pr.AcroFormChoiceField=Ll,Pr.AcroFormListBox=Nl,Pr.AcroFormComboBox=Tl,Pr.AcroFormEditBox=bh,Pr.AcroFormButton=un,Pr.AcroFormPushButton=_h,Pr.AcroFormRadioButton=Ol,Pr.AcroFormCheckBox=wh,Pr.AcroFormTextField=fo,Pr.AcroFormPasswordField=Sh,Pr.AcroFormAppearance=ut,Pr.AcroForm={ChoiceField:Ll,ListBox:Nl,ComboBox:Tl,EditBox:bh,Button:un,PushButton:_h,RadioButton:Ol,CheckBox:wh,TextField:fo,PasswordField:Sh,Appearance:ut},bt.AcroForm={ChoiceField:Ll,ListBox:Nl,ComboBox:Tl,EditBox:bh,Button:un,PushButton:_h,RadioButton:Ol,CheckBox:wh,TextField:fo,PasswordField:Sh,Appearance:ut};bt.AcroForm;function jb(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(C,E){var x,k,L,D,q,W=t;if((E=E||t)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(F(C))for(q in r)for(L=r[q],x=0;x<L.length;x+=1){for(D=!0,k=0;k<L[x].length;k+=1)if(L[x][k]!==void 0&&L[x][k]!==C[k]){D=!1;break}if(D===!0){W=q;break}}else for(q in r)for(L=r[q],x=0;x<L.length;x+=1){for(D=!0,k=0;k<L[x].length;k+=1)if(L[x][k]!==void 0&&L[x][k]!==C.charCodeAt(k)){D=!1;break}if(D===!0){W=q;break}}return W===t&&E!==t&&(W=E),W},a=function C(E){for(var x=this.internal.write,k=this.internal.putStream,L=(0,this.internal.getFilters)();L.indexOf("FlateEncode")!==-1;)L.splice(L.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var D=[];if(D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Image"}),D.push({key:"Width",value:E.width}),D.push({key:"Height",value:E.height}),E.colorSpace===S.INDEXED?D.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(D.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===S.DEVICE_CMYK&&D.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),D.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&D.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var q="",W=0,Q=E.transparency.length;W<Q;W++)q+=E.transparency[W]+" "+E.transparency[W]+" ";D.push({key:"Mask",value:"["+q+"]"})}E.sMask!==void 0&&D.push({key:"SMask",value:E.objectId+1+" 0 R"});var ne=E.filter!==void 0?["/"+E.filter]:void 0;if(k({data:E.data,additionalKeyValues:D,alreadyAppliedFilters:ne,objectId:E.objectId}),x("endobj"),"sMask"in E&&E.sMask!==void 0){var oe="/Predictor "+E.predictor+" /Colors 1 /BitsPerComponent "+E.bitsPerComponent+" /Columns "+E.width,$={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:oe,data:E.sMask};"filter"in E&&($.filter=E.filter),C.call(this,$)}if(E.colorSpace===S.INDEXED){var I=this.internal.newObject();k({data:O(new Uint8Array(E.palette)),objectId:I}),x("endobj")}},i=function(){var C=this.internal.collections.addImage_images;for(var E in C)a.call(this,C[E])},s=function(){var C,E=this.internal.collections.addImage_images,x=this.internal.write;for(var k in E)x("/I"+(C=E[k]).index,C.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var C=this.internal.collections.addImage_images;return o.call(this),C},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(C){return typeof e["process"+C.toUpperCase()]=="function"},h=function(C){return tr(C)==="object"&&C.nodeType===1},p=function(C,E){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var x=""+C.getAttribute("src");if(x.indexOf("data:image/")===0)return Mc(unescape(x).split("base64,").pop());var k=e.loadFile(x,!0);if(k!==void 0)return k}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var L;switch(E){case"PNG":L="image/png";break;case"WEBP":L="image/webp";break;case"JPEG":case"JPG":default:L="image/jpeg"}return Mc(C.toDataURL(L,1).split("base64,").pop())}},d=function(C){var E=this.internal.collections.addImage_images;if(E){for(var x in E)if(C===E[x].alias)return E[x]}},g=function(C,E,x){return C||E||(C=-96,E=-96),C<0&&(C=-1*x.width*72/C/this.internal.scaleFactor),E<0&&(E=-1*x.height*72/E/this.internal.scaleFactor),C===0&&(C=E*x.width/x.height),E===0&&(E=C*x.height/x.width),[C,E]},y=function(C,E,x,k,L,D){var q=g.call(this,x,k,L),W=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString,ne=l.call(this);if(x=q[0],k=q[1],ne[L.index]=L,D){D*=Math.PI/180;var oe=Math.cos(D),$=Math.sin(D),I=function(J){return J.toFixed(4)},G=[I(oe),I($),I(-1*$),I(oe),0,0,"cm"]}this.internal.write("q"),D?(this.internal.write([1,"0","0",1,W(C),Q(E+k),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([W(x),"0","0",W(k),"0","0","cm"].join(" "))):this.internal.write([W(x),"0","0",W(k),W(C),Q(E+k),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+L.index+" Do"),this.internal.write("Q")},S=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=e.__addimage__.sHashCode=function(C){var E,x,k=0;if(typeof C=="string")for(x=C.length,E=0;E<x;E++)k=(k<<5)-k+C.charCodeAt(E),k|=0;else if(F(C))for(x=C.byteLength/2,E=0;E<x;E++)k=(k<<5)-k+C[E],k|=0;return k},b=e.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var E=!0;return C.length===0&&(E=!1),C.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(E=!1),E},P=e.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var E=C.indexOf(",");return E<0?null:C.substring(0,E).trim().endsWith("base64")?C.substring(E+1):null},M=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(C){return M()&&C instanceof ArrayBuffer};var F=e.__addimage__.isArrayBufferView=function(C){return M()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},U=e.__addimage__.binaryStringToUint8Array=function(C){for(var E=C.length,x=new Uint8Array(E),k=0;k<E;k++)x[k]=C.charCodeAt(k);return x},O=e.__addimage__.arrayBufferToBinaryString=function(C){for(var E="",x=F(C)?C:new Uint8Array(C),k=0;k<x.length;k+=8192)E+=String.fromCharCode.apply(null,x.subarray(k,k+8192));return E};e.addImage=function(){var C,E,x,k,L,D,q,W,Q;if(typeof arguments[1]=="number"?(E=t,x=arguments[1],k=arguments[2],L=arguments[3],D=arguments[4],q=arguments[5],W=arguments[6],Q=arguments[7]):(E=arguments[1],x=arguments[2],k=arguments[3],L=arguments[4],D=arguments[5],q=arguments[6],W=arguments[7],Q=arguments[8]),tr(C=arguments[0])==="object"&&!h(C)&&"imageData"in C){var ne=C;C=ne.imageData,E=ne.format||E||t,x=ne.x||x||0,k=ne.y||k||0,L=ne.w||ne.width||L,D=ne.h||ne.height||D,q=ne.alias||q,W=ne.compression||W,Q=ne.rotation||ne.angle||Q}var oe=this.internal.getFilters();if(W===void 0&&oe.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(x)||isNaN(k))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var $=R.call(this,C,E,q,W);return y.call(this,x,k,L,D,$,Q),this};var R=function(C,E,x,k){var L,D,q;if(typeof C=="string"&&n(C)===t){C=unescape(C);var W=T(C,!1);(W!==""||(W=e.loadFile(C,!0))!==void 0)&&(C=W)}if(h(C)&&(C=p(C,E)),E=n(C,E),!u(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((q=x)==null||q.length===0)&&(x=function(Q){return typeof Q=="string"||F(Q)?v(Q):F(Q.data)?v(Q.data):null}(C)),(L=d.call(this,x))||(M()&&(C instanceof Uint8Array||E==="RGBA"||(D=C,C=U(C))),L=this["process"+E.toUpperCase()](C,c.call(this),x,function(Q){return Q&&typeof Q=="string"&&(Q=Q.toUpperCase()),Q in e.image_compression?Q:w.NONE}(k),D)),!L)throw new Error("An unknown error occurred whilst processing the image.");return L},T=e.__addimage__.convertBase64ToBinaryString=function(C,E){E=typeof E!="boolean"||E;var x,k="";if(typeof C=="string"){var L;x=(L=P(C))!==null&&L!==void 0?L:C;try{k=Mc(x)}catch(D){if(E)throw b(x)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+D.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return k};e.getImageProperties=function(C){var E,x,k="";if(h(C)&&(C=p(C)),typeof C=="string"&&n(C)===t&&((k=T(C,!1))===""&&(k=e.loadFile(C)||""),C=k),x=n(C),!u(x))throw new Error("addImage does not support files of type '"+x+"', please ensure that a plugin for '"+x+"' support is added.");if(!M()||C instanceof Uint8Array||(C=U(C)),!(E=this["process"+x.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=x,E}})(bt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};bt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,h=0;h<c.length&&!u;h++)switch((n=c[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var p=0;p<c.length;p++){n=c[p];var d=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(y.objId),v=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(w(n.contents))+")",i+=" /Popup "+S.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+d(w(v))+") >>",y.content=i;var b=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(i+=" /Open true"),i+=" >>",S.content=i,this.internal.write(y.objId,"0 R",S.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var P=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+d(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var M=this.annotations._nameMap[n.options.name];n.options.pageNumber=M.page,n.options.top=M.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+d(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var F=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+F+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(bt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=e.__arabicParser__.isArabicEndLetter=function(y){return s(y)&&i(y)&&t[y.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(y){return s(y)&&a.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return s(y)&&i(y)&&t[y.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return s(y)&&i(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return s(y)&&i(y)&&t[y.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return s(y)&&i(y)&&t[y.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(y){var S=0,w=r,v="",b=0;for(S=0;S<y.length;S+=1)w[y.charCodeAt(S)]!==void 0?(b++,typeof(w=w[y.charCodeAt(S)])=="number"&&(v+=String.fromCharCode(w),w=r,b=0),S===y.length-1&&(w=r,v+=y.charAt(S-(b-1)),S-=b-1,b=0)):(w=r,v+=y.charAt(S-b),S-=b,b=0);return v};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(y,S,w){return s(y)?i(y)===!1?-1:!c(y)||!s(S)&&!s(w)||!s(w)&&o(S)||o(y)&&!s(S)||o(y)&&l(S)||o(y)&&o(S)?0:u(y)&&s(S)&&!o(S)&&s(w)&&c(w)?3:o(y)||!s(w)?1:2:-1},d=function(y){var S=0,w=0,v=0,b="",P="",M="",F=(y=y||"").split("\\s+"),U=[];for(S=0;S<F.length;S+=1){for(U.push(""),w=0;w<F[S].length;w+=1)b=F[S][w],P=F[S][w-1],M=F[S][w+1],s(b)?(v=p(b,P,M),U[S]+=v!==-1?String.fromCharCode(t[b.charCodeAt(0)][v]):b):U[S]+=b;U[S]=h(U[S])}return U.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var y,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(S)){var v=0;for(w=[],v=0;v<S.length;v+=1)Array.isArray(S[v])?w.push([d(S[v][0]),S[v][1],S[v][2]]):w.push([d(S[v])]);y=w}else y=d(S);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",g])}(bt.API),bt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(bt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(y){g=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),p=c.scaleFactor||this.internal.scaleFactor,d=0,g=0,y=0,S=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,P){return b.concat(S.splitTextToSize(P,w))},[])):l=Array.isArray(l)?l:[l];for(var v=0;v<l.length;v++)d<(y=this.getStringUnitWidth(l[v],{font:h})*u)&&(d=y);return d!==0&&(g=l.length),{w:d/=p,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,d&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,h,p){if(n.call(this),!u)throw new Error("No data for PDF table.");var d,g,y,S,w=[],v=[],b=[],P={},M={},F=[],U=[],O=(p=p||{}).autoSize||!1,R=p.printHeaders!==!1,T=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,C=p.margins||Object.assign({width:this.getPageWidth()},t),E=typeof p.padding=="number"?p.padding:3,x=p.headerBackgroundColor||"#c8c8c8",k=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=x,this.internal.__cell__.headerTextColor=k,this.setFontSize(T),h==null)v=w=Object.keys(u[0]),b=w.map(function(){return"left"});else if(Array.isArray(h)&&tr(h[0])==="object")for(w=h.map(function(ne){return ne.name}),v=h.map(function(ne){return ne.prompt||ne.name||""}),b=h.map(function(ne){return ne.align||"left"}),d=0;d<h.length;d+=1)M[h[d].name]=h[d].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(v=w=h,b=w.map(function(){return"left"}));if(O||Array.isArray(h)&&typeof h[0]=="string")for(d=0;d<w.length;d+=1){for(P[S=w[d]]=u.map(function(ne){return ne[S]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(v[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=P[S],this.setFont(void 0,"normal"),y=0;y<g.length;y+=1)F.push(this.getTextDimensions(g[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[S]=Math.max.apply(null,F)+E+E,F=[]}if(R){var L={};for(d=0;d<w.length;d+=1)L[w[d]]={},L[w[d]].text=v[d],L[w[d]].align=b[d];var D=o.call(this,L,M);U=w.map(function(ne){return new i(l,c,M[ne],D,L[ne].text,void 0,L[ne].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var q=h.reduce(function(ne,oe){return ne[oe.name]=oe.align,ne},{});for(d=0;d<u.length;d+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:d,data:u[d]},this);var W=o.call(this,u[d],M);for(y=0;y<w.length;y+=1){var Q=u[d][w[y]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:d,col:y,data:Q},this),s.call(this,new i(l,c,M[w[y]],W,Q,d+2,q[w[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(d){var g=l[d];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*h/p+u+u},this).reduce(function(d,g){return Math.max(d,g)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,p.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(bt.API);var Bb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],q1=jb(qb),$b=[100,200,300,400,500,600,700,800,900],BP=jb($b);function $1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return Bb[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof q1[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function hm(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var qP={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},fm={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function pm(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function $P(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},qP,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=$1(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+pm(i)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=q1[l],h=u<=q1.normal?-1:1,p=hm(c,qb,u,h);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(i.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=Bb[l],h=0;h<u.length;++h)if(c[u[h]])return c[u[h]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=BP[l],h=hm(c,$b,u,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+pm(i)+"'.");return s}function gm(e){return e.trimLeft()}function UP(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function VP(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var ch,mm,vm,U0=["times"];(function(e){var t,r,n,a,i,s,o,l,c,u=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new l,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new s,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new s,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var h=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=$;Object.defineProperty(this,"pdf",{get:function(){return I}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(B){G=!!B}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(B){J=!!B}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(B){isNaN(B)||(re=B)}});var _=0;Object.defineProperty(this,"posY",{get:function(){return _},set:function(B){isNaN(B)||(_=B)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(B){var H;typeof B=="number"?H=[B,B,B,B]:((H=new Array(4))[0]=B[0],H[1]=B.length>=2?B[1]:H[0],H[2]=B.length>=3?B[2]:H[0],H[3]=B.length>=4?B[3]:H[1]),c.margin=H}});var V=!1;Object.defineProperty(this,"autoPaging",{get:function(){return V},set:function(B){V=B}});var Z=0;Object.defineProperty(this,"lastBreak",{get:function(){return Z},set:function(B){Z=B}});var fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return fe},set:function(B){fe=B}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(B){B instanceof u&&(c=B)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(B){c.path=B}});var le=[];Object.defineProperty(this,"ctxStack",{get:function(){return le},set:function(B){le=B}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(B){var H;H=p(B),this.ctx.fillStyle=H.style,this.ctx.isFillTransparent=H.a===0,this.ctx.fillOpacity=H.a,this.pdf.setFillColor(H.r,H.g,H.b,{a:H.a}),this.pdf.setTextColor(H.r,H.g,H.b,{a:H.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(B){var H=p(B);this.ctx.strokeStyle=H.style,this.ctx.isStrokeTransparent=H.a===0,this.ctx.strokeOpacity=H.a,H.a===0?this.pdf.setDrawColor(255,255,255):(H.a,this.pdf.setDrawColor(H.r,H.g,H.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(B){["butt","round","square"].indexOf(B)!==-1&&(this.ctx.lineCap=B,this.pdf.setLineCap(B))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(B){isNaN(B)||(this.ctx.lineWidth=B,this.pdf.setLineWidth(B))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(B){["bevel","round","miter"].indexOf(B)!==-1&&(this.ctx.lineJoin=B,this.pdf.setLineJoin(B))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(B){isNaN(B)||(this.ctx.miterLimit=B,this.pdf.setMiterLimit(B))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(B){this.ctx.textBaseline=B}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(B){["right","end","center","left","start"].indexOf(B)!==-1&&(this.ctx.textAlign=B)}});var X=null;function z(B,H){if(X===null){var de=function(ge){var me=[];return Object.keys(ge).forEach(function(ve){ge[ve].forEach(function(Se){var Ce=null;switch(Se){case"bold":Ce={family:ve,weight:"bold"};break;case"italic":Ce={family:ve,style:"italic"};break;case"bolditalic":Ce={family:ve,weight:"bold",style:"italic"};break;case"":case"normal":Ce={family:ve}}Ce!==null&&(Ce.ref={name:ve,style:Se},me.push(Ce))})}),me}(B.getFontList());X=function(ge){for(var me={},ve=0;ve<ge.length;++ve){var Se=$1(ge[ve]),Ce=Se.family,ue=Se.stretch,ke=Se.style,Me=Se.weight;me[Ce]=me[Ce]||{},me[Ce][ue]=me[Ce][ue]||{},me[Ce][ue][ke]=me[Ce][ue][ke]||{},me[Ce][ue][ke][Me]=Se}return me}(de.concat(H))}return X}var se=null;Object.defineProperty(this,"fontFaces",{get:function(){return se},set:function(B){X=null,se=B}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(B){var H;if(this.ctx.font=B,(H=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(B))!==null){var de=H[1];H[2];var ge=H[3],me=H[4];H[5];var ve=H[6],Se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(me)[2];me=Math.floor(Se==="px"?parseFloat(me)*this.pdf.internal.scaleFactor:Se==="em"?parseFloat(me)*this.pdf.getFontSize():parseFloat(me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(me);var Ce=function(Qe){var nt,Ke,Ct=[],ft=Qe.trim();if(ft==="")return U0;if(ft in fm)return[fm[ft]];for(;ft!=="";){switch(Ke=null,nt=(ft=gm(ft)).charAt(0)){case'"':case"'":Ke=UP(ft.substring(1),nt);break;default:Ke=VP(ft)}if(Ke===null||(Ct.push(Ke[0]),(ft=gm(Ke[1]))!==""&&ft.charAt(0)!==","))return U0;ft=ft.replace(/^,/,"")}return Ct}(ve);if(this.fontFaces){var ue=$P(z(this.pdf,this.fontFaces),Ce.map(function(Qe){return{family:Qe,stretch:"normal",weight:ge,style:de}}));this.pdf.setFont(ue.ref.name,ue.ref.style)}else{var ke="";(ge==="bold"||parseInt(ge,10)>=700||de==="bold")&&(ke="bold"),de==="italic"&&(ke+="italic"),ke.length===0&&(ke="normal");for(var Me="",Ve={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ze=0;Ze<Ce.length;Ze++){if(this.pdf.internal.getFont(Ce[Ze],ke,{noFallback:!0,disableWarning:!0})!==void 0){Me=Ce[Ze];break}if(ke==="bolditalic"&&this.pdf.internal.getFont(Ce[Ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Me=Ce[Ze],ke="bold";else if(this.pdf.internal.getFont(Ce[Ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Me=Ce[Ze],ke="normal";break}}if(Me===""){for(var Fe=0;Fe<Ce.length;Fe++)if(Ve[Ce[Fe]]){Me=Ve[Ce[Fe]];break}}Me=Me===""?"Times":Me,this.pdf.setFont(Me,ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(B){this.ctx.globalCompositeOperation=B}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(B){this.ctx.globalAlpha=B}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(B){this.ctx.lineDashOffset=B,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(B){this.ctx.lineDash=B,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(B){this.ctx.ignoreClearRect=!!B}})};h.prototype.setLineDash=function($){this.lineDash=$},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){P.call(this,"fill",!1)},h.prototype.stroke=function(){P.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function($,I){if(isNaN($)||isNaN(I))throw lr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new s($,I));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new s($,I)},h.prototype.closePath=function(){var $=new s(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&tr(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){$=new s(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s($.x,$.y)},h.prototype.lineTo=function($,I){if(isNaN($)||isNaN(I))throw lr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new s($,I));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new s(G.x,G.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},h.prototype.quadraticCurveTo=function($,I,G,J){if(isNaN(G)||isNaN(J)||isNaN($)||isNaN(I))throw lr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new s(G,J)),_=this.ctx.transform.applyToPoint(new s($,I));this.path.push({type:"qct",x1:_.x,y1:_.y,x:re.x,y:re.y}),this.ctx.lastPoint=new s(re.x,re.y)},h.prototype.bezierCurveTo=function($,I,G,J,re,_){if(isNaN(re)||isNaN(_)||isNaN($)||isNaN(I)||isNaN(G)||isNaN(J))throw lr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var V=this.ctx.transform.applyToPoint(new s(re,_)),Z=this.ctx.transform.applyToPoint(new s($,I)),fe=this.ctx.transform.applyToPoint(new s(G,J));this.path.push({type:"bct",x1:Z.x,y1:Z.y,x2:fe.x,y2:fe.y,x:V.x,y:V.y}),this.ctx.lastPoint=new s(V.x,V.y)},h.prototype.arc=function($,I,G,J,re,_){if(isNaN($)||isNaN(I)||isNaN(G)||isNaN(J)||isNaN(re))throw lr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_=!!_,!this.ctx.transform.isIdentity){var V=this.ctx.transform.applyToPoint(new s($,I));$=V.x,I=V.y;var Z=this.ctx.transform.applyToPoint(new s(0,G)),fe=this.ctx.transform.applyToPoint(new s(0,0));G=Math.sqrt(Math.pow(Z.x-fe.x,2)+Math.pow(Z.y-fe.y,2))}Math.abs(re-J)>=2*Math.PI&&(J=0,re=2*Math.PI),this.path.push({type:"arc",x:$,y:I,radius:G,startAngle:J,endAngle:re,counterclockwise:_})},h.prototype.arcTo=function($,I,G,J,re){throw new Error("arcTo not implemented.")},h.prototype.rect=function($,I,G,J){if(isNaN($)||isNaN(I)||isNaN(G)||isNaN(J))throw lr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,I),this.lineTo($+G,I),this.lineTo($+G,I+J),this.lineTo($,I+J),this.lineTo($,I),this.lineTo($+G,I),this.lineTo($,I)},h.prototype.fillRect=function($,I,G,J){if(isNaN($)||isNaN(I)||isNaN(G)||isNaN(J))throw lr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,I,G,J),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},h.prototype.strokeRect=function($,I,G,J){if(isNaN($)||isNaN(I)||isNaN(G)||isNaN(J))throw lr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect($,I,G,J),this.stroke())},h.prototype.clearRect=function($,I,G,J){if(isNaN($)||isNaN(I)||isNaN(G)||isNaN(J))throw lr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,I,G,J))},h.prototype.save=function($){$=typeof $!="boolean"||$;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},h.prototype.restore=function($){$=typeof $!="boolean"||$;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(I),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function($){var I,G,J,re;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))I=0,G=0,J=0,re=0;else{var _=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(_!==null)I=parseInt(_[1]),G=parseInt(_[2]),J=parseInt(_[3]),re=1;else if((_=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)I=parseInt(_[1]),G=parseInt(_[2]),J=parseInt(_[3]),re=parseFloat(_[4]);else{if(re=1,typeof $=="string"&&$.charAt(0)!=="#"){var V=new Eb($);$=V.ok?V.toHex():"#000000"}$.length===4?(I=$.substring(1,2),I+=I,G=$.substring(2,3),G+=G,J=$.substring(3,4),J+=J):(I=$.substring(1,3),G=$.substring(3,5),J=$.substring(5,7)),I=parseInt(I,16),G=parseInt(G,16),J=parseInt(J,16)}}return{r:I,g:G,b:J,a:re,style:$}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function($,I,G,J){if(isNaN(I)||isNaN(G)||typeof $!="string")throw lr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!d.call(this)){var re=W(this.ctx.transform.rotation),_=this.ctx.transform.scaleX;E.call(this,{text:$,x:I,y:G,scale:_,angle:re,align:this.textAlign,maxWidth:J})}},h.prototype.strokeText=function($,I,G,J){if(isNaN(I)||isNaN(G)||typeof $!="string")throw lr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){J=isNaN(J)?void 0:J;var re=W(this.ctx.transform.rotation),_=this.ctx.transform.scaleX;E.call(this,{text:$,x:I,y:G,scale:_,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:J})}},h.prototype.measureText=function($){if(typeof $!="string")throw lr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,G=this.pdf.internal.scaleFactor,J=I.internal.getFontSize(),re=I.getStringUnitWidth($)*J/I.internal.scaleFactor,_=function(V){var Z=(V=V||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Z}}),this};return new _({width:re*=Math.round(96*G/72*1e4)/1e4})},h.prototype.scale=function($,I){if(isNaN($)||isNaN(I))throw lr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l($,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.rotate=function($){if(isNaN($))throw lr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new l(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},h.prototype.translate=function($,I){if(isNaN($)||isNaN(I))throw lr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,$,I);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.transform=function($,I,G,J,re,_){if(isNaN($)||isNaN(I)||isNaN(G)||isNaN(J)||isNaN(re)||isNaN(_))throw lr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var V=new l($,I,G,J,re,_);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.setTransform=function($,I,G,J,re,_){$=isNaN($)?1:$,I=isNaN(I)?0:I,G=isNaN(G)?0:G,J=isNaN(J)?1:J,re=isNaN(re)?0:re,_=isNaN(_)?0:_,this.ctx.transform=new l($,I,G,J,re,_)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function($,I,G,J,re,_,V,Z,fe){var le=this.pdf.getImageProperties($),X=1,z=1,se=1,B=1;J!==void 0&&Z!==void 0&&(se=Z/J,B=fe/re,X=le.width/J*Z/J,z=le.height/re*fe/re),_===void 0&&(_=I,V=G,I=0,G=0),J!==void 0&&Z===void 0&&(Z=J,fe=re),J===void 0&&Z===void 0&&(Z=le.width,fe=le.height);for(var H,de=this.ctx.transform.decompose(),ge=W(de.rotate.shx),me=new l,ve=(me=(me=(me=me.multiply(de.translate)).multiply(de.skew)).multiply(de.scale)).applyToRectangle(new o(_-I*se,V-G*B,J*X,re*z)),Se=S.call(this,ve),Ce=[],ue=0;ue<Se.length;ue+=1)Ce.indexOf(Se[ue])===-1&&Ce.push(Se[ue]);if(b(Ce),this.autoPaging)for(var ke=Ce[0],Me=Ce[Ce.length-1],Ve=ke;Ve<Me+1;Ve++){this.pdf.setPage(Ve);var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Fe=Ve===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=Ve===1?0:Qe+(Ve-2)*nt;if(this.ctx.clip_path.length!==0){var Ct=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(H,this.posX+this.margin[3],-Ke+Fe+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=Ct}var ft=JSON.parse(JSON.stringify(ve));ft=v([ft],this.posX+this.margin[3],-Ke+Fe+this.ctx.prevPageLastElemOffset)[0];var Yt=(Ve>ke||Ve<Me)&&y.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,nt,null).clip().discardPath()),this.pdf.addImage($,"JPEG",ft.x,ft.y,ft.w,ft.h,null,null,ge),Yt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($,"JPEG",ve.x,ve.y,ve.w,ve.h,null,null,ge)};var S=function($,I,G){var J=[];I=I||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":J.push(Math.floor(($.y+re)/G)+1);break;case"arc":J.push(Math.floor(($.y+re-$.radius)/G)+1),J.push(Math.floor(($.y+re+$.radius)/G)+1);break;case"qct":var _=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);J.push(Math.floor((_.y+re)/G)+1),J.push(Math.floor((_.y+_.h+re)/G)+1);break;case"bct":var V=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);J.push(Math.floor((V.y+re)/G)+1),J.push(Math.floor((V.y+V.h+re)/G)+1);break;case"rect":J.push(Math.floor(($.y+re)/G)+1),J.push(Math.floor(($.y+$.h+re)/G)+1)}for(var Z=0;Z<J.length;Z+=1)for(;this.pdf.internal.getNumberOfPages()<J[Z];)w.call(this);return J},w=function(){var $=this.fillStyle,I=this.strokeStyle,G=this.font,J=this.lineCap,re=this.lineWidth,_=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=I,this.font=G,this.lineCap=J,this.lineWidth=re,this.lineJoin=_},v=function($,I,G){for(var J=0;J<$.length;J++)switch($[J].type){case"bct":$[J].x2+=I,$[J].y2+=G;case"qct":$[J].x1+=I,$[J].y1+=G;case"mt":case"lt":case"arc":default:$[J].x+=I,$[J].y+=G}return $},b=function($){return $.sort(function(I,G){return I-G})},P=function($,I){for(var G,J,re=this.fillStyle,_=this.strokeStyle,V=this.lineCap,Z=this.lineWidth,fe=Math.abs(Z*this.ctx.transform.scaleX),le=this.lineJoin,X=JSON.parse(JSON.stringify(this.path)),z=JSON.parse(JSON.stringify(this.path)),se=[],B=0;B<z.length;B++)if(z[B].x!==void 0)for(var H=S.call(this,z[B]),de=0;de<H.length;de+=1)se.indexOf(H[de])===-1&&se.push(H[de]);for(var ge=0;ge<se.length;ge++)for(;this.pdf.internal.getNumberOfPages()<se[ge];)w.call(this);if(b(se),this.autoPaging)for(var me=se[0],ve=se[se.length-1],Se=me;Se<ve+1;Se++){this.pdf.setPage(Se),this.fillStyle=re,this.strokeStyle=_,this.lineCap=V,this.lineWidth=fe,this.lineJoin=le;var Ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ue=Se===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ve=Se===1?0:ke+(Se-2)*Me;if(this.ctx.clip_path.length!==0){var Ze=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(G,this.posX+this.margin[3],-Ve+ue+this.ctx.prevPageLastElemOffset),M.call(this,$,!0),this.path=Ze}if(J=JSON.parse(JSON.stringify(X)),this.path=v(J,this.posX+this.margin[3],-Ve+ue+this.ctx.prevPageLastElemOffset),I===!1||Se===0){var Fe=(Se>me||Se<ve)&&y.call(this);Fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ce,Me,null).clip().discardPath()),M.call(this,$,I),Fe&&this.pdf.restoreGraphicsState()}this.lineWidth=Z}else this.lineWidth=fe,M.call(this,$,I),this.lineWidth=Z;this.path=X},M=function($,I){if(($!=="stroke"||I||!g.call(this))&&($==="stroke"||I||!d.call(this))){for(var G,J,re=[],_=this.path,V=0;V<_.length;V++){var Z=_[V];switch(Z.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:Z,deltas:[],abs:[]});break;case"lt":var fe=re.length;if(_[V-1]&&!isNaN(_[V-1].x)&&(G=[Z.x-_[V-1].x,Z.y-_[V-1].y],fe>0)){for(;fe>=0;fe--)if(re[fe-1].close!==!0&&re[fe-1].begin!==!0){re[fe-1].deltas.push(G),re[fe-1].abs.push(Z);break}}break;case"bct":G=[Z.x1-_[V-1].x,Z.y1-_[V-1].y,Z.x2-_[V-1].x,Z.y2-_[V-1].y,Z.x-_[V-1].x,Z.y-_[V-1].y],re[re.length-1].deltas.push(G);break;case"qct":var le=_[V-1].x+2/3*(Z.x1-_[V-1].x),X=_[V-1].y+2/3*(Z.y1-_[V-1].y),z=Z.x+2/3*(Z.x1-Z.x),se=Z.y+2/3*(Z.y1-Z.y),B=Z.x,H=Z.y;G=[le-_[V-1].x,X-_[V-1].y,z-_[V-1].x,se-_[V-1].y,B-_[V-1].x,H-_[V-1].y],re[re.length-1].deltas.push(G);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(Z)}}J=I?null:$==="stroke"?"stroke":"fill";for(var de=!1,ge=0;ge<re.length;ge++)if(re[ge].arc)for(var me=re[ge].abs,ve=0;ve<me.length;ve++){var Se=me[ve];Se.type==="arc"?O.call(this,Se.x,Se.y,Se.radius,Se.startAngle,Se.endAngle,Se.counterclockwise,void 0,I,!de):x.call(this,Se.x,Se.y),de=!0}else if(re[ge].close===!0)this.pdf.internal.out("h"),de=!1;else if(re[ge].begin!==!0){var Ce=re[ge].start.x,ue=re[ge].start.y;k.call(this,re[ge].deltas,Ce,ue),de=!0}J&&R.call(this,J),I&&T.call(this)}},F=function($){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-G;case"top":return $+I-G;case"hanging":return $+I-2*G;case"middle":return $+I/2-G;case"ideographic":return $;case"alphabetic":default:return $}},U=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(I,G){this.colorStops.push([I,G])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function($,I,G,J,re,_,V,Z,fe){for(var le=D.call(this,G,J,re,_),X=0;X<le.length;X++){var z=le[X];X===0&&(fe?C.call(this,z.x1+$,z.y1+I):x.call(this,z.x1+$,z.y1+I)),L.call(this,$,I,z.x2,z.y2,z.x3,z.y3,z.x4,z.y4)}Z?T.call(this):R.call(this,V)},R=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},C=function($,I){this.pdf.internal.out(r($)+" "+n(I)+" m")},E=function($){var I;switch($.align){case"right":case"end":I="right";break;case"center":I="center";break;case"left":case"start":default:I="left"}var G=this.pdf.getTextDimensions($.text),J=F.call(this,$.y),re=U.call(this,J)-G.h,_=this.ctx.transform.applyToPoint(new s($.x,J)),V=this.ctx.transform.decompose(),Z=new l;Z=(Z=(Z=Z.multiply(V.translate)).multiply(V.skew)).multiply(V.scale);for(var fe,le,X,z=this.ctx.transform.applyToRectangle(new o($.x,J,G.w,G.h)),se=Z.applyToRectangle(new o($.x,re,G.w,G.h)),B=S.call(this,se),H=[],de=0;de<B.length;de+=1)H.indexOf(B[de])===-1&&H.push(B[de]);if(b(H),this.autoPaging)for(var ge=H[0],me=H[H.length-1],ve=ge;ve<me+1;ve++){this.pdf.setPage(ve);var Se=ve===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ue=this.pdf.internal.pageSize.height-this.margin[2],ke=ue-this.margin[0],Me=this.pdf.internal.pageSize.width-this.margin[1],Ve=Me-this.margin[3],Ze=ve===1?0:Ce+(ve-2)*ke;if(this.ctx.clip_path.length!==0){var Fe=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(fe,this.posX+this.margin[3],-1*Ze+Se),M.call(this,"fill",!0),this.path=Fe}var Qe=v([JSON.parse(JSON.stringify(se))],this.posX+this.margin[3],-Ze+Se+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*$.scale),X=this.lineWidth,this.lineWidth=X*$.scale);var nt=this.autoPaging!=="text";if(nt||Qe.y+Qe.h<=ue){if(nt||Qe.y>=Se&&Qe.x<=Me){var Ke=nt?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||Me-Qe.x)[0],Ct=v([JSON.parse(JSON.stringify(z))],this.posX+this.margin[3],-Ze+Se+this.ctx.prevPageLastElemOffset)[0],ft=nt&&(ve>ge||ve<me)&&y.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,ke,null).clip().discardPath()),this.pdf.text(Ke,Ct.x,Ct.y,{angle:$.angle,align:I,renderingMode:$.renderingMode}),ft&&this.pdf.restoreGraphicsState()}}else Qe.y<ue&&(this.ctx.prevPageLastElemOffset+=ue-Qe.y);$.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=X)}else $.scale>=.01&&(le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(le*$.scale),X=this.lineWidth,this.lineWidth=X*$.scale),this.pdf.text($.text,_.x+this.posX,_.y+this.posY,{angle:$.angle,align:I,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(le),this.lineWidth=X)},x=function($,I,G,J){G=G||0,J=J||0,this.pdf.internal.out(r($+G)+" "+n(I+J)+" l")},k=function($,I,G){return this.pdf.lines($,I,G,null,null)},L=function($,I,G,J,re,_,V,Z){this.pdf.internal.out([t(a(G+$)),t(i(J+I)),t(a(re+$)),t(i(_+I)),t(a(V+$)),t(i(Z+I)),"c"].join(" "))},D=function($,I,G,J){for(var re=2*Math.PI,_=Math.PI/2;I>G;)I-=re;var V=Math.abs(G-I);V<re&&J&&(V=re-V);for(var Z=[],fe=J?-1:1,le=I;V>1e-5;){var X=le+fe*Math.min(V,_);Z.push(q.call(this,$,le,X)),V-=Math.abs(X-le),le=X}return Z},q=function($,I,G){var J=(G-I)/2,re=$*Math.cos(J),_=$*Math.sin(J),V=re,Z=-_,fe=V*V+Z*Z,le=fe+V*re+Z*_,X=4/3*(Math.sqrt(2*fe*le)-le)/(V*_-Z*re),z=V-X*Z,se=Z+X*V,B=z,H=-se,de=J+I,ge=Math.cos(de),me=Math.sin(de);return{x1:$*Math.cos(I),y1:$*Math.sin(I),x2:z*ge-se*me,y2:z*me+se*ge,x3:B*ge-H*me,y3:B*me+H*ge,x4:$*Math.cos(G),y4:$*Math.sin(G)}},W=function($){return 180*$/Math.PI},Q=function($,I,G,J,re,_){var V=$+.5*(G-$),Z=I+.5*(J-I),fe=re+.5*(G-re),le=_+.5*(J-_),X=Math.min($,re,V,fe),z=Math.max($,re,V,fe),se=Math.min(I,_,Z,le),B=Math.max(I,_,Z,le);return new o(X,se,z-X,B-se)},ne=function($,I,G,J,re,_,V,Z){var fe,le,X,z,se,B,H,de,ge,me,ve,Se,Ce,ue,ke=G-$,Me=J-I,Ve=re-G,Ze=_-J,Fe=V-re,Qe=Z-_;for(le=0;le<41;le++)ge=(H=(X=$+(fe=le/40)*ke)+fe*((se=G+fe*Ve)-X))+fe*(se+fe*(re+fe*Fe-se)-H),me=(de=(z=I+fe*Me)+fe*((B=J+fe*Ze)-z))+fe*(B+fe*(_+fe*Qe-B)-de),le==0?(ve=ge,Se=me,Ce=ge,ue=me):(ve=Math.min(ve,ge),Se=Math.min(Se,me),Ce=Math.max(Ce,ge),ue=Math.max(ue,me));return new o(Math.round(ve),Math.round(Se),Math.round(Ce-ve),Math.round(ue-Se))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,I,G=($=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:I}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(bt.API),function(e){var t=function(i){var s,o,l,c,u,h,p,d,g,y;for(o=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(h=(u=((u=((u=((u=(u-(y=u%85))/85)-(g=u%85))/85)-(d=u%85))/85)-(p=u%85))/85)%85,o.push(h+33,p+33,d+33,g+33,y+33)):o.push(122);return function(S,w){for(var v=w;v>0;v--)S.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,c,u,h=String,p="length",d=255,g="charCodeAt",y="slice",S="replace";for(i[y](-2),i=i[y](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),l=[],c=0,u=(i+=s="uuuuu"[y](i[p]%5||5))[p];u>c;c+=5)o=52200625*(i[g](c)-33)+614125*(i[g](c+1)-33)+7225*(i[g](c+2)-33)+85*(i[g](c+3)-33)+(i[g](c+4)-33),l.push(d&o>>24,d&o>>16,d&o>>8,d&o);return function(w,v){for(var b=v;b>0;b--)w.pop()}(l,s[p]),h.fromCharCode.apply(h,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=D1(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(bt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var h=new XMLHttpRequest,p=0,d=function(g){var y=g.length,S=[],w=String.fromCharCode;for(p=0;p<y;p+=1)S.push(w(255&g.charCodeAt(p)));return S.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?u(d(this.responseText)):u(void 0)}),h.send(null),c&&h.status===200)return d(h.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(bt.API),function(e){function t(){return(wt.html2canvas?Promise.resolve(wt.html2canvas):Gi(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(wt.DOMPurify?Promise.resolve(wt.DOMPurify):Gi(()=>import("./purify.es-Ci5xwkH_.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=tr(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(l(p,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var p=0;p<c.length;++p){var d=c[p],g=d.src.find(function(y){return y.format==="truetype"});g&&l.addFont(g.url,d.ref.name,d.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,u).then(function(h){return l.updateProgress(1),h})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,bt.getPageSize=function(s,o,l){if(tr(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,h=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var d,g=0,y=0;if(p.hasOwnProperty(h))g=p[h][1]/u,y=p[h][0]/u;else try{g=l[1],y=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",y>g&&(d=y,y=g,g=d);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>y&&(d=y,y=g,g=d)}return{width:y,height:g,unit:o,k:u,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map($1):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(bt.API),bt.API.addJS=function(e){return vm=e,this.internal.events.subscribe("postPutResources",function(){ch=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ch+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+vm+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ch!==void 0&&mm!==void 0&&this.internal.out("/Names <</JavaScript "+ch+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var h=r.internal.newObject();u.push(h);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(bt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(h){for(var p,d=256*h.charCodeAt(4)+h.charCodeAt(5),g=h.length,y={width:0,height:0,numcomponents:1},S=4;S<g;S+=2){if(S+=d,t.indexOf(h.charCodeAt(S+1))!==-1){p=256*h.charCodeAt(S+5)+h.charCodeAt(S+6),y={width:256*h.charCodeAt(S+7)+h.charCodeAt(S+8),height:p,numcomponents:h.charCodeAt(S+9)};break}d=256*h.charCodeAt(S+2)+h.charCodeAt(S+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(bt.API);var ll,dh,ym,bm,_m,GP=function(){var e,t,r;function n(i){var s,o,l,c,u,h,p,d,g,y,S,w,v,b;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(s=this.readUInt32(),g=(function(){var P,M;for(M=[],P=0;P<4;++P)M.push(String.fromCharCode(this.data[this.pos++]));return M}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*u/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(h!=null?h.data:void 0)||this.imgData,w=0;0<=s?w<s:w>s;0<=s?++w:--w)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((y=l-this.transparency.indexed.length)>0)for(v=0;0<=y?v<y:v>y;0<=y?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":p=(S=this.read(s)).indexOf(0),d=String.fromCharCode.apply(String,S.slice(0,p)),this.text[d]=String.fromCharCode.apply(String,S.slice(p+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(b=this.colorType)===4||b===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(h,p,d,g){var y,S,w,v,b,P,M,F,U,O,R,T,C,E,x,k,L,D,q,W,Q,ne=Math.ceil((c.width-h)/d),oe=Math.ceil((c.height-p)/g),$=c.width==ne&&c.height==oe;for(E=s*ne,T=$?o:new Uint8Array(E*oe),P=i.length,C=0,S=0;C<oe&&l<P;){switch(i[l++]){case 0:for(v=L=0;L<E;v=L+=1)T[S++]=i[l++];break;case 1:for(v=D=0;D<E;v=D+=1)y=i[l++],b=v<s?0:T[S-s],T[S++]=(y+b)%256;break;case 2:for(v=q=0;q<E;v=q+=1)y=i[l++],w=(v-v%s)/s,x=C&&T[(C-1)*E+w*s+v%s],T[S++]=(x+y)%256;break;case 3:for(v=W=0;W<E;v=W+=1)y=i[l++],w=(v-v%s)/s,b=v<s?0:T[S-s],x=C&&T[(C-1)*E+w*s+v%s],T[S++]=(y+Math.floor((b+x)/2))%256;break;case 4:for(v=Q=0;Q<E;v=Q+=1)y=i[l++],w=(v-v%s)/s,b=v<s?0:T[S-s],C===0?x=k=0:(x=T[(C-1)*E+w*s+v%s],k=w&&T[(C-1)*E+(w-1)*s+v%s]),M=b+x-k,F=Math.abs(M-b),O=Math.abs(M-x),R=Math.abs(M-k),U=F<=O&&F<=R?b:O<=R?x:k,T[S++]=(y+U)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!$){var I=((p+C*g)*c.width+h)*s,G=C*E;for(v=0;v<ne;v+=1){for(var J=0;J<s;J+=1)o[I++]=T[G++];I+=(d-1)*s}}C++}}return i=SP(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,c,u,h,p,d;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,s=h=0,p=o.length;h<p;s=h+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(d=u[i++])!=null?d:255;return c},n.prototype.copyToImageData=function(i,s){var o,l,c,u,h,p,d,g,y,S,w;if(l=this.colors,y=null,o=this.hasAlphaChannel,this.palette.length&&(y=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,o=!0),g=(c=i.data||i).length,h=y||s,u=p=0,l===1)for(;u<g;)d=y?4*s[u/4]:p,S=h[d++],c[u++]=S,c[u++]=S,c[u++]=S,c[u++]=o?h[d++]:255,p=d;else for(;u<g;)d=y?4*s[u/4]:p,c[u++]=h[d++],c[u++]=h[d++],c[u++]=h[d++],c[u++]=o?h[d++]:255,p=d},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(wt)==="[object Window]"){try{t=wt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,c,u,h,p,d;if(this.animation){for(d=[],o=u=0,h=(p=this.animation.frames).length;u<h;o=++u)s=p[o],l=i.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,d.push(s.image=e(l));return d}},n.prototype.renderFrame=function(i,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,c,u,h,p=this;return o=0,h=this.animation,c=h.numFrames,l=h.frames,u=h.numPlays,(s=function(){var d,g;if(d=o++%c,g=l[d],p.renderFrame(i,d),c>1&&o/c<u)return p.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function HP(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],h=0,p=null,d=0,g=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];h=e[t++]|e[t++]<<8,p=e[t++],(1&y)==0&&(p=null),d=y>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var S=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,P=e[t++],M=P>>6&1,F=1<<(7&P)+1,U=o,O=l,R=!1;P>>7&&(R=!0,U=t,O=F,t+=3*F);var T=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}u.push({x:S,y:w,width:v,height:b,has_local_palette:R,palette_offset:U,palette_size:O,data_offset:T,data_length:t-T,transparent_index:p,interlaced:!!M,delay:h,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(E){if(E<0||E>=u.length)throw new Error("Frame index out of range.");return u[E]},this.decodeAndBlitFrameBGRA=function(E,x){var k=this.frameInfo(E),L=k.width*k.height,D=new Uint8Array(L);wm(e,k.data_offset,D,L);var q=k.palette_offset,W=k.transparent_index;W===null&&(W=256);var Q=k.width,ne=r-Q,oe=Q,$=4*(k.y*r+k.x),I=4*((k.y+k.height)*r+k.x),G=$,J=4*ne;k.interlaced===!0&&(J+=4*r*7);for(var re=8,_=0,V=D.length;_<V;++_){var Z=D[_];if(oe===0&&(oe=Q,(G+=J)>=I&&(J=4*ne+4*r*(re-1),G=$+(Q+ne)*(re<<1),re>>=1)),Z===W)G+=4;else{var fe=e[q+3*Z],le=e[q+3*Z+1],X=e[q+3*Z+2];x[G++]=X,x[G++]=le,x[G++]=fe,x[G++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(E,x){var k=this.frameInfo(E),L=k.width*k.height,D=new Uint8Array(L);wm(e,k.data_offset,D,L);var q=k.palette_offset,W=k.transparent_index;W===null&&(W=256);var Q=k.width,ne=r-Q,oe=Q,$=4*(k.y*r+k.x),I=4*((k.y+k.height)*r+k.x),G=$,J=4*ne;k.interlaced===!0&&(J+=4*r*7);for(var re=8,_=0,V=D.length;_<V;++_){var Z=D[_];if(oe===0&&(oe=Q,(G+=J)>=I&&(J=4*ne+4*r*(re-1),G=$+(Q+ne)*(re<<1),re>>=1)),Z===W)G+=4;else{var fe=e[q+3*Z],le=e[q+3*Z+1],X=e[q+3*Z+2];x[G++]=fe,x[G++]=le,x[G++]=X,x[G++]=255}--oe}}}function wm(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,h=0,p=0,d=e[t++],g=new Int32Array(4096),y=null;;){for(;u<16&&d!==0;)h|=e[t++]<<u,u+=8,d===1?d=e[t++]:--d;if(u<l)break;var S=h&c;if(h>>=l,u-=l,S!==i){if(S===s)break;for(var w=S<o?S:y,v=0,b=w;b>i;)b=g[b]>>8,++v;var P=b;if(p+v+(w!==S?1:0)>n)return void lr.log("Warning, gif stream longer than expected.");r[p++]=P;var M=p+=v;for(w!==S&&(r[p++]=P),b=w;v--;)b=g[b],r[--M]=255&b,b>>=8;y!==null&&o<4096&&(g[o++]=y<<8|P,o>=c+1&&l<12&&(++l,c=c<<1|1)),y=S}else o=s+1,c=(1<<(l=a+1))-1,y=null}return p!==n&&lr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function V0(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),h=new Array(65535),p=new Array(65535),d=new Array(64),g=new Array(64),y=[],S=0,w=7,v=new Array(64),b=new Array(64),P=new Array(64),M=new Array(256),F=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],x=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],L=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function D($,I){for(var G=0,J=0,re=new Array,_=1;_<=16;_++){for(var V=1;V<=$[_];V++)re[I[J]]=[],re[I[J]][0]=G,re[I[J]][1]=_,J++,G++;G*=2}return re}function q($){for(var I=$[0],G=$[1]-1;G>=0;)I&1<<G&&(S|=1<<w),G--,--w<0&&(S==255?(W(255),W(0)):W(S),w=7,S=0)}function W($){y.push($)}function Q($){W($>>8&255),W(255&$)}function ne($,I,G,J,re){for(var _,V=re[0],Z=re[240],fe=function(me,ve){var Se,Ce,ue,ke,Me,Ve,Ze,Fe,Qe,nt,Ke=0;for(Qe=0;Qe<8;++Qe){Se=me[Ke],Ce=me[Ke+1],ue=me[Ke+2],ke=me[Ke+3],Me=me[Ke+4],Ve=me[Ke+5],Ze=me[Ke+6];var Ct=Se+(Fe=me[Ke+7]),ft=Se-Fe,Yt=Ce+Ze,_t=Ce-Ze,Et=ue+Ve,mn=ue-Ve,Ae=ke+Me,Xe=ke-Me,rt=Ct+Ae,vt=Ct-Ae,je=Yt+Et,Je=Yt-Et;me[Ke]=rt+je,me[Ke+4]=rt-je;var ze=.707106781*(Je+vt);me[Ke+2]=vt+ze,me[Ke+6]=vt-ze;var Rt=.382683433*((rt=Xe+mn)-(Je=_t+ft)),tn=.5411961*rt+Rt,gr=1.306562965*Je+Rt,Yr=.707106781*(je=mn+_t),zn=ft+Yr,gt=ft-Yr;me[Ke+5]=gt+tn,me[Ke+3]=gt-tn,me[Ke+1]=zn+gr,me[Ke+7]=zn-gr,Ke+=8}for(Ke=0,Qe=0;Qe<8;++Qe){Se=me[Ke],Ce=me[Ke+8],ue=me[Ke+16],ke=me[Ke+24],Me=me[Ke+32],Ve=me[Ke+40],Ze=me[Ke+48];var Ta=Se+(Fe=me[Ke+56]),ei=Se-Fe,Wn=Ce+Ze,Kr=Ce-Ze,Ur=ue+Ve,sa=ue-Ve,wo=ke+Me,wi=ke-Me,Oa=Ta+wo,Ea=Ta-wo,Ra=Wn+Ur,ti=Wn-Ur;me[Ke]=Oa+Ra,me[Ke+32]=Oa-Ra;var va=.707106781*(ti+Ea);me[Ke+16]=Ea+va,me[Ke+48]=Ea-va;var ri=.382683433*((Oa=wi+sa)-(ti=Kr+ei)),js=.5411961*Oa+ri,So=1.306562965*ti+ri,xo=.707106781*(Ra=sa+Kr),ko=ei+xo,Ao=ei-xo;me[Ke+40]=Ao+js,me[Ke+24]=Ao-js,me[Ke+8]=ko+So,me[Ke+56]=ko-So,Ke++}for(Qe=0;Qe<64;++Qe)nt=me[Qe]*ve[Qe],d[Qe]=nt>0?nt+.5|0:nt-.5|0;return d}($,I),le=0;le<64;++le)g[U[le]]=fe[le];var X=g[0]-G;G=g[0],X==0?q(J[0]):(q(J[p[_=32767+X]]),q(h[_]));for(var z=63;z>0&&g[z]==0;)z--;if(z==0)return q(V),G;for(var se,B=1;B<=z;){for(var H=B;g[B]==0&&B<=z;)++B;var de=B-H;if(de>=16){se=de>>4;for(var ge=1;ge<=se;++ge)q(Z);de&=15}_=32767+g[B],q(re[(de<<4)+p[_]]),q(h[_]),B++}return z!=63&&q(V),G}function oe($){$=Math.min(Math.max($,1),100),i!=$&&(function(I){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var re=s((G[J]*I+50)/100);re=Math.min(Math.max(re,1),255),o[U[J]]=re}for(var _=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],V=0;V<64;V++){var Z=s((_[V]*I+50)/100);Z=Math.min(Math.max(Z,1),255),l[U[V]]=Z}for(var fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],le=0,X=0;X<8;X++)for(var z=0;z<8;z++)c[le]=1/(o[U[le]]*fe[X]*fe[z]*8),u[le]=1/(l[U[le]]*fe[X]*fe[z]*8),le++}($<50?Math.floor(5e3/$):Math.floor(200-2*$)),i=$)}this.encode=function($,I){I&&oe(I),y=new Array,S=0,w=7,Q(65496),Q(65504),Q(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),Q(1),Q(1),W(0),W(0),function(){Q(65499),Q(132),W(0);for(var Ce=0;Ce<64;Ce++)W(o[Ce]);W(1);for(var ue=0;ue<64;ue++)W(l[ue])}(),function(Ce,ue){Q(65472),Q(17),W(8),Q(ue),Q(Ce),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}($.width,$.height),function(){Q(65476),Q(418),W(0);for(var Ce=0;Ce<16;Ce++)W(O[Ce+1]);for(var ue=0;ue<=11;ue++)W(R[ue]);W(16);for(var ke=0;ke<16;ke++)W(T[ke+1]);for(var Me=0;Me<=161;Me++)W(C[Me]);W(1);for(var Ve=0;Ve<16;Ve++)W(E[Ve+1]);for(var Ze=0;Ze<=11;Ze++)W(x[Ze]);W(17);for(var Fe=0;Fe<16;Fe++)W(k[Fe+1]);for(var Qe=0;Qe<=161;Qe++)W(L[Qe])}(),Q(65498),Q(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var G=0,J=0,re=0;S=0,w=7,this.encode.displayName="_encode_";for(var _,V,Z,fe,le,X,z,se,B,H=$.data,de=$.width,ge=$.height,me=4*de,ve=0;ve<ge;){for(_=0;_<me;){for(le=me*ve+_,z=-1,se=0,B=0;B<64;B++)X=le+(se=B>>3)*me+(z=4*(7&B)),ve+se>=ge&&(X-=me*(ve+1+se-ge)),_+z>=me&&(X-=_+z-me+4),V=H[X++],Z=H[X++],fe=H[X++],v[B]=(F[V]+F[Z+256>>0]+F[fe+512>>0]>>16)-128,b[B]=(F[V+768>>0]+F[Z+1024>>0]+F[fe+1280>>0]>>16)-128,P[B]=(F[V+1280>>0]+F[Z+1536>>0]+F[fe+1792>>0]>>16)-128;G=ne(v,c,G,t,n),J=ne(b,u,J,r,a),re=ne(P,u,re,r,a),_+=32}ve+=8}if(w>=0){var Se=[];Se[1]=w+1,Se[0]=(1<<w+1)-1,q(Se)}return Q(65497),new Uint8Array(y)},e=e||50,function(){for(var $=String.fromCharCode,I=0;I<256;I++)M[I]=$(I)}(),t=D(O,R),r=D(E,x),n=D(T,C),a=D(k,L),function(){for(var $=1,I=2,G=1;G<=15;G++){for(var J=$;J<I;J++)p[32767+J]=G,h[32767+J]=[],h[32767+J][1]=G,h[32767+J][0]=J;for(var re=-(I-1);re<=-$;re++)p[32767+re]=G,h[32767+re]=[],h[32767+re][1]=G,h[32767+re][0]=I-1+re;$<<=1,I<<=1}}(),function(){for(var $=0;$<256;$++)F[$]=19595*$,F[$+256>>0]=38470*$,F[$+512>>0]=7471*$+32768,F[$+768>>0]=-11059*$,F[$+1024>>0]=-21709*$,F[$+1280>>0]=32768*$+8421375,F[$+1536>>0]=-27439*$,F[$+1792>>0]=-5329*$}(),oe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function qa(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Sm(e){function t(O){if(!O)throw Error("assert :P")}function r(O,R,T){for(var C=0;4>C;C++)if(O[R+C]!=T.charCodeAt(C))return!0;return!1}function n(O,R,T,C,E){for(var x=0;x<E;x++)O[R+x]=T[C+x]}function a(O,R,T,C){for(var E=0;E<C;E++)O[R+E]=T}function i(O){return new Int32Array(O)}function s(O,R){for(var T=[],C=0;C<O;C++)T.push(new R);return T}function o(O,R){var T=[];return function C(E,x,k){for(var L=k[x],D=0;D<L&&(E.push(k.length>x+1?[]:new R),!(k.length<x+1));D++)C(E[D],x+1,k)}(T,0,O),T}var l=function(){var O=this;function R(f,m){for(var N=1<<m-1>>>0;f&N;)N>>>=1;return N?(f&N-1)+N:f}function T(f,m,N,j,Y){t(!(j%N));do f[m+(j-=N)]=Y;while(0<j)}function C(f,m,N,j,Y){if(t(2328>=Y),512>=Y)var ee=i(512);else if((ee=i(Y))==null)return 0;return function(te,ae,ie,ce,_e,Ne){var Te,Pe,$e=ae,Re=1<<ie,we=i(16),xe=i(16);for(t(_e!=0),t(ce!=null),t(te!=null),t(0<ie),Pe=0;Pe<_e;++Pe){if(15<ce[Pe])return 0;++we[ce[Pe]]}if(we[0]==_e)return 0;for(xe[1]=0,Te=1;15>Te;++Te){if(we[Te]>1<<Te)return 0;xe[Te+1]=xe[Te]+we[Te]}for(Pe=0;Pe<_e;++Pe)Te=ce[Pe],0<ce[Pe]&&(Ne[xe[Te]++]=Pe);if(xe[15]==1)return(ce=new E).g=0,ce.value=Ne[0],T(te,$e,1,Re,ce),Re;var Be,Ge=-1,qe=Re-1,st=0,et=1,mt=1,tt=1<<ie;for(Pe=0,Te=1,_e=2;Te<=ie;++Te,_e<<=1){if(et+=mt<<=1,0>(mt-=we[Te]))return 0;for(;0<we[Te];--we[Te])(ce=new E).g=Te,ce.value=Ne[Pe++],T(te,$e+st,_e,tt,ce),st=R(st,Te)}for(Te=ie+1,_e=2;15>=Te;++Te,_e<<=1){if(et+=mt<<=1,0>(mt-=we[Te]))return 0;for(;0<we[Te];--we[Te]){if(ce=new E,(st&qe)!=Ge){for($e+=tt,Be=1<<(Ge=Te)-ie;15>Ge&&!(0>=(Be-=we[Ge]));)++Ge,Be<<=1;Re+=tt=1<<(Be=Ge-ie),te[ae+(Ge=st&qe)].g=Be+ie,te[ae+Ge].value=$e-ae-Ge}ce.g=Te-ie,ce.value=Ne[Pe++],T(te,$e+(st>>ie),_e,tt,ce),st=R(st,Te)}}return et!=2*xe[15]-1?0:Re}(f,m,N,j,Y,ee)}function E(){this.value=this.g=0}function x(){this.value=this.g=0}function k(){this.G=s(5,E),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(vn,x)}function L(f,m,N,j){t(f!=null),t(m!=null),t(2147483648>j),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=m,f.pa=N,f.Jd=m,f.Yc=N+j,f.Zc=4<=j?N+j-4+1:N,_(f)}function D(f,m){for(var N=0;0<m--;)N|=Z(f,128)<<m;return N}function q(f,m){var N=D(f,m);return V(f)?-N:N}function W(f,m,N,j){var Y,ee=0;for(t(f!=null),t(m!=null),t(4294967288>j),f.Sb=j,f.Ra=0,f.u=0,f.h=0,4<j&&(j=4),Y=0;Y<j;++Y)ee+=m[N+Y]<<8*Y;f.Ra=ee,f.bb=j,f.oa=m,f.pa=N}function Q(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<qo-8>>>0,++f.bb,f.u-=8;G(f)&&(f.h=1,f.u=0)}function ne(f,m){if(t(0<=m),!f.h&&m<=Bo){var N=I(f)&jo[m];return f.u+=m,Q(f),N}return f.h=1,f.u=0}function oe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function I(f){return f.Ra>>>(f.u&qo-1)>>>0}function G(f){return t(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>qo}function J(f,m){f.u=m,f.h=G(f)}function re(f){f.u>=uu&&(t(f.u>=uu),Q(f))}function _(f){t(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(t(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function V(f){return D(f,1)}function Z(f,m){var N=f.Ca;0>f.b&&_(f);var j=f.b,Y=N*m>>>8,ee=(f.I>>>j>Y)+0;for(ee?(N-=Y,f.I-=Y+1<<j>>>0):N=Y+1,j=N,Y=0;256<=j;)Y+=8,j>>=8;return j=7^Y+Kn[j],f.b-=j,f.Ca=(N<<j)-1,ee}function fe(f,m,N){f[m+0]=N>>24&255,f[m+1]=N>>16&255,f[m+2]=N>>8&255,f[m+3]=N>>0&255}function le(f,m){return f[m+0]<<0|f[m+1]<<8}function X(f,m){return le(f,m)|f[m+2]<<16}function z(f,m){return le(f,m)|le(f,m+2)<<16}function se(f,m){var N=1<<m;return t(f!=null),t(0<m),f.X=i(N),f.X==null?0:(f.Mb=32-m,f.Xa=m,1)}function B(f,m){t(f!=null),t(m!=null),t(f.Xa==m.Xa),n(m.X,0,f.X,0,1<<m.Xa)}function H(){this.X=[],this.Xa=this.Mb=0}function de(f,m,N,j){t(N!=null),t(j!=null);var Y=N[0],ee=j[0];return Y==0&&(Y=(f*ee+m/2)/m),ee==0&&(ee=(m*Y+f/2)/f),0>=Y||0>=ee?0:(N[0]=Y,j[0]=ee,1)}function ge(f,m){return f+(1<<m)-1>>>m}function me(f,m){return((4278255360&f)+(4278255360&m)>>>0&4278255360)+((16711935&f)+(16711935&m)>>>0&16711935)>>>0}function ve(f,m){O[m]=function(N,j,Y,ee,te,ae,ie){var ce;for(ce=0;ce<te;++ce){var _e=O[f](ae[ie+ce-1],Y,ee+ce);ae[ie+ce]=me(N[j+ce],_e)}}}function Se(){this.ud=this.hd=this.jd=0}function Ce(f,m){return((4278124286&(f^m))>>>1)+(f&m)>>>0}function ue(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function ke(f,m){return ue(f+(f-m+.5>>1))}function Me(f,m,N){return Math.abs(m-N)-Math.abs(f-N)}function Ve(f,m,N,j,Y,ee,te){for(j=ee[te-1],N=0;N<Y;++N)ee[te+N]=j=me(f[m+N],j)}function Ze(f,m,N,j,Y){var ee;for(ee=0;ee<N;++ee){var te=f[m+ee],ae=te>>8&255,ie=16711935&(ie=(ie=16711935&te)+((ae<<16)+ae));j[Y+ee]=(4278255360&te)+ie>>>0}}function Fe(f,m){m.jd=f>>0&255,m.hd=f>>8&255,m.ud=f>>16&255}function Qe(f,m,N,j,Y,ee){var te;for(te=0;te<j;++te){var ae=m[N+te],ie=ae>>>8,ce=ae,_e=255&(_e=(_e=ae>>>16)+((f.jd<<24>>24)*(ie<<24>>24)>>>5));ce=255&(ce=(ce=ce+((f.hd<<24>>24)*(ie<<24>>24)>>>5))+((f.ud<<24>>24)*(_e<<24>>24)>>>5)),Y[ee+te]=(4278255360&ae)+(_e<<16)+ce}}function nt(f,m,N,j,Y){O[m]=function(ee,te,ae,ie,ce,_e,Ne,Te,Pe){for(ie=Ne;ie<Te;++ie)for(Ne=0;Ne<Pe;++Ne)ce[_e++]=Y(ae[j(ee[te++])])},O[f]=function(ee,te,ae,ie,ce,_e,Ne){var Te=8>>ee.b,Pe=ee.Ea,$e=ee.K[0],Re=ee.w;if(8>Te)for(ee=(1<<ee.b)-1,Re=(1<<Te)-1;te<ae;++te){var we,xe=0;for(we=0;we<Pe;++we)we&ee||(xe=j(ie[ce++])),_e[Ne++]=Y($e[xe&Re]),xe>>=Te}else O["VP8LMapColor"+N](ie,ce,$e,Re,_e,Ne,te,ae,Pe)}}function Ke(f,m,N,j,Y){for(N=m+N;m<N;){var ee=f[m++];j[Y++]=ee>>16&255,j[Y++]=ee>>8&255,j[Y++]=ee>>0&255}}function Ct(f,m,N,j,Y){for(N=m+N;m<N;){var ee=f[m++];j[Y++]=ee>>16&255,j[Y++]=ee>>8&255,j[Y++]=ee>>0&255,j[Y++]=ee>>24&255}}function ft(f,m,N,j,Y){for(N=m+N;m<N;){var ee=(te=f[m++])>>16&240|te>>12&15,te=te>>0&240|te>>28&15;j[Y++]=ee,j[Y++]=te}}function Yt(f,m,N,j,Y){for(N=m+N;m<N;){var ee=(te=f[m++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;j[Y++]=ee,j[Y++]=te}}function _t(f,m,N,j,Y){for(N=m+N;m<N;){var ee=f[m++];j[Y++]=ee>>0&255,j[Y++]=ee>>8&255,j[Y++]=ee>>16&255}}function Et(f,m,N,j,Y,ee){if(ee==0)for(N=m+N;m<N;)fe(j,((ee=f[m++])[0]>>24|ee[1]>>8&65280|ee[2]<<8&16711680|ee[3]<<24)>>>0),Y+=32;else n(j,Y,f,m,N)}function mn(f,m){O[m][0]=O[f+"0"],O[m][1]=O[f+"1"],O[m][2]=O[f+"2"],O[m][3]=O[f+"3"],O[m][4]=O[f+"4"],O[m][5]=O[f+"5"],O[m][6]=O[f+"6"],O[m][7]=O[f+"7"],O[m][8]=O[f+"8"],O[m][9]=O[f+"9"],O[m][10]=O[f+"10"],O[m][11]=O[f+"11"],O[m][12]=O[f+"12"],O[m][13]=O[f+"13"],O[m][14]=O[f+"0"],O[m][15]=O[f+"0"]}function Ae(f){return f==Uf||f==Vf||f==Id||f==Gf}function Xe(){this.eb=[],this.size=this.A=this.fb=0}function rt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xe,this.f.kb=new rt,this.sd=null}function je(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Je(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ze(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Rt(f,m){var N=f.T,j=m.ba.f.RGBA,Y=j.eb,ee=j.fb+f.ka*j.A,te=xa[m.ba.S],ae=f.y,ie=f.O,ce=f.f,_e=f.N,Ne=f.ea,Te=f.W,Pe=m.cc,$e=m.dc,Re=m.Mc,we=m.Nc,xe=f.ka,Be=f.ka+f.T,Ge=f.U,qe=Ge+1>>1;for(xe==0?te(ae,ie,null,null,ce,_e,Ne,Te,ce,_e,Ne,Te,Y,ee,null,null,Ge):(te(m.ec,m.fc,ae,ie,Pe,$e,Re,we,ce,_e,Ne,Te,Y,ee-j.A,Y,ee,Ge),++N);xe+2<Be;xe+=2)Pe=ce,$e=_e,Re=Ne,we=Te,_e+=f.Rc,Te+=f.Rc,ee+=2*j.A,te(ae,(ie+=2*f.fa)-f.fa,ae,ie,Pe,$e,Re,we,ce,_e,Ne,Te,Y,ee-j.A,Y,ee,Ge);return ie+=f.fa,f.j+Be<f.o?(n(m.ec,m.fc,ae,ie,Ge),n(m.cc,m.dc,ce,_e,qe),n(m.Mc,m.Nc,Ne,Te,qe),N--):1&Be||te(ae,ie,null,null,ce,_e,Ne,Te,ce,_e,Ne,Te,Y,ee+j.A,null,null,Ge),N}function tn(f,m,N){var j=f.F,Y=[f.J];if(j!=null){var ee=f.U,te=m.ba.S,ae=te==Dd||te==Id;m=m.ba.f.RGBA;var ie=[0],ce=f.ka;ie[0]=f.T,f.Kb&&(ce==0?--ie[0]:(--ce,Y[0]-=f.width),f.j+f.ka+f.T==f.o&&(ie[0]=f.o-f.j-ce));var _e=m.eb;ce=m.fb+ce*m.A,f=dr(j,Y[0],f.width,ee,ie,_e,ce+(ae?0:3),m.A),t(N==ie),f&&Ae(te)&&wa(_e,ce,ae,ee,ie,m.A)}return 0}function gr(f){var m=f.ma,N=m.ba.S,j=11>N,Y=N==Rd||N==Md||N==Dd||N==$f||N==12||Ae(N);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!ou(m.Oa,f,Y?11:12))return 0;if(Y&&Ae(N)&&We(),f.da)alert("todo:use_scaling");else{if(j){if(m.Ib=ze,f.Kb){if(N=f.U+1>>1,m.memory=i(f.U+2*N),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+f.U,m.Mc=m.cc,m.Nc=m.dc+N,m.Ib=Rt,We()}}else alert("todo:EmitYUV");Y&&(m.Jb=tn,j&&Le())}if(j&&!Yp){for(f=0;256>f;++f)y3[f]=89858*(f-128)+jd>>Fd,w3[f]=-22014*(f-128)+jd,_3[f]=-45773*(f-128),b3[f]=113618*(f-128)+jd>>Fd;for(f=mu;f<Wf;++f)m=76283*(f-16)+jd>>Fd,S3[f-mu]=oa(m,255),x3[f-mu]=oa(m+8>>4,15);Yp=1}return 1}function Yr(f){var m=f.ma,N=f.U,j=f.T;return t(!(1&f.ka)),0>=N||0>=j?0:(N=m.Ib(f,m),m.Jb!=null&&m.Jb(f,m,N),m.Dc+=N,1)}function zn(f){f.ma.memory=null}function gt(f,m,N,j){return ne(f,8)!=47?0:(m[0]=ne(f,14)+1,N[0]=ne(f,14)+1,j[0]=ne(f,1),ne(f,3)!=0?0:!f.h)}function Ta(f,m){if(4>f)return f+1;var N=f-2>>1;return(2+(1&f)<<N)+ne(m,N)+1}function ei(f,m){return 120<m?m-120:1<=(N=((N=a3[m-1])>>4)*f+(8-(15&N)))?N:1;var N}function Wn(f,m,N){var j=I(N),Y=f[m+=255&j].g-8;return 0<Y&&(J(N,N.u+8),j=I(N),m+=f[m].value,m+=j&(1<<Y)-1),J(N,N.u+f[m].g),f[m].value}function Kr(f,m,N){return N.g+=f.g,N.value+=f.value<<m>>>0,t(8>=N.g),f.g}function Ur(f,m,N){var j=f.xc;return t((m=j==0?0:f.vc[f.md*(N>>j)+(m>>j)])<f.Wb),f.Ya[m]}function sa(f,m,N,j){var Y=f.ab,ee=f.c*m,te=f.C;m=te+m;var ae=N,ie=j;for(j=f.Ta,N=f.Ua;0<Y--;){var ce=f.gc[Y],_e=te,Ne=m,Te=ae,Pe=ie,$e=(ie=j,ae=N,ce.Ea);switch(t(_e<Ne),t(Ne<=ce.nc),ce.hc){case 2:Pd(Te,Pe,(Ne-_e)*$e,ie,ae);break;case 0:var Re=_e,we=Ne,xe=ie,Be=ae,Ge=(tt=ce).Ea;Re==0&&(Bf(Te,Pe,null,null,1,xe,Be),Ve(Te,Pe+1,0,0,Ge-1,xe,Be+1),Pe+=Ge,Be+=Ge,++Re);for(var qe=1<<tt.b,st=qe-1,et=ge(Ge,tt.b),mt=tt.K,tt=tt.w+(Re>>tt.b)*et;Re<we;){var zt=mt,Qt=tt,Gt=1;for(cu(Te,Pe,xe,Be-Ge,1,xe,Be);Gt<Ge;){var Ft=(Gt&~st)+qe;Ft>Ge&&(Ft=Ge),(0,Ji[zt[Qt++]>>8&15])(Te,Pe+ +Gt,xe,Be+Gt-Ge,Ft-Gt,xe,Be+Gt),Gt=Ft}Pe+=Ge,Be+=Ge,++Re&st||(tt+=et)}Ne!=ce.nc&&n(ie,ae-$e,ie,ae+(Ne-_e-1)*$e,$e);break;case 1:for($e=Te,we=Pe,Ge=(Te=ce.Ea)-(Be=Te&~(xe=(Pe=1<<ce.b)-1)),Re=ge(Te,ce.b),qe=ce.K,ce=ce.w+(_e>>ce.b)*Re;_e<Ne;){for(st=qe,et=ce,mt=new Se,tt=we+Be,zt=we+Te;we<tt;)Fe(st[et++],mt),Vs(mt,$e,we,Pe,ie,ae),we+=Pe,ae+=Pe;we<zt&&(Fe(st[et++],mt),Vs(mt,$e,we,Ge,ie,ae),we+=Ge,ae+=Ge),++_e&xe||(ce+=Re)}break;case 3:if(Te==ie&&Pe==ae&&0<ce.b){for(we=ie,Te=$e=ae+(Ne-_e)*$e-(Be=(Ne-_e)*ge(ce.Ea,ce.b)),Pe=ie,xe=ae,Re=[],Be=(Ge=Be)-1;0<=Be;--Be)Re[Be]=Pe[xe+Be];for(Be=Ge-1;0<=Be;--Be)we[Te+Be]=Re[Be];ya(ce,_e,Ne,ie,$e,ie,ae)}else ya(ce,_e,Ne,Te,Pe,ie,ae)}ae=j,ie=N}ie!=N&&n(j,N,ae,ie,ee)}function wo(f,m){var N=f.V,j=f.Ba+f.c*f.C,Y=m-f.C;if(t(m<=f.l.o),t(16>=Y),0<Y){var ee=f.l,te=f.Ta,ae=f.Ua,ie=ee.width;if(sa(f,Y,N,j),Y=ae=[ae],t((N=f.C)<(j=m)),t(ee.v<ee.va),j>ee.o&&(j=ee.o),N<ee.j){var ce=ee.j-N;N=ee.j,Y[0]+=ce*ie}if(N>=j?N=0:(Y[0]+=4*ee.v,ee.ka=N-ee.j,ee.U=ee.va-ee.v,ee.T=j-N,N=1),N){if(ae=ae[0],11>(N=f.ca).S){var _e=N.f.RGBA,Ne=(j=N.S,Y=ee.U,ee=ee.T,ce=_e.eb,_e.A),Te=ee;for(_e=_e.fb+f.Ma*_e.A;0<Te--;){var Pe=te,$e=ae,Re=Y,we=ce,xe=_e;switch(j){case Ed:Xn(Pe,$e,Re,we,xe);break;case Rd:Rn(Pe,$e,Re,we,xe);break;case Uf:Rn(Pe,$e,Re,we,xe),wa(we,xe,0,Re,1,0);break;case Bp:Ai(Pe,$e,Re,we,xe);break;case Md:Et(Pe,$e,Re,we,xe,1);break;case Vf:Et(Pe,$e,Re,we,xe,1),wa(we,xe,0,Re,1,0);break;case Dd:Et(Pe,$e,Re,we,xe,0);break;case Id:Et(Pe,$e,Re,we,xe,0),wa(we,xe,1,Re,1,0);break;case $f:Qi(Pe,$e,Re,we,xe);break;case Gf:Qi(Pe,$e,Re,we,xe),cr(we,xe,Re,1,0);break;case qp:ki(Pe,$e,Re,we,xe);break;default:t(0)}ae+=ie,_e+=Ne}f.Ma+=ee}else alert("todo:EmitRescaledRowsYUVA");t(f.Ma<=N.height)}}f.C=m,t(f.C<=f.i)}function wi(f){var m;if(0<f.ua)return 0;for(m=0;m<f.Wb;++m){var N=f.Ya[m].G,j=f.Ya[m].H;if(0<N[1][j[1]+0].g||0<N[2][j[2]+0].g||0<N[3][j[3]+0].g)return 0}return 1}function Oa(f,m,N,j,Y,ee){if(f.Z!=0){var te=f.qd,ae=f.rd;for(t(rs[f.Z]!=null);m<N;++m)rs[f.Z](te,ae,j,Y,j,Y,ee),te=j,ae=Y,Y+=ee;f.qd=te,f.rd=ae}}function Ea(f,m){var N=f.l.ma,j=N.Z==0||N.Z==1?f.l.j:f.C;if(j=f.C<j?j:f.C,t(m<=f.l.o),m>j){var Y=f.l.width,ee=N.ca,te=N.tb+Y*j,ae=f.V,ie=f.Ba+f.c*j,ce=f.gc;t(f.ab==1),t(ce[0].hc==3),Cd(ce[0],j,m,ae,ie,ee,te),Oa(N,j,m,ee,te,Y)}f.C=f.Ma=m}function Ra(f,m,N,j,Y,ee,te){var ae=f.$/j,ie=f.$%j,ce=f.m,_e=f.s,Ne=N+f.$,Te=Ne;Y=N+j*Y;var Pe=N+j*ee,$e=280+_e.ua,Re=f.Pb?ae:16777216,we=0<_e.ua?_e.Wa:null,xe=_e.wc,Be=Ne<Pe?Ur(_e,ie,ae):null;t(f.C<ee),t(Pe<=Y);var Ge=!1;e:for(;;){for(;Ge||Ne<Pe;){var qe=0;if(ae>=Re){var st=Ne-N;t((Re=f).Pb),Re.wd=Re.m,Re.xd=st,0<Re.s.ua&&B(Re.s.Wa,Re.s.vb),Re=ae+s3}if(ie&xe||(Be=Ur(_e,ie,ae)),t(Be!=null),Be.Qb&&(m[Ne]=Be.qb,Ge=!0),!Ge)if(re(ce),Be.jc){qe=ce,st=m;var et=Ne,mt=Be.pd[I(qe)&vn-1];t(Be.jc),256>mt.g?(J(qe,qe.u+mt.g),st[et]=mt.value,qe=0):(J(qe,qe.u+mt.g-256),t(256<=mt.value),qe=mt.value),qe==0&&(Ge=!0)}else qe=Wn(Be.G[0],Be.H[0],ce);if(ce.h)break;if(Ge||256>qe){if(!Ge)if(Be.nd)m[Ne]=(Be.qb|qe<<8)>>>0;else{if(re(ce),Ge=Wn(Be.G[1],Be.H[1],ce),re(ce),st=Wn(Be.G[2],Be.H[2],ce),et=Wn(Be.G[3],Be.H[3],ce),ce.h)break;m[Ne]=(et<<24|Ge<<16|qe<<8|st)>>>0}if(Ge=!1,++Ne,++ie>=j&&(ie=0,++ae,te!=null&&ae<=ee&&!(ae%16)&&te(f,ae),we!=null))for(;Te<Ne;)qe=m[Te++],we.X[(506832829*qe&4294967295)>>>we.Mb]=qe}else if(280>qe){if(qe=Ta(qe-256,ce),st=Wn(Be.G[4],Be.H[4],ce),re(ce),st=ei(j,st=Ta(st,ce)),ce.h)break;if(Ne-N<st||Y-Ne<qe)break e;for(et=0;et<qe;++et)m[Ne+et]=m[Ne+et-st];for(Ne+=qe,ie+=qe;ie>=j;)ie-=j,++ae,te!=null&&ae<=ee&&!(ae%16)&&te(f,ae);if(t(Ne<=Y),ie&xe&&(Be=Ur(_e,ie,ae)),we!=null)for(;Te<Ne;)qe=m[Te++],we.X[(506832829*qe&4294967295)>>>we.Mb]=qe}else{if(!(qe<$e))break e;for(Ge=qe-280,t(we!=null);Te<Ne;)qe=m[Te++],we.X[(506832829*qe&4294967295)>>>we.Mb]=qe;qe=Ne,t(!(Ge>>>(st=we).Xa)),m[qe]=st.X[Ge],Ge=!0}Ge||t(ce.h==G(ce))}if(f.Pb&&ce.h&&Ne<Y)t(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&B(f.s.vb,f.s.Wa);else{if(ce.h)break e;te!=null&&te(f,ae>ee?ee:ae),f.a=0,f.$=Ne-N}return 1}return f.a=3,0}function ti(f){t(f!=null),f.vc=null,f.yc=null,f.Ya=null;var m=f.Wa;m!=null&&(m.X=null),f.vb=null,t(f!=null)}function va(){var f=new jf;return f==null?null:(f.a=0,f.xb=Vp,mn("Predictor","VP8LPredictors"),mn("Predictor","VP8LPredictors_C"),mn("PredictorAdd","VP8LPredictorsAdd"),mn("PredictorAdd","VP8LPredictorsAdd_C"),Pd=Ze,Vs=Qe,Xn=Ke,Rn=Ct,Qi=ft,ki=Yt,Ai=_t,O.VP8LMapColor32b=$o,O.VP8LMapColor8b=Ld,f)}function ri(f,m,N,j,Y){var ee=1,te=[f],ae=[m],ie=j.m,ce=j.s,_e=null,Ne=0;e:for(;;){if(N)for(;ee&&ne(ie,1);){var Te=te,Pe=ae,$e=j,Re=1,we=$e.m,xe=$e.gc[$e.ab],Be=ne(we,2);if($e.Oc&1<<Be)ee=0;else{switch($e.Oc|=1<<Be,xe.hc=Be,xe.Ea=Te[0],xe.nc=Pe[0],xe.K=[null],++$e.ab,t(4>=$e.ab),Be){case 0:case 1:xe.b=ne(we,3)+2,Re=ri(ge(xe.Ea,xe.b),ge(xe.nc,xe.b),0,$e,xe.K),xe.K=xe.K[0];break;case 3:var Ge,qe=ne(we,8)+1,st=16<qe?0:4<qe?1:2<qe?2:3;if(Te[0]=ge(xe.Ea,st),xe.b=st,Ge=Re=ri(qe,1,0,$e,xe.K)){var et,mt=qe,tt=xe,zt=1<<(8>>tt.b),Qt=i(zt);if(Qt==null)Ge=0;else{var Gt=tt.K[0],Ft=tt.w;for(Qt[0]=tt.K[0][0],et=1;et<1*mt;++et)Qt[et]=me(Gt[Ft+et],Qt[et-1]);for(;et<4*zt;++et)Qt[et]=0;tt.K[0]=null,tt.K[0]=Qt,Ge=1}}Re=Ge;break;case 2:break;default:t(0)}ee=Re}}if(te=te[0],ae=ae[0],ee&&ne(ie,1)&&!(ee=1<=(Ne=ne(ie,4))&&11>=Ne)){j.a=3;break e}var or;if(or=ee)t:{var ar,Ot,Gr,Jn=j,Hr=te,Qn=ae,Zt=Ne,ua=N,ca=Jn.m,nn=Jn.s,yn=[null],Dn=1,ka=0,si=i3[Zt];r:for(;;){if(ua&&ne(ca,1)){var an=ne(ca,3)+2,Ni=ge(Hr,an),Ys=ge(Qn,an),zo=Ni*Ys;if(!ri(Ni,Ys,0,Jn,yn))break r;for(yn=yn[0],nn.xc=an,ar=0;ar<zo;++ar){var ns=yn[ar]>>8&65535;yn[ar]=ns,ns>=Dn&&(Dn=ns+1)}}if(ca.h)break r;for(Ot=0;5>Ot;++Ot){var Ar=$p[Ot];!Ot&&0<Zt&&(Ar+=1<<Zt),ka<Ar&&(ka=Ar)}var Yf=s(Dn*si,E),Jp=Dn,Qp=s(Jp,k);if(Qp==null)var qd=null;else t(65536>=Jp),qd=Qp;var vu=i(ka);if(qd==null||vu==null||Yf==null){Jn.a=1;break r}var $d=Yf;for(ar=Gr=0;ar<Dn;++ar){var ja=qd[ar],Wo=ja.G,Yo=ja.H,Zp=0,Ud=1,e2=0;for(Ot=0;5>Ot;++Ot){Ar=$p[Ot],Wo[Ot]=$d,Yo[Ot]=Gr,!Ot&&0<Zt&&(Ar+=1<<Zt);a:{var Vd,Kf=Ar,Gd=Jn,yu=vu,P3=$d,C3=Gr,Xf=0,as=Gd.m,L3=ne(as,1);if(a(yu,0,0,Kf),L3){var N3=ne(as,1)+1,T3=ne(as,1),t2=ne(as,T3==0?1:8);yu[t2]=1,N3==2&&(yu[t2=ne(as,8)]=1);var Hd=1}else{var r2=i(19),n2=ne(as,4)+4;if(19<n2){Gd.a=3;var zd=0;break a}for(Vd=0;Vd<n2;++Vd)r2[n3[Vd]]=ne(as,3);var Jf=void 0,bu=void 0,a2=Gd,O3=r2,Wd=Kf,i2=yu,Qf=0,is=a2.m,s2=8,o2=s(128,E);n:for(;C(o2,0,7,O3,19);){if(ne(is,1)){var E3=2+2*ne(is,3);if((Jf=2+ne(is,E3))>Wd)break n}else Jf=Wd;for(bu=0;bu<Wd&&Jf--;){re(is);var l2=o2[0+(127&I(is))];J(is,is.u+l2.g);var Ko=l2.value;if(16>Ko)i2[bu++]=Ko,Ko!=0&&(s2=Ko);else{var R3=Ko==16,u2=Ko-16,M3=t3[u2],c2=ne(is,e3[u2])+M3;if(bu+c2>Wd)break n;for(var D3=R3?s2:0;0<c2--;)i2[bu++]=D3}}Qf=1;break n}Qf||(a2.a=3),Hd=Qf}(Hd=Hd&&!as.h)&&(Xf=C(P3,C3,8,yu,Kf)),Hd&&Xf!=0?zd=Xf:(Gd.a=3,zd=0)}if(zd==0)break r;if(Ud&&r3[Ot]==1&&(Ud=$d[Gr].g==0),Zp+=$d[Gr].g,Gr+=zd,3>=Ot){var _u,Zf=vu[0];for(_u=1;_u<Ar;++_u)vu[_u]>Zf&&(Zf=vu[_u]);e2+=Zf}}if(ja.nd=Ud,ja.Qb=0,Ud&&(ja.qb=(Wo[3][Yo[3]+0].value<<24|Wo[1][Yo[1]+0].value<<16|Wo[2][Yo[2]+0].value)>>>0,Zp==0&&256>Wo[0][Yo[0]+0].value&&(ja.Qb=1,ja.qb+=Wo[0][Yo[0]+0].value<<8)),ja.jc=!ja.Qb&&6>e2,ja.jc){var Yd,Ti=ja;for(Yd=0;Yd<vn;++Yd){var ss=Yd,os=Ti.pd[ss],Kd=Ti.G[0][Ti.H[0]+ss];256<=Kd.value?(os.g=Kd.g+256,os.value=Kd.value):(os.g=0,os.value=0,ss>>=Kr(Kd,8,os),ss>>=Kr(Ti.G[1][Ti.H[1]+ss],16,os),ss>>=Kr(Ti.G[2][Ti.H[2]+ss],0,os),Kr(Ti.G[3][Ti.H[3]+ss],24,os))}}}nn.vc=yn,nn.Wb=Dn,nn.Ya=qd,nn.yc=Yf,or=1;break t}or=0}if(!(ee=or)){j.a=3;break e}if(0<Ne){if(ce.ua=1<<Ne,!se(ce.Wa,Ne)){j.a=1,ee=0;break e}}else ce.ua=0;var e0=j,d2=te,I3=ae,t0=e0.s,r0=t0.xc;if(e0.c=d2,e0.i=I3,t0.md=ge(d2,r0),t0.wc=r0==0?-1:(1<<r0)-1,N){j.xb=f3;break e}if((_e=i(te*ae))==null){j.a=1,ee=0;break e}ee=(ee=Ra(j,_e,0,te,ae,ae,null))&&!ie.h;break e}return ee?(Y!=null?Y[0]=_e:(t(_e==null),t(N)),j.$=0,N||ti(ce)):ti(ce),ee}function js(f,m){var N=f.c*f.i,j=N+m+16*m;return t(f.c<=m),f.V=i(j),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+N+m,1)}function So(f,m){var N=f.C,j=m-N,Y=f.V,ee=f.Ba+f.c*N;for(t(m<=f.l.o);0<j;){var te=16<j?16:j,ae=f.l.ma,ie=f.l.width,ce=ie*te,_e=ae.ca,Ne=ae.tb+ie*N,Te=f.Ta,Pe=f.Ua;sa(f,te,Y,ee),Er(Te,Pe,_e,Ne,ce),Oa(ae,N,N+te,_e,Ne,ie),j-=te,Y+=te*f.c,N+=te}t(N==m),f.C=f.Ma=m}function xo(){this.ub=this.yd=this.td=this.Rb=0}function ko(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ao(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function sd(){this.Yb=function(){var f=[];return function m(N,j,Y){for(var ee=Y[j],te=0;te<ee&&(N.push(Y.length>j+1?[]:0),!(Y.length<j+1));te++)m(N[te],j+1,Y)}(f,0,[3,11]),f}()}function gf(){this.jb=i(3),this.Wc=o([4,8],sd),this.Xc=o([4,17],sd)}function mf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Po(){this.ld=this.La=this.dd=this.tc=0}function od(){this.Na=this.la=0}function vf(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Hl(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yf(){this.uc=this.M=this.Nb=0,this.wa=Array(new Po),this.Y=0,this.ya=Array(new Hl),this.aa=0,this.l=new Co}function ld(){this.y=i(16),this.f=i(8),this.ea=i(8)}function bf(){this.cb=this.a=0,this.sc="",this.m=new oe,this.Od=new xo,this.Kc=new ko,this.ed=new mf,this.Qa=new Ao,this.Ic=this.$c=this.Aa=0,this.D=new yf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,oe),this.ia=0,this.pb=s(4,vf),this.Pa=new gf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ld),this.Hd=0,this.rb=Array(new od),this.sb=0,this.wa=Array(new Po),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Hl),this.L=this.aa=0,this.gd=o([4,2],Po),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Co(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _f(){var f=new bf;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,gu||(gu=dd)),f}function Tr(f,m,N){return f.a==0&&(f.a=m,f.sc=N,f.cb=0),0}function ud(f,m,N){return 3<=N&&f[m+0]==157&&f[m+1]==1&&f[m+2]==42}function cd(f,m){if(f==null)return 0;if(f.a=0,f.sc="OK",m==null)return Tr(f,2,"null VP8Io passed to VP8GetHeaders()");var N=m.data,j=m.w,Y=m.ha;if(4>Y)return Tr(f,7,"Truncated header.");var ee=N[j+0]|N[j+1]<<8|N[j+2]<<16,te=f.Od;if(te.Rb=!(1&ee),te.td=ee>>1&7,te.yd=ee>>4&1,te.ub=ee>>5,3<te.td)return Tr(f,3,"Incorrect keyframe parameters.");if(!te.yd)return Tr(f,4,"Frame not displayable.");j+=3,Y-=3;var ae=f.Kc;if(te.Rb){if(7>Y)return Tr(f,7,"cannot parse picture header");if(!ud(N,j,Y))return Tr(f,3,"Bad code word");ae.c=16383&(N[j+4]<<8|N[j+3]),ae.Td=N[j+4]>>6,ae.i=16383&(N[j+6]<<8|N[j+5]),ae.Ud=N[j+6]>>6,j+=7,Y-=7,f.za=ae.c+15>>4,f.Ub=ae.i+15>>4,m.width=ae.c,m.height=ae.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,a((ee=f.Pa).jb,0,255,ee.jb.length),t((ee=f.Qa)!=null),ee.Cb=0,ee.Bb=0,ee.Fb=1,a(ee.Zb,0,0,ee.Zb.length),a(ee.Lb,0,0,ee.Lb)}if(te.ub>Y)return Tr(f,7,"bad partition length");L(ee=f.m,N,j,te.ub),j+=te.ub,Y-=te.ub,te.Rb&&(ae.Ld=V(ee),ae.Kd=V(ee)),ae=f.Qa;var ie,ce=f.Pa;if(t(ee!=null),t(ae!=null),ae.Cb=V(ee),ae.Cb){if(ae.Bb=V(ee),V(ee)){for(ae.Fb=V(ee),ie=0;4>ie;++ie)ae.Zb[ie]=V(ee)?q(ee,7):0;for(ie=0;4>ie;++ie)ae.Lb[ie]=V(ee)?q(ee,6):0}if(ae.Bb)for(ie=0;3>ie;++ie)ce.jb[ie]=V(ee)?D(ee,8):255}else ae.Bb=0;if(ee.Ka)return Tr(f,3,"cannot parse segment header");if((ae=f.ed).zd=V(ee),ae.Tb=D(ee,6),ae.wb=D(ee,3),ae.Pc=V(ee),ae.Pc&&V(ee)){for(ce=0;4>ce;++ce)V(ee)&&(ae.vd[ce]=q(ee,6));for(ce=0;4>ce;++ce)V(ee)&&(ae.od[ce]=q(ee,6))}if(f.L=ae.Tb==0?0:ae.zd?1:2,ee.Ka)return Tr(f,3,"cannot parse filter header");var _e=Y;if(Y=ie=j,j=ie+_e,ae=_e,f.Xb=(1<<D(f.m,2))-1,_e<3*(ce=f.Xb))N=7;else{for(ie+=3*ce,ae-=3*ce,_e=0;_e<ce;++_e){var Ne=N[Y+0]|N[Y+1]<<8|N[Y+2]<<16;Ne>ae&&(Ne=ae),L(f.Jc[+_e],N,ie,Ne),ie+=Ne,ae-=Ne,Y+=3}L(f.Jc[+ce],N,ie,ae),N=ie<j?0:5}if(N!=0)return Tr(f,N,"cannot parse partitions");for(N=D(ie=f.m,7),Y=V(ie)?q(ie,4):0,j=V(ie)?q(ie,4):0,ae=V(ie)?q(ie,4):0,ce=V(ie)?q(ie,4):0,ie=V(ie)?q(ie,4):0,_e=f.Qa,Ne=0;4>Ne;++Ne){if(_e.Cb){var Te=_e.Zb[Ne];_e.Fb||(Te+=N)}else{if(0<Ne){f.pb[Ne]=f.pb[0];continue}Te=N}var Pe=f.pb[Ne];Pe.Sc[0]=Hf[oa(Te+Y,127)],Pe.Sc[1]=zf[oa(Te+0,127)],Pe.Eb[0]=2*Hf[oa(Te+j,127)],Pe.Eb[1]=101581*zf[oa(Te+ae,127)]>>16,8>Pe.Eb[1]&&(Pe.Eb[1]=8),Pe.Qc[0]=Hf[oa(Te+ce,117)],Pe.Qc[1]=zf[oa(Te+ie,127)],Pe.lc=Te+ie}if(!te.Rb)return Tr(f,4,"Not a key frame.");for(V(ee),te=f.Pa,N=0;4>N;++N){for(Y=0;8>Y;++Y)for(j=0;3>j;++j)for(ae=0;11>ae;++ae)ce=Z(ee,d3[N][Y][j][ae])?D(ee,8):u3[N][Y][j][ae],te.Wc[N][Y].Yb[j][ae]=ce;for(Y=0;17>Y;++Y)te.Xc[N][Y]=te.Wc[N][h3[Y]]}return f.kc=V(ee),f.kc&&(f.Bd=D(ee,8)),f.cb=1}function dd(f,m,N,j,Y,ee,te){var ae=m[Y].Yb[N];for(N=0;16>Y;++Y){if(!Z(f,ae[N+0]))return Y;for(;!Z(f,ae[N+1]);)if(ae=m[++Y].Yb[0],N=0,Y==16)return 16;var ie=m[Y+1].Yb;if(Z(f,ae[N+2])){var ce=f,_e=0;if(Z(ce,(Te=ae)[(Ne=N)+3]))if(Z(ce,Te[Ne+6])){for(ae=0,Ne=2*(_e=Z(ce,Te[Ne+8]))+(Te=Z(ce,Te[Ne+9+_e])),_e=0,Te=o3[Ne];Te[ae];++ae)_e+=_e+Z(ce,Te[ae]);_e+=3+(8<<Ne)}else Z(ce,Te[Ne+7])?(_e=7+2*Z(ce,165),_e+=Z(ce,145)):_e=5+Z(ce,159);else _e=Z(ce,Te[Ne+4])?3+Z(ce,Te[Ne+5]):2;ae=ie[2]}else _e=1,ae=ie[1];ie=te+l3[Y],0>(ce=f).b&&_(ce);var Ne,Te=ce.b,Pe=(Ne=ce.Ca>>1)-(ce.I>>Te)>>31;--ce.b,ce.Ca+=Pe,ce.Ca|=1,ce.I-=(Ne+1&Pe)<<Te,ee[ie]=((_e^Pe)-Pe)*j[(0<Y)+0]}return 16}function zl(f){var m=f.rb[f.sb-1];m.la=0,m.Na=0,a(f.zc,0,0,f.zc.length),f.ja=0}function wf(f,m){if(f==null)return 0;if(m==null)return Tr(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!cd(f,m))return 0;if(t(f.cb),m.ac==null||m.ac(m)){m.ob&&(f.L=0);var N=Bd[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=m.v-N>>4,f.zb=m.j-N>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=m.o+15+N>>4,f.Hb=m.va+15+N>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var j=f.ed;for(N=0;4>N;++N){var Y;if(f.Qa.Cb){var ee=f.Qa.Lb[N];f.Qa.Fb||(ee+=j.Tb)}else ee=j.Tb;for(Y=0;1>=Y;++Y){var te=f.gd[N][Y],ae=ee;if(j.Pc&&(ae+=j.vd[0],Y&&(ae+=j.od[0])),0<(ae=0>ae?0:63<ae?63:ae)){var ie=ae;0<j.wb&&(ie=4<j.wb?ie>>2:ie>>1)>9-j.wb&&(ie=9-j.wb),1>ie&&(ie=1),te.dd=ie,te.tc=2*ae+ie,te.ld=40<=ae?2:15<=ae?1:0}else te.tc=0;te.La=Y}}}N=0}else Tr(f,6,"Frame setup failed"),N=f.a;if(N=N==0){if(N){f.$c=0,0<f.Aa||(f.Ic=A3);e:{N=f.Ic,j=4*(ie=f.za);var ce=32*ie,_e=ie+1,Ne=0<f.L?ie*(0<f.Aa?2:1):0,Te=(f.Aa==2?2:1)*ie;if((te=j+832+(Y=3*(16*N+Bd[f.L])/2*ce)+(ee=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=te)N=0;else{if(te>f.Vb){if(f.Vb=0,f.Ec=i(te),f.Fc=0,f.Ec==null){N=Tr(f,1,"no memory during frame initialization.");break e}f.Vb=te}te=f.Ec,ae=f.Fc,f.Ac=te,f.Bc=ae,ae+=j,f.Gd=s(ce,ld),f.Hd=0,f.rb=s(_e+1,od),f.sb=1,f.wa=Ne?s(Ne,Po):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=ie),t(!0),f.oc=te,f.pc=ae,ae+=832,f.ya=s(Te,Hl),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=ie),f.R=16*ie,f.B=8*ie,ie=(ce=Bd[f.L])*f.R,ce=ce/2*f.B,f.sa=te,f.ta=ae+ie,f.qa=f.sa,f.ra=f.ta+16*N*f.R+ce,f.Ha=f.qa,f.Ia=f.ra+8*N*f.B+ce,f.$c=0,ae+=Y,f.mb=ee?te:null,f.nb=ee?ae:null,t(ae+ee<=f.Fc+f.Vb),zl(f),a(f.Ac,f.Bc,0,j),N=1}}if(N){if(m.ka=0,m.y=f.sa,m.O=f.ta,m.f=f.qa,m.N=f.ra,m.ea=f.Ha,m.Vd=f.Ia,m.fa=f.R,m.Rc=f.B,m.F=null,m.J=0,!Td){for(N=-255;255>=N;++N)Xr[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)Ci[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)pu[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)Ho[255+N]=0>N?0:255<N?255:N;Td=1}Uo=kf,Pi=Sf,du=fd,Mn=xf,ba=pd,Or=hd,Vo=Ql,Nd=$s,hu=Ff,Gs=Zl,Hs=If,Zi=Ro,zs=eu,Go=xd,Ws=Sd,es=ai,fu=xi,_a=Df,Fa[0]=ni,Fa[1]=Af,Fa[2]=Nf,Fa[3]=Tf,Fa[4]=vd,Fa[5]=Oo,Fa[6]=yd,Fa[7]=Kl,Fa[8]=Ef,Fa[9]=Of,ts[0]=gd,ts[1]=Cf,ts[2]=Si,ts[3]=No,ts[4]=wn,ts[5]=Lf,ts[6]=md,Li[0]=Yi,Li[1]=Pf,Li[2]=Rf,Li[3]=Xl,Li[4]=qs,Li[5]=Mf,Li[6]=Jl,N=1}else N=0}N&&(N=function(Pe,$e){for(Pe.M=0;Pe.M<Pe.Va;++Pe.M){var Re,we=Pe.Jc[Pe.M&Pe.Xb],xe=Pe.m,Be=Pe;for(Re=0;Re<Be.za;++Re){var Ge=xe,qe=Be,st=qe.Ac,et=qe.Bc+4*Re,mt=qe.zc,tt=qe.ya[qe.aa+Re];if(qe.Qa.Bb?tt.$b=Z(Ge,qe.Pa.jb[0])?2+Z(Ge,qe.Pa.jb[2]):Z(Ge,qe.Pa.jb[1]):tt.$b=0,qe.kc&&(tt.Ad=Z(Ge,qe.Bd)),tt.Za=!Z(Ge,145)+0,tt.Za){var zt=tt.Ob,Qt=0;for(qe=0;4>qe;++qe){var Gt,Ft=mt[0+qe];for(Gt=0;4>Gt;++Gt){Ft=c3[st[et+Gt]][Ft];for(var or=Up[Z(Ge,Ft[0])];0<or;)or=Up[2*or+Z(Ge,Ft[or])];Ft=-or,st[et+Gt]=Ft}n(zt,Qt,st,et,4),Qt+=4,mt[0+qe]=Ft}}else Ft=Z(Ge,156)?Z(Ge,128)?1:3:Z(Ge,163)?2:0,tt.Ob[0]=Ft,a(st,et,Ft,4),a(mt,0,Ft,4);tt.Dd=Z(Ge,142)?Z(Ge,114)?Z(Ge,183)?1:3:2:0}if(Be.m.Ka)return Tr(Pe,7,"Premature end-of-partition0 encountered.");for(;Pe.ja<Pe.za;++Pe.ja){if(Be=we,Ge=(xe=Pe).rb[xe.sb-1],st=xe.rb[xe.sb+xe.ja],Re=xe.ya[xe.aa+xe.ja],et=xe.kc?Re.Ad:0)Ge.la=st.la=0,Re.Za||(Ge.Na=st.Na=0),Re.Hc=0,Re.Gc=0,Re.ia=0;else{var ar,Ot;if(Ge=st,st=Be,et=xe.Pa.Xc,mt=xe.ya[xe.aa+xe.ja],tt=xe.pb[mt.$b],qe=mt.ad,zt=0,Qt=xe.rb[xe.sb-1],Ft=Gt=0,a(qe,zt,0,384),mt.Za)var Gr=0,Jn=et[3];else{or=i(16);var Hr=Ge.Na+Qt.Na;if(Hr=gu(st,et[1],Hr,tt.Eb,0,or,0),Ge.Na=Qt.Na=(0<Hr)+0,1<Hr)Uo(or,0,qe,zt);else{var Qn=or[0]+3>>3;for(or=0;256>or;or+=16)qe[zt+or]=Qn}Gr=1,Jn=et[0]}var Zt=15&Ge.la,ua=15&Qt.la;for(or=0;4>or;++or){var ca=1&ua;for(Qn=Ot=0;4>Qn;++Qn)Zt=Zt>>1|(ca=(Hr=gu(st,Jn,Hr=ca+(1&Zt),tt.Sc,Gr,qe,zt))>Gr)<<7,Ot=Ot<<2|(3<Hr?3:1<Hr?2:qe[zt+0]!=0),zt+=16;Zt>>=4,ua=ua>>1|ca<<7,Gt=(Gt<<8|Ot)>>>0}for(Jn=Zt,Gr=ua>>4,ar=0;4>ar;ar+=2){for(Ot=0,Zt=Ge.la>>4+ar,ua=Qt.la>>4+ar,or=0;2>or;++or){for(ca=1&ua,Qn=0;2>Qn;++Qn)Hr=ca+(1&Zt),Zt=Zt>>1|(ca=0<(Hr=gu(st,et[2],Hr,tt.Qc,0,qe,zt)))<<3,Ot=Ot<<2|(3<Hr?3:1<Hr?2:qe[zt+0]!=0),zt+=16;Zt>>=2,ua=ua>>1|ca<<5}Ft|=Ot<<4*ar,Jn|=Zt<<4<<ar,Gr|=(240&ua)<<ar}Ge.la=Jn,Qt.la=Gr,mt.Hc=Gt,mt.Gc=Ft,mt.ia=43690&Ft?0:tt.ia,et=!(Gt|Ft)}if(0<xe.L&&(xe.wa[xe.Y+xe.ja]=xe.gd[Re.$b][Re.Za],xe.wa[xe.Y+xe.ja].La|=!et),Be.Ka)return Tr(Pe,7,"Premature end-of-file encountered.")}if(zl(Pe),xe=$e,Be=1,Re=(we=Pe).D,Ge=0<we.L&&we.M>=we.zb&&we.M<=we.Va,we.Aa==0)e:{if(Re.M=we.M,Re.uc=Ge,su(we,Re),Be=1,Re=(Ot=we.D).Nb,Ge=(Ft=Bd[we.L])*we.R,st=Ft/2*we.B,or=16*Re*we.R,Qn=8*Re*we.B,et=we.sa,mt=we.ta-Ge+or,tt=we.qa,qe=we.ra-st+Qn,zt=we.Ha,Qt=we.Ia-st+Qn,ua=(Zt=Ot.M)==0,Gt=Zt>=we.Va-1,we.Aa==2&&su(we,Ot),Ot.uc)for(ca=(Hr=we).D.M,t(Hr.D.uc),Ot=Hr.yb;Ot<Hr.Hb;++Ot){Gr=Ot,Jn=ca;var nn=(yn=(Ar=Hr).D).Nb;ar=Ar.R;var yn=yn.wa[yn.Y+Gr],Dn=Ar.sa,ka=Ar.ta+16*nn*ar+16*Gr,si=yn.dd,an=yn.tc;if(an!=0)if(t(3<=an),Ar.L==1)0<Gr&&es(Dn,ka,ar,an+4),yn.La&&_a(Dn,ka,ar,an),0<Jn&&Ws(Dn,ka,ar,an+4),yn.La&&fu(Dn,ka,ar,an);else{var Ni=Ar.B,Ys=Ar.qa,zo=Ar.ra+8*nn*Ni+8*Gr,ns=Ar.Ha,Ar=Ar.Ia+8*nn*Ni+8*Gr;nn=yn.ld,0<Gr&&(Nd(Dn,ka,ar,an+4,si,nn),Gs(Ys,zo,ns,Ar,Ni,an+4,si,nn)),yn.La&&(Zi(Dn,ka,ar,an,si,nn),Go(Ys,zo,ns,Ar,Ni,an,si,nn)),0<Jn&&(Vo(Dn,ka,ar,an+4,si,nn),hu(Ys,zo,ns,Ar,Ni,an+4,si,nn)),yn.La&&(Hs(Dn,ka,ar,an,si,nn),zs(Ys,zo,ns,Ar,Ni,an,si,nn))}}if(we.ia&&alert("todo:DitherRow"),xe.put!=null){if(Ot=16*Zt,Zt=16*(Zt+1),ua?(xe.y=we.sa,xe.O=we.ta+or,xe.f=we.qa,xe.N=we.ra+Qn,xe.ea=we.Ha,xe.W=we.Ia+Qn):(Ot-=Ft,xe.y=et,xe.O=mt,xe.f=tt,xe.N=qe,xe.ea=zt,xe.W=Qt),Gt||(Zt-=Ft),Zt>xe.o&&(Zt=xe.o),xe.F=null,xe.J=null,we.Fa!=null&&0<we.Fa.length&&Ot<Zt&&(xe.J=au(we,xe,Ot,Zt-Ot),xe.F=we.mb,xe.F==null&&xe.F.length==0)){Be=Tr(we,3,"Could not decode alpha data.");break e}Ot<xe.j&&(Ft=xe.j-Ot,Ot=xe.j,t(!(1&Ft)),xe.O+=we.R*Ft,xe.N+=we.B*(Ft>>1),xe.W+=we.B*(Ft>>1),xe.F!=null&&(xe.J+=xe.width*Ft)),Ot<Zt&&(xe.O+=xe.v,xe.N+=xe.v>>1,xe.W+=xe.v>>1,xe.F!=null&&(xe.J+=xe.v),xe.ka=Ot-xe.j,xe.U=xe.va-xe.v,xe.T=Zt-Ot,Be=xe.put(xe))}Re+1!=we.Ic||Gt||(n(we.sa,we.ta-Ge,et,mt+16*we.R,Ge),n(we.qa,we.ra-st,tt,qe+8*we.B,st),n(we.Ha,we.Ia-st,zt,Qt+8*we.B,st))}if(!Be)return Tr(Pe,6,"Output aborted.")}return 1}(f,m)),m.bc!=null&&m.bc(m),N&=1}return N?(f.cb=0,N):0}function Ma(f,m,N,j,Y){Y=f[m+N+32*j]+(Y>>3),f[m+N+32*j]=-256&Y?0>Y?0:255:Y}function Lo(f,m,N,j,Y,ee){Ma(f,m,0,N,j+Y),Ma(f,m,1,N,j+ee),Ma(f,m,2,N,j-ee),Ma(f,m,3,N,j-Y)}function Yn(f){return(20091*f>>16)+f}function Wl(f,m,N,j){var Y,ee=0,te=i(16);for(Y=0;4>Y;++Y){var ae=f[m+0]+f[m+8],ie=f[m+0]-f[m+8],ce=(35468*f[m+4]>>16)-Yn(f[m+12]),_e=Yn(f[m+4])+(35468*f[m+12]>>16);te[ee+0]=ae+_e,te[ee+1]=ie+ce,te[ee+2]=ie-ce,te[ee+3]=ae-_e,ee+=4,m++}for(Y=ee=0;4>Y;++Y)ae=(f=te[ee+0]+4)+te[ee+8],ie=f-te[ee+8],ce=(35468*te[ee+4]>>16)-Yn(te[ee+12]),Ma(N,j,0,0,ae+(_e=Yn(te[ee+4])+(35468*te[ee+12]>>16))),Ma(N,j,1,0,ie+ce),Ma(N,j,2,0,ie-ce),Ma(N,j,3,0,ae-_e),ee++,j+=32}function hd(f,m,N,j){var Y=f[m+0]+4,ee=35468*f[m+4]>>16,te=Yn(f[m+4]),ae=35468*f[m+1]>>16;Lo(N,j,0,Y+te,f=Yn(f[m+1]),ae),Lo(N,j,1,Y+ee,f,ae),Lo(N,j,2,Y-ee,f,ae),Lo(N,j,3,Y-te,f,ae)}function Sf(f,m,N,j,Y){Wl(f,m,N,j),Y&&Wl(f,m+16,N,j+4)}function fd(f,m,N,j){Pi(f,m+0,N,j,1),Pi(f,m+32,N,j+128,1)}function xf(f,m,N,j){var Y;for(f=f[m+0]+4,Y=0;4>Y;++Y)for(m=0;4>m;++m)Ma(N,j,m,Y,f)}function pd(f,m,N,j){f[m+0]&&Mn(f,m+0,N,j),f[m+16]&&Mn(f,m+16,N,j+4),f[m+32]&&Mn(f,m+32,N,j+128),f[m+48]&&Mn(f,m+48,N,j+128+4)}function kf(f,m,N,j){var Y,ee=i(16);for(Y=0;4>Y;++Y){var te=f[m+0+Y]+f[m+12+Y],ae=f[m+4+Y]+f[m+8+Y],ie=f[m+4+Y]-f[m+8+Y],ce=f[m+0+Y]-f[m+12+Y];ee[0+Y]=te+ae,ee[8+Y]=te-ae,ee[4+Y]=ce+ie,ee[12+Y]=ce-ie}for(Y=0;4>Y;++Y)te=(f=ee[0+4*Y]+3)+ee[3+4*Y],ae=ee[1+4*Y]+ee[2+4*Y],ie=ee[1+4*Y]-ee[2+4*Y],ce=f-ee[3+4*Y],N[j+0]=te+ae>>3,N[j+16]=ce+ie>>3,N[j+32]=te-ae>>3,N[j+48]=ce-ie>>3,j+=64}function Yl(f,m,N){var j,Y=m-32,ee=la,te=255-f[Y-1];for(j=0;j<N;++j){var ae,ie=ee,ce=te+f[m-1];for(ae=0;ae<N;++ae)f[m+ae]=ie[ce+f[Y+ae]];m+=32}}function Af(f,m){Yl(f,m,4)}function Pf(f,m){Yl(f,m,8)}function Cf(f,m){Yl(f,m,16)}function Si(f,m){var N;for(N=0;16>N;++N)n(f,m+32*N,f,m-32,16)}function No(f,m){var N;for(N=16;0<N;--N)a(f,m,f[m-1],16),m+=32}function To(f,m,N){var j;for(j=0;16>j;++j)a(m,N+32*j,f,16)}function gd(f,m){var N,j=16;for(N=0;16>N;++N)j+=f[m-1+32*N]+f[m+N-32];To(j>>5,f,m)}function wn(f,m){var N,j=8;for(N=0;16>N;++N)j+=f[m-1+32*N];To(j>>4,f,m)}function Lf(f,m){var N,j=8;for(N=0;16>N;++N)j+=f[m+N-32];To(j>>4,f,m)}function md(f,m){To(128,f,m)}function Pt(f,m,N){return f+2*m+N+2>>2}function Nf(f,m){var N,j=m-32;for(j=new Uint8Array([Pt(f[j-1],f[j+0],f[j+1]),Pt(f[j+0],f[j+1],f[j+2]),Pt(f[j+1],f[j+2],f[j+3]),Pt(f[j+2],f[j+3],f[j+4])]),N=0;4>N;++N)n(f,m+32*N,j,0,j.length)}function Tf(f,m){var N=f[m-1],j=f[m-1+32],Y=f[m-1+64],ee=f[m-1+96];fe(f,m+0,16843009*Pt(f[m-1-32],N,j)),fe(f,m+32,16843009*Pt(N,j,Y)),fe(f,m+64,16843009*Pt(j,Y,ee)),fe(f,m+96,16843009*Pt(Y,ee,ee))}function ni(f,m){var N,j=4;for(N=0;4>N;++N)j+=f[m+N-32]+f[m-1+32*N];for(j>>=3,N=0;4>N;++N)a(f,m+32*N,j,4)}function vd(f,m){var N=f[m-1+0],j=f[m-1+32],Y=f[m-1+64],ee=f[m-1-32],te=f[m+0-32],ae=f[m+1-32],ie=f[m+2-32],ce=f[m+3-32];f[m+0+96]=Pt(j,Y,f[m-1+96]),f[m+1+96]=f[m+0+64]=Pt(N,j,Y),f[m+2+96]=f[m+1+64]=f[m+0+32]=Pt(ee,N,j),f[m+3+96]=f[m+2+64]=f[m+1+32]=f[m+0+0]=Pt(te,ee,N),f[m+3+64]=f[m+2+32]=f[m+1+0]=Pt(ae,te,ee),f[m+3+32]=f[m+2+0]=Pt(ie,ae,te),f[m+3+0]=Pt(ce,ie,ae)}function yd(f,m){var N=f[m+1-32],j=f[m+2-32],Y=f[m+3-32],ee=f[m+4-32],te=f[m+5-32],ae=f[m+6-32],ie=f[m+7-32];f[m+0+0]=Pt(f[m+0-32],N,j),f[m+1+0]=f[m+0+32]=Pt(N,j,Y),f[m+2+0]=f[m+1+32]=f[m+0+64]=Pt(j,Y,ee),f[m+3+0]=f[m+2+32]=f[m+1+64]=f[m+0+96]=Pt(Y,ee,te),f[m+3+32]=f[m+2+64]=f[m+1+96]=Pt(ee,te,ae),f[m+3+64]=f[m+2+96]=Pt(te,ae,ie),f[m+3+96]=Pt(ae,ie,ie)}function Oo(f,m){var N=f[m-1+0],j=f[m-1+32],Y=f[m-1+64],ee=f[m-1-32],te=f[m+0-32],ae=f[m+1-32],ie=f[m+2-32],ce=f[m+3-32];f[m+0+0]=f[m+1+64]=ee+te+1>>1,f[m+1+0]=f[m+2+64]=te+ae+1>>1,f[m+2+0]=f[m+3+64]=ae+ie+1>>1,f[m+3+0]=ie+ce+1>>1,f[m+0+96]=Pt(Y,j,N),f[m+0+64]=Pt(j,N,ee),f[m+0+32]=f[m+1+96]=Pt(N,ee,te),f[m+1+32]=f[m+2+96]=Pt(ee,te,ae),f[m+2+32]=f[m+3+96]=Pt(te,ae,ie),f[m+3+32]=Pt(ae,ie,ce)}function Kl(f,m){var N=f[m+0-32],j=f[m+1-32],Y=f[m+2-32],ee=f[m+3-32],te=f[m+4-32],ae=f[m+5-32],ie=f[m+6-32],ce=f[m+7-32];f[m+0+0]=N+j+1>>1,f[m+1+0]=f[m+0+64]=j+Y+1>>1,f[m+2+0]=f[m+1+64]=Y+ee+1>>1,f[m+3+0]=f[m+2+64]=ee+te+1>>1,f[m+0+32]=Pt(N,j,Y),f[m+1+32]=f[m+0+96]=Pt(j,Y,ee),f[m+2+32]=f[m+1+96]=Pt(Y,ee,te),f[m+3+32]=f[m+2+96]=Pt(ee,te,ae),f[m+3+64]=Pt(te,ae,ie),f[m+3+96]=Pt(ae,ie,ce)}function Of(f,m){var N=f[m-1+0],j=f[m-1+32],Y=f[m-1+64],ee=f[m-1+96];f[m+0+0]=N+j+1>>1,f[m+2+0]=f[m+0+32]=j+Y+1>>1,f[m+2+32]=f[m+0+64]=Y+ee+1>>1,f[m+1+0]=Pt(N,j,Y),f[m+3+0]=f[m+1+32]=Pt(j,Y,ee),f[m+3+32]=f[m+1+64]=Pt(Y,ee,ee),f[m+3+64]=f[m+2+64]=f[m+0+96]=f[m+1+96]=f[m+2+96]=f[m+3+96]=ee}function Ef(f,m){var N=f[m-1+0],j=f[m-1+32],Y=f[m-1+64],ee=f[m-1+96],te=f[m-1-32],ae=f[m+0-32],ie=f[m+1-32],ce=f[m+2-32];f[m+0+0]=f[m+2+32]=N+te+1>>1,f[m+0+32]=f[m+2+64]=j+N+1>>1,f[m+0+64]=f[m+2+96]=Y+j+1>>1,f[m+0+96]=ee+Y+1>>1,f[m+3+0]=Pt(ae,ie,ce),f[m+2+0]=Pt(te,ae,ie),f[m+1+0]=f[m+3+32]=Pt(N,te,ae),f[m+1+32]=f[m+3+64]=Pt(j,N,te),f[m+1+64]=f[m+3+96]=Pt(Y,j,N),f[m+1+96]=Pt(ee,Y,j)}function Rf(f,m){var N;for(N=0;8>N;++N)n(f,m+32*N,f,m-32,8)}function Xl(f,m){var N;for(N=0;8>N;++N)a(f,m,f[m-1],8),m+=32}function Bs(f,m,N){var j;for(j=0;8>j;++j)a(m,N+32*j,f,8)}function Yi(f,m){var N,j=8;for(N=0;8>N;++N)j+=f[m+N-32]+f[m-1+32*N];Bs(j>>4,f,m)}function Mf(f,m){var N,j=4;for(N=0;8>N;++N)j+=f[m+N-32];Bs(j>>3,f,m)}function qs(f,m){var N,j=4;for(N=0;8>N;++N)j+=f[m-1+32*N];Bs(j>>3,f,m)}function Jl(f,m){Bs(128,f,m)}function Eo(f,m,N){var j=f[m-N],Y=f[m+0],ee=3*(Y-j)+qf[1020+f[m-2*N]-f[m+N]],te=Od[112+(ee+4>>3)];f[m-N]=la[255+j+Od[112+(ee+3>>3)]],f[m+0]=la[255+Y-te]}function bd(f,m,N,j){var Y=f[m+0],ee=f[m+N];return Sa[255+f[m-2*N]-f[m-N]]>j||Sa[255+ee-Y]>j}function _d(f,m,N,j){return 4*Sa[255+f[m-N]-f[m+0]]+Sa[255+f[m-2*N]-f[m+N]]<=j}function wd(f,m,N,j,Y){var ee=f[m-3*N],te=f[m-2*N],ae=f[m-N],ie=f[m+0],ce=f[m+N],_e=f[m+2*N],Ne=f[m+3*N];return 4*Sa[255+ae-ie]+Sa[255+te-ce]>j?0:Sa[255+f[m-4*N]-ee]<=Y&&Sa[255+ee-te]<=Y&&Sa[255+te-ae]<=Y&&Sa[255+Ne-_e]<=Y&&Sa[255+_e-ce]<=Y&&Sa[255+ce-ie]<=Y}function Sd(f,m,N,j){var Y=2*j+1;for(j=0;16>j;++j)_d(f,m+j,N,Y)&&Eo(f,m+j,N)}function ai(f,m,N,j){var Y=2*j+1;for(j=0;16>j;++j)_d(f,m+j*N,1,Y)&&Eo(f,m+j*N,1)}function xi(f,m,N,j){var Y;for(Y=3;0<Y;--Y)Sd(f,m+=4*N,N,j)}function Df(f,m,N,j){var Y;for(Y=3;0<Y;--Y)ai(f,m+=4,N,j)}function Ki(f,m,N,j,Y,ee,te,ae){for(ee=2*ee+1;0<Y--;){if(wd(f,m,N,ee,te))if(bd(f,m,N,ae))Eo(f,m,N);else{var ie=f,ce=m,_e=N,Ne=ie[ce-2*_e],Te=ie[ce-_e],Pe=ie[ce+0],$e=ie[ce+_e],Re=ie[ce+2*_e],we=27*(Be=qf[1020+3*(Pe-Te)+qf[1020+Ne-$e]])+63>>7,xe=18*Be+63>>7,Be=9*Be+63>>7;ie[ce-3*_e]=la[255+ie[ce-3*_e]+Be],ie[ce-2*_e]=la[255+Ne+xe],ie[ce-_e]=la[255+Te+we],ie[ce+0]=la[255+Pe-we],ie[ce+_e]=la[255+$e-xe],ie[ce+2*_e]=la[255+Re-Be]}m+=j}}function Da(f,m,N,j,Y,ee,te,ae){for(ee=2*ee+1;0<Y--;){if(wd(f,m,N,ee,te))if(bd(f,m,N,ae))Eo(f,m,N);else{var ie=f,ce=m,_e=N,Ne=ie[ce-_e],Te=ie[ce+0],Pe=ie[ce+_e],$e=Od[112+((Re=3*(Te-Ne))+4>>3)],Re=Od[112+(Re+3>>3)],we=$e+1>>1;ie[ce-2*_e]=la[255+ie[ce-2*_e]+we],ie[ce-_e]=la[255+Ne+Re],ie[ce+0]=la[255+Te-$e],ie[ce+_e]=la[255+Pe-we]}m+=j}}function Ql(f,m,N,j,Y,ee){Ki(f,m,N,1,16,j,Y,ee)}function $s(f,m,N,j,Y,ee){Ki(f,m,1,N,16,j,Y,ee)}function If(f,m,N,j,Y,ee){var te;for(te=3;0<te;--te)Da(f,m+=4*N,N,1,16,j,Y,ee)}function Ro(f,m,N,j,Y,ee){var te;for(te=3;0<te;--te)Da(f,m+=4,1,N,16,j,Y,ee)}function Ff(f,m,N,j,Y,ee,te,ae){Ki(f,m,Y,1,8,ee,te,ae),Ki(N,j,Y,1,8,ee,te,ae)}function Zl(f,m,N,j,Y,ee,te,ae){Ki(f,m,1,Y,8,ee,te,ae),Ki(N,j,1,Y,8,ee,te,ae)}function eu(f,m,N,j,Y,ee,te,ae){Da(f,m+4*Y,Y,1,8,ee,te,ae),Da(N,j+4*Y,Y,1,8,ee,te,ae)}function xd(f,m,N,j,Y,ee,te,ae){Da(f,m+4,1,Y,8,ee,te,ae),Da(N,j+4,1,Y,8,ee,te,ae)}function Mo(){this.ba=new vt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Je,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function tu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ru(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function kd(){this.ua=0,this.Wa=new H,this.vb=new H,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new k,this.yc=new E}function jf(){this.xb=this.a=0,this.l=new Co,this.ca=new vt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new kd,this.ab=0,this.gc=s(4,ru),this.Oc=0}function Do(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Co,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Us(f,m,N,j,Y,ee,te){for(f=f==null?0:f[m+0],m=0;m<te;++m)Y[ee+m]=f+N[j+m]&255,f=Y[ee+m]}function nu(f,m,N,j,Y,ee,te){var ae;if(f==null)Us(null,null,N,j,Y,ee,te);else for(ae=0;ae<te;++ae)Y[ee+ae]=f[m+ae]+N[j+ae]&255}function Xi(f,m,N,j,Y,ee,te){if(f==null)Us(null,null,N,j,Y,ee,te);else{var ae,ie=f[m+0],ce=ie,_e=ie;for(ae=0;ae<te;++ae)ce=_e+(ie=f[m+ae])-ce,_e=N[j+ae]+(-256&ce?0>ce?0:255:ce)&255,ce=ie,Y[ee+ae]=_e}}function au(f,m,N,j){var Y=m.width,ee=m.o;if(t(f!=null&&m!=null),0>N||0>=j||N+j>ee)return null;if(!f.Cc){if(f.ga==null){var te;if(f.ga=new Do,(te=f.ga==null)||(te=m.width*m.o,t(f.Gb.length==0),f.Gb=i(te),f.Uc=0,f.Gb==null?te=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,te=1),te=!te),!te){te=f.ga;var ae=f.Fa,ie=f.P,ce=f.qc,_e=f.mb,Ne=f.nb,Te=ie+1,Pe=ce-1,$e=te.l;if(t(ae!=null&&_e!=null&&m!=null),rs[0]=null,rs[1]=Us,rs[2]=nu,rs[3]=Xi,te.ca=_e,te.tb=Ne,te.c=m.width,te.i=m.height,t(0<te.c&&0<te.i),1>=ce)m=0;else if(te.$a=ae[ie+0]>>0&3,te.Z=ae[ie+0]>>2&3,te.Lc=ae[ie+0]>>4&3,ie=ae[ie+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||ie)m=0;else if($e.put=Yr,$e.ac=gr,$e.bc=zn,$e.ma=te,$e.width=m.width,$e.height=m.height,$e.Da=m.Da,$e.v=m.v,$e.va=m.va,$e.j=m.j,$e.o=m.o,te.$a)e:{t(te.$a==1),m=va();t:for(;;){if(m==null){m=0;break e}if(t(te!=null),te.mc=m,m.c=te.c,m.i=te.i,m.l=te.l,m.l.ma=te,m.l.width=te.c,m.l.height=te.i,m.a=0,W(m.m,ae,Te,Pe),!ri(te.c,te.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&wi(m.s)?(te.ic=1,ae=m.c*m.i,m.Ta=null,m.Ua=0,m.V=i(ae),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(te.ic=0,m=js(m,te.c)),!m))break t;m=1;break e}te.mc=null,m=0}else m=Pe>=te.c*te.i;te=!m}if(te)return null;f.ga.Lc!=1?f.Ga=0:j=ee-N}t(f.ga!=null),t(N+j<=ee);e:{if(m=(ae=f.ga).c,ee=ae.l.o,ae.$a==0){if(Te=f.rc,Pe=f.Vc,$e=f.Fa,ie=f.P+1+N*m,ce=f.mb,_e=f.nb+N*m,t(ie<=f.P+f.qc),ae.Z!=0)for(t(rs[ae.Z]!=null),te=0;te<j;++te)rs[ae.Z](Te,Pe,$e,ie,ce,_e,m),Te=ce,Pe=_e,_e+=m,ie+=m;else for(te=0;te<j;++te)n(ce,_e,$e,ie,m),Te=ce,Pe=_e,_e+=m,ie+=m;f.rc=Te,f.Vc=Pe}else{if(t(ae.mc!=null),m=N+j,t((te=ae.mc)!=null),t(m<=te.i),te.C>=m)m=1;else if(ae.ic||Le(),ae.ic){ae=te.V,Te=te.Ba,Pe=te.c;var Re=te.i,we=($e=1,ie=te.$/Pe,ce=te.$%Pe,_e=te.m,Ne=te.s,te.$),xe=Pe*Re,Be=Pe*m,Ge=Ne.wc,qe=we<Be?Ur(Ne,ce,ie):null;t(we<=xe),t(m<=Re),t(wi(Ne));t:for(;;){for(;!_e.h&&we<Be;){if(ce&Ge||(qe=Ur(Ne,ce,ie)),t(qe!=null),re(_e),256>(Re=Wn(qe.G[0],qe.H[0],_e)))ae[Te+we]=Re,++we,++ce>=Pe&&(ce=0,++ie<=m&&!(ie%16)&&Ea(te,ie));else{if(!(280>Re)){$e=0;break t}Re=Ta(Re-256,_e);var st,et=Wn(qe.G[4],qe.H[4],_e);if(re(_e),!(we>=(et=ei(Pe,et=Ta(et,_e)))&&xe-we>=Re)){$e=0;break t}for(st=0;st<Re;++st)ae[Te+we+st]=ae[Te+we+st-et];for(we+=Re,ce+=Re;ce>=Pe;)ce-=Pe,++ie<=m&&!(ie%16)&&Ea(te,ie);we<Be&&ce&Ge&&(qe=Ur(Ne,ce,ie))}t(_e.h==G(_e))}Ea(te,ie>m?m:ie);break t}!$e||_e.h&&we<xe?($e=0,te.a=_e.h?5:3):te.$=we,m=$e}else m=Ra(te,te.V,te.Ba,te.c,te.i,m,So);if(!m){j=0;break e}}N+j>=ee&&(f.Cc=1),j=1}if(!j)return null;if(f.Cc&&((j=f.ga)!=null&&(j.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+N*Y}function A(f,m,N,j,Y,ee){for(;0<Y--;){var te,ae=f,ie=m+(N?1:0),ce=f,_e=m+(N?0:3);for(te=0;te<j;++te){var Ne=ce[_e+4*te];Ne!=255&&(Ne*=32897,ae[ie+4*te+0]=ae[ie+4*te+0]*Ne>>23,ae[ie+4*te+1]=ae[ie+4*te+1]*Ne>>23,ae[ie+4*te+2]=ae[ie+4*te+2]*Ne>>23)}m+=ee}}function K(f,m,N,j,Y){for(;0<j--;){var ee;for(ee=0;ee<N;++ee){var te=f[m+2*ee+0],ae=15&(ce=f[m+2*ee+1]),ie=4369*ae,ce=(240&ce|ce>>4)*ie>>16;f[m+2*ee+0]=(240&te|te>>4)*ie>>16&240|(15&te|te<<4)*ie>>16>>4&15,f[m+2*ee+1]=240&ce|ae}m+=Y}}function he(f,m,N,j,Y,ee,te,ae){var ie,ce,_e=255;for(ce=0;ce<Y;++ce){for(ie=0;ie<j;++ie){var Ne=f[m+ie];ee[te+4*ie]=Ne,_e&=Ne}m+=N,te+=ae}return _e!=255}function ye(f,m,N,j,Y){var ee;for(ee=0;ee<Y;++ee)N[j+ee]=f[m+ee]>>8}function Le(){wa=A,cr=K,dr=he,Er=ye}function De(f,m,N){O[f]=function(j,Y,ee,te,ae,ie,ce,_e,Ne,Te,Pe,$e,Re,we,xe,Be,Ge){var qe,st=Ge-1>>1,et=ae[ie+0]|ce[_e+0]<<16,mt=Ne[Te+0]|Pe[$e+0]<<16;t(j!=null);var tt=3*et+mt+131074>>2;for(m(j[Y+0],255&tt,tt>>16,Re,we),ee!=null&&(tt=3*mt+et+131074>>2,m(ee[te+0],255&tt,tt>>16,xe,Be)),qe=1;qe<=st;++qe){var zt=ae[ie+qe]|ce[_e+qe]<<16,Qt=Ne[Te+qe]|Pe[$e+qe]<<16,Gt=et+zt+mt+Qt+524296,Ft=Gt+2*(zt+mt)>>3;tt=Ft+et>>1,et=(Gt=Gt+2*(et+Qt)>>3)+zt>>1,m(j[Y+2*qe-1],255&tt,tt>>16,Re,we+(2*qe-1)*N),m(j[Y+2*qe-0],255&et,et>>16,Re,we+(2*qe-0)*N),ee!=null&&(tt=Gt+mt>>1,et=Ft+Qt>>1,m(ee[te+2*qe-1],255&tt,tt>>16,xe,Be+(2*qe-1)*N),m(ee[te+2*qe+0],255&et,et>>16,xe,Be+(2*qe+0)*N)),et=zt,mt=Qt}1&Ge||(tt=3*et+mt+131074>>2,m(j[Y+Ge-1],255&tt,tt>>16,Re,we+(Ge-1)*N),ee!=null&&(tt=3*mt+et+131074>>2,m(ee[te+Ge-1],255&tt,tt>>16,xe,Be+(Ge-1)*N)))}}function We(){xa[Ed]=p3,xa[Rd]=Gp,xa[Bp]=g3,xa[Md]=Hp,xa[Dd]=zp,xa[$f]=Wp,xa[qp]=m3,xa[Uf]=Gp,xa[Vf]=Hp,xa[Id]=zp,xa[Gf]=Wp}function it(f){return f&-16384?0>f?0:255:f>>v3}function ht(f,m){return it((19077*f>>8)+(26149*m>>8)-14234)}function Tt(f,m,N){return it((19077*f>>8)-(6419*m>>8)-(13320*N>>8)+8708)}function Lt(f,m){return it((19077*f>>8)+(33050*m>>8)-17685)}function Vt(f,m,N,j,Y){j[Y+0]=ht(f,N),j[Y+1]=Tt(f,m,N),j[Y+2]=Lt(f,m)}function Sr(f,m,N,j,Y){j[Y+0]=Lt(f,m),j[Y+1]=Tt(f,m,N),j[Y+2]=ht(f,N)}function kr(f,m,N,j,Y){var ee=Tt(f,m,N);m=ee<<3&224|Lt(f,m)>>3,j[Y+0]=248&ht(f,N)|ee>>5,j[Y+1]=m}function Vr(f,m,N,j,Y){var ee=240&Lt(f,m)|15;j[Y+0]=240&ht(f,N)|Tt(f,m,N)>>4,j[Y+1]=ee}function Sn(f,m,N,j,Y){j[Y+0]=255,Vt(f,m,N,j,Y+1)}function rn(f,m,N,j,Y){Sr(f,m,N,j,Y),j[Y+3]=255}function Ia(f,m,N,j,Y){Vt(f,m,N,j,Y),j[Y+3]=255}function oa(f,m){return 0>f?0:f>m?m:f}function ii(f,m,N){O[f]=function(j,Y,ee,te,ae,ie,ce,_e,Ne){for(var Te=_e+(-2&Ne)*N;_e!=Te;)m(j[Y+0],ee[te+0],ae[ie+0],ce,_e),m(j[Y+1],ee[te+0],ae[ie+0],ce,_e+N),Y+=2,++te,++ie,_e+=2*N;1&Ne&&m(j[Y+0],ee[te+0],ae[ie+0],ce,_e)}}function Ad(f,m,N){return N==0?f==0?m==0?6:5:m==0?4:0:N}function iu(f,m,N,j,Y){switch(f>>>30){case 3:Pi(m,N,j,Y,0);break;case 2:Or(m,N,j,Y);break;case 1:Mn(m,N,j,Y)}}function su(f,m){var N,j,Y=m.M,ee=m.Nb,te=f.oc,ae=f.pc+40,ie=f.oc,ce=f.pc+584,_e=f.oc,Ne=f.pc+600;for(N=0;16>N;++N)te[ae+32*N-1]=129;for(N=0;8>N;++N)ie[ce+32*N-1]=129,_e[Ne+32*N-1]=129;for(0<Y?te[ae-1-32]=ie[ce-1-32]=_e[Ne-1-32]=129:(a(te,ae-32-1,127,21),a(ie,ce-32-1,127,9),a(_e,Ne-32-1,127,9)),j=0;j<f.za;++j){var Te=m.ya[m.aa+j];if(0<j){for(N=-1;16>N;++N)n(te,ae+32*N-4,te,ae+32*N+12,4);for(N=-1;8>N;++N)n(ie,ce+32*N-4,ie,ce+32*N+4,4),n(_e,Ne+32*N-4,_e,Ne+32*N+4,4)}var Pe=f.Gd,$e=f.Hd+j,Re=Te.ad,we=Te.Hc;if(0<Y&&(n(te,ae-32,Pe[$e].y,0,16),n(ie,ce-32,Pe[$e].f,0,8),n(_e,Ne-32,Pe[$e].ea,0,8)),Te.Za){var xe=te,Be=ae-32+16;for(0<Y&&(j>=f.za-1?a(xe,Be,Pe[$e].y[15],4):n(xe,Be,Pe[$e+1].y,0,4)),N=0;4>N;N++)xe[Be+128+N]=xe[Be+256+N]=xe[Be+384+N]=xe[Be+0+N];for(N=0;16>N;++N,we<<=2)xe=te,Be=ae+Kp[N],Fa[Te.Ob[N]](xe,Be),iu(we,Re,16*+N,xe,Be)}else if(xe=Ad(j,Y,Te.Ob[0]),ts[xe](te,ae),we!=0)for(N=0;16>N;++N,we<<=2)iu(we,Re,16*+N,te,ae+Kp[N]);for(N=Te.Gc,xe=Ad(j,Y,Te.Dd),Li[xe](ie,ce),Li[xe](_e,Ne),we=Re,xe=ie,Be=ce,255&(Te=N>>0)&&(170&Te?du(we,256,xe,Be):ba(we,256,xe,Be)),Te=_e,we=Ne,255&(N>>=8)&&(170&N?du(Re,320,Te,we):ba(Re,320,Te,we)),Y<f.Ub-1&&(n(Pe[$e].y,0,te,ae+480,16),n(Pe[$e].f,0,ie,ce+224,8),n(Pe[$e].ea,0,_e,Ne+224,8)),N=8*ee*f.B,Pe=f.sa,$e=f.ta+16*j+16*ee*f.R,Re=f.qa,Te=f.ra+8*j+N,we=f.Ha,xe=f.Ia+8*j+N,N=0;16>N;++N)n(Pe,$e+N*f.R,te,ae+32*N,16);for(N=0;8>N;++N)n(Re,Te+N*f.B,ie,ce+32*N,8),n(we,xe+N*f.B,_e,Ne+32*N,8)}}function Io(f,m,N,j,Y,ee,te,ae,ie){var ce=[0],_e=[0],Ne=0,Te=ie!=null?ie.kd:0,Pe=ie??new tu;if(f==null||12>N)return 7;Pe.data=f,Pe.w=m,Pe.ha=N,m=[m],N=[N],Pe.gb=[Pe.gb];e:{var $e=m,Re=N,we=Pe.gb;if(t(f!=null),t(Re!=null),t(we!=null),we[0]=0,12<=Re[0]&&!r(f,$e[0],"RIFF")){if(r(f,$e[0]+8,"WEBP")){we=3;break e}var xe=z(f,$e[0]+4);if(12>xe||4294967286<xe){we=3;break e}if(Te&&xe>Re[0]-8){we=7;break e}we[0]=xe,$e[0]+=12,Re[0]-=12}we=0}if(we!=0)return we;for(xe=0<Pe.gb[0],N=N[0];;){e:{var Be=f;Re=m,we=N;var Ge=ce,qe=_e,st=$e=[0];if((tt=Ne=[Ne])[0]=0,8>we[0])we=7;else{if(!r(Be,Re[0],"VP8X")){if(z(Be,Re[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var et=z(Be,Re[0]+8),mt=1+X(Be,Re[0]+12);if(2147483648<=mt*(Be=1+X(Be,Re[0]+15))){we=3;break e}st!=null&&(st[0]=et),Ge!=null&&(Ge[0]=mt),qe!=null&&(qe[0]=Be),Re[0]+=18,we[0]-=18,tt[0]=1}we=0}}if(Ne=Ne[0],$e=$e[0],we!=0)return we;if(Re=!!(2&$e),!xe&&Ne)return 3;if(ee!=null&&(ee[0]=!!(16&$e)),te!=null&&(te[0]=Re),ae!=null&&(ae[0]=0),te=ce[0],$e=_e[0],Ne&&Re&&ie==null){we=0;break}if(4>N){we=7;break}if(xe&&Ne||!xe&&!Ne&&!r(f,m[0],"ALPH")){N=[N],Pe.na=[Pe.na],Pe.P=[Pe.P],Pe.Sa=[Pe.Sa];e:{et=f,we=m,xe=N;var tt=Pe.gb;Ge=Pe.na,qe=Pe.P,st=Pe.Sa,mt=22,t(et!=null),t(xe!=null),Be=we[0];var zt=xe[0];for(t(Ge!=null),t(st!=null),Ge[0]=null,qe[0]=null,st[0]=0;;){if(we[0]=Be,xe[0]=zt,8>zt){we=7;break e}var Qt=z(et,Be+4);if(4294967286<Qt){we=3;break e}var Gt=8+Qt+1&-2;if(mt+=Gt,0<tt&&mt>tt){we=3;break e}if(!r(et,Be,"VP8 ")||!r(et,Be,"VP8L")){we=0;break e}if(zt[0]<Gt){we=7;break e}r(et,Be,"ALPH")||(Ge[0]=et,qe[0]=Be+8,st[0]=Qt),Be+=Gt,zt-=Gt}}if(N=N[0],Pe.na=Pe.na[0],Pe.P=Pe.P[0],Pe.Sa=Pe.Sa[0],we!=0)break}N=[N],Pe.Ja=[Pe.Ja],Pe.xa=[Pe.xa];e:if(tt=f,we=m,xe=N,Ge=Pe.gb[0],qe=Pe.Ja,st=Pe.xa,et=we[0],Be=!r(tt,et,"VP8 "),mt=!r(tt,et,"VP8L"),t(tt!=null),t(xe!=null),t(qe!=null),t(st!=null),8>xe[0])we=7;else{if(Be||mt){if(tt=z(tt,et+4),12<=Ge&&tt>Ge-12){we=3;break e}if(Te&&tt>xe[0]-8){we=7;break e}qe[0]=tt,we[0]+=8,xe[0]-=8,st[0]=mt}else st[0]=5<=xe[0]&&tt[et+0]==47&&!(tt[et+4]>>5),qe[0]=xe[0];we=0}if(N=N[0],Pe.Ja=Pe.Ja[0],Pe.xa=Pe.xa[0],m=m[0],we!=0)break;if(4294967286<Pe.Ja)return 3;if(ae==null||Re||(ae[0]=Pe.xa?2:1),te=[te],$e=[$e],Pe.xa){if(5>N){we=7;break}ae=te,Te=$e,Re=ee,f==null||5>N?f=0:5<=N&&f[m+0]==47&&!(f[m+4]>>5)?(xe=[0],tt=[0],Ge=[0],W(qe=new $,f,m,N),gt(qe,xe,tt,Ge)?(ae!=null&&(ae[0]=xe[0]),Te!=null&&(Te[0]=tt[0]),Re!=null&&(Re[0]=Ge[0]),f=1):f=0):f=0}else{if(10>N){we=7;break}ae=$e,f==null||10>N||!ud(f,m+3,N-3)?f=0:(Te=f[m+0]|f[m+1]<<8|f[m+2]<<16,Re=16383&(f[m+7]<<8|f[m+6]),f=16383&(f[m+9]<<8|f[m+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=Pe.Ja||!Re||!f?f=0:(te&&(te[0]=Re),ae&&(ae[0]=f),f=1))}if(!f||(te=te[0],$e=$e[0],Ne&&(ce[0]!=te||_e[0]!=$e)))return 3;ie!=null&&(ie[0]=Pe,ie.offset=m-ie.w,t(4294967286>m-ie.w),t(ie.offset==ie.ha-N));break}return we==0||we==7&&Ne&&ie==null?(ee!=null&&(ee[0]|=Pe.na!=null&&0<Pe.na.length),j!=null&&(j[0]=te),Y!=null&&(Y[0]=$e),0):we}function ou(f,m,N){var j=m.width,Y=m.height,ee=0,te=0,ae=j,ie=Y;if(m.Da=f!=null&&0<f.Da,m.Da&&(ae=f.cd,ie=f.bd,ee=f.v,te=f.j,11>N||(ee&=-2,te&=-2),0>ee||0>te||0>=ae||0>=ie||ee+ae>j||te+ie>Y))return 0;if(m.v=ee,m.j=te,m.va=ee+ae,m.o=te+ie,m.U=ae,m.T=ie,m.da=f!=null&&0<f.da,m.da){if(!de(ae,ie,N=[f.ib],ee=[f.hb]))return 0;m.ib=N[0],m.hb=ee[0]}return m.ob=f!=null&&f.ob,m.Kb=f==null||!f.Sd,m.da&&(m.ob=m.ib<3*j/4&&m.hb<3*Y/4,m.Kb=0),1}function lu(f){if(f==null)return 2;if(11>f.S){var m=f.f.RGBA;m.fb+=(f.height-1)*m.A,m.A=-m.A}else m=f.f.kb,f=f.height,m.O+=(f-1)*m.fa,m.fa=-m.fa,m.N+=(f-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(f-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(f-1)*m.lb,m.lb=-m.lb);return 0}function Fo(f,m,N,j){if(j==null||0>=f||0>=m)return 2;if(N!=null){if(N.Da){var Y=N.cd,ee=N.bd,te=-2&N.v,ae=-2&N.j;if(0>te||0>ae||0>=Y||0>=ee||te+Y>f||ae+ee>m)return 2;f=Y,m=ee}if(N.da){if(!de(f,m,Y=[N.ib],ee=[N.hb]))return 2;f=Y[0],m=ee[0]}}j.width=f,j.height=m;e:{var ie=j.width,ce=j.height;if(f=j.S,0>=ie||0>=ce||!(f>=Ed&&13>f))f=2;else{if(0>=j.Rd&&j.sd==null){te=ee=Y=m=0;var _e=(ae=ie*Xp[f])*ce;if(11>f||(ee=(ce+1)/2*(m=(ie+1)/2),f==12&&(te=(Y=ie)*ce)),(ce=i(_e+2*ee+te))==null){f=1;break e}j.sd=ce,11>f?((ie=j.f.RGBA).eb=ce,ie.fb=0,ie.A=ae,ie.size=_e):((ie=j.f.kb).y=ce,ie.O=0,ie.fa=ae,ie.Fd=_e,ie.f=ce,ie.N=0+_e,ie.Ab=m,ie.Cd=ee,ie.ea=ce,ie.W=0+_e+ee,ie.Db=m,ie.Ed=ee,f==12&&(ie.F=ce,ie.J=0+_e+2*ee),ie.Tc=te,ie.lb=Y)}if(m=1,Y=j.S,ee=j.width,te=j.height,Y>=Ed&&13>Y)if(11>Y)f=j.f.RGBA,m&=(ae=Math.abs(f.A))*(te-1)+ee<=f.size,m&=ae>=ee*Xp[Y],m&=f.eb!=null;else{f=j.f.kb,ae=(ee+1)/2,_e=(te+1)/2,ie=Math.abs(f.fa),ce=Math.abs(f.Ab);var Ne=Math.abs(f.Db),Te=Math.abs(f.lb),Pe=Te*(te-1)+ee;m&=ie*(te-1)+ee<=f.Fd,m&=ce*(_e-1)+ae<=f.Cd,m=(m&=Ne*(_e-1)+ae<=f.Ed)&ie>=ee&ce>=ae&Ne>=ae,m&=f.y!=null,m&=f.f!=null,m&=f.ea!=null,Y==12&&(m&=Te>=ee,m&=Pe<=f.Tc,m&=f.F!=null)}else m=0;f=m?0:2}}return f!=0||N!=null&&N.fd&&(f=lu(j)),f}var vn=64,jo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bo=24,qo=32,uu=8,Kn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ve("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(f){return f},O.Predictor2=function(f,m,N){return m[N+0]},O.Predictor3=function(f,m,N){return m[N+1]},O.Predictor4=function(f,m,N){return m[N-1]},O.Predictor5=function(f,m,N){return Ce(Ce(f,m[N+1]),m[N+0])},O.Predictor6=function(f,m,N){return Ce(f,m[N-1])},O.Predictor7=function(f,m,N){return Ce(f,m[N+0])},O.Predictor8=function(f,m,N){return Ce(m[N-1],m[N+0])},O.Predictor9=function(f,m,N){return Ce(m[N+0],m[N+1])},O.Predictor10=function(f,m,N){return Ce(Ce(f,m[N-1]),Ce(m[N+0],m[N+1]))},O.Predictor11=function(f,m,N){var j=m[N+0];return 0>=Me(j>>24&255,f>>24&255,(m=m[N-1])>>24&255)+Me(j>>16&255,f>>16&255,m>>16&255)+Me(j>>8&255,f>>8&255,m>>8&255)+Me(255&j,255&f,255&m)?j:f},O.Predictor12=function(f,m,N){var j=m[N+0];return(ue((f>>24&255)+(j>>24&255)-((m=m[N-1])>>24&255))<<24|ue((f>>16&255)+(j>>16&255)-(m>>16&255))<<16|ue((f>>8&255)+(j>>8&255)-(m>>8&255))<<8|ue((255&f)+(255&j)-(255&m)))>>>0},O.Predictor13=function(f,m,N){var j=m[N-1];return(ke((f=Ce(f,m[N+0]))>>24&255,j>>24&255)<<24|ke(f>>16&255,j>>16&255)<<16|ke(f>>8&255,j>>8&255)<<8|ke(f>>0&255,j>>0&255))>>>0};var Bf=O.PredictorAdd0;O.PredictorAdd1=Ve,ve("Predictor2","PredictorAdd2"),ve("Predictor3","PredictorAdd3"),ve("Predictor4","PredictorAdd4"),ve("Predictor5","PredictorAdd5"),ve("Predictor6","PredictorAdd6"),ve("Predictor7","PredictorAdd7"),ve("Predictor8","PredictorAdd8"),ve("Predictor9","PredictorAdd9"),ve("Predictor10","PredictorAdd10"),ve("Predictor11","PredictorAdd11"),ve("Predictor12","PredictorAdd12"),ve("Predictor13","PredictorAdd13");var cu=O.PredictorAdd2;nt("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var Pd,ya=O.ColorIndexInverseTransform,$o=O.MapARGB,Cd=O.VP8LColorIndexInverseTransformAlpha,Ld=O.MapAlpha,Ji=O.VP8LPredictorsAdd=[];Ji.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Vs,Xn,Rn,Qi,ki,Ai,Uo,Pi,Or,du,Mn,ba,Vo,Nd,hu,Gs,Hs,Zi,zs,Go,Ws,es,fu,_a,wa,cr,dr,Er,Xr=i(511),Ci=i(2041),pu=i(225),Ho=i(767),Td=0,qf=Ci,Od=pu,la=Ho,Sa=Xr,Ed=0,Rd=1,Bp=2,Md=3,Dd=4,$f=5,qp=6,Uf=7,Vf=8,Id=9,Gf=10,e3=[2,3,7],t3=[3,3,11],$p=[280,256,256,256,40],r3=[0,1,1,1,0],n3=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],a3=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],i3=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],s3=8,Hf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],zf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],gu=null,o3=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],l3=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Up=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],u3=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],c3=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],d3=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],h3=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ts=[],Fa=[],Li=[],f3=1,Vp=2,rs=[],xa=[];De("UpsampleRgbLinePair",Vt,3),De("UpsampleBgrLinePair",Sr,3),De("UpsampleRgbaLinePair",Ia,4),De("UpsampleBgraLinePair",rn,4),De("UpsampleArgbLinePair",Sn,4),De("UpsampleRgba4444LinePair",Vr,2),De("UpsampleRgb565LinePair",kr,2);var p3=O.UpsampleRgbLinePair,g3=O.UpsampleBgrLinePair,Gp=O.UpsampleRgbaLinePair,Hp=O.UpsampleBgraLinePair,zp=O.UpsampleArgbLinePair,Wp=O.UpsampleRgba4444LinePair,m3=O.UpsampleRgb565LinePair,Fd=16,jd=1<<Fd-1,mu=-227,Wf=482,v3=6,Yp=0,y3=i(256),b3=i(256),_3=i(256),w3=i(256),S3=i(Wf-mu),x3=i(Wf-mu);ii("YuvToRgbRow",Vt,3),ii("YuvToBgrRow",Sr,3),ii("YuvToRgbaRow",Ia,4),ii("YuvToBgraRow",rn,4),ii("YuvToArgbRow",Sn,4),ii("YuvToRgba4444Row",Vr,2),ii("YuvToRgb565Row",kr,2);var Kp=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bd=[0,2,8],k3=[8,7,6,4,4,2,2,2,1,1,1,1],A3=1;this.WebPDecodeRGBA=function(f,m,N,j,Y){var ee=Rd,te=new Mo,ae=new vt;te.ba=ae,ae.S=ee,ae.width=[ae.width],ae.height=[ae.height];var ie=ae.width,ce=ae.height,_e=new je;if(_e==null||f==null)var Ne=2;else t(_e!=null),Ne=Io(f,m,N,_e.width,_e.height,_e.Pd,_e.Qd,_e.format,null);if(Ne!=0?ie=0:(ie!=null&&(ie[0]=_e.width[0]),ce!=null&&(ce[0]=_e.height[0]),ie=1),ie){ae.width=ae.width[0],ae.height=ae.height[0],j!=null&&(j[0]=ae.width),Y!=null&&(Y[0]=ae.height);e:{if(j=new Co,(Y=new tu).data=f,Y.w=m,Y.ha=N,Y.kd=1,m=[0],t(Y!=null),((f=Io(Y.data,Y.w,Y.ha,null,null,null,m,null,Y))==0||f==7)&&m[0]&&(f=4),(m=f)==0){if(t(te!=null),j.data=Y.data,j.w=Y.w+Y.offset,j.ha=Y.ha-Y.offset,j.put=Yr,j.ac=gr,j.bc=zn,j.ma=te,Y.xa){if((f=va())==null){te=1;break e}if(function(Te,Pe){var $e=[0],Re=[0],we=[0];t:for(;;){if(Te==null)return 0;if(Pe==null)return Te.a=2,0;if(Te.l=Pe,Te.a=0,W(Te.m,Pe.data,Pe.w,Pe.ha),!gt(Te.m,$e,Re,we)){Te.a=3;break t}if(Te.xb=Vp,Pe.width=$e[0],Pe.height=Re[0],!ri($e[0],Re[0],1,Te,null))break t;return 1}return t(Te.a!=0),0}(f,j)){if(j=(m=Fo(j.width,j.height,te.Oa,te.ba))==0){t:{j=f;r:for(;;){if(j==null){j=0;break t}if(t(j.s.yc!=null),t(j.s.Ya!=null),t(0<j.s.Wb),t((N=j.l)!=null),t((Y=N.ma)!=null),j.xb!=0){if(j.ca=Y.ba,j.tb=Y.tb,t(j.ca!=null),!ou(Y.Oa,N,Md)){j.a=2;break r}if(!js(j,N.width)||N.da)break r;if((N.da||Ae(j.ca.S))&&Le(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&Le()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!se(j.s.vb,j.s.Wa.Xa)){j.a=1;break r}j.xb=0}if(!Ra(j,j.V,j.Ba,j.c,j.i,N.o,wo))break r;Y.Dc=j.Ma,j=1;break t}t(j.a!=0),j=0}j=!j}j&&(m=f.a)}else m=f.a}else{if((f=new _f)==null){te=1;break e}if(f.Fa=Y.na,f.P=Y.P,f.qc=Y.Sa,cd(f,j)){if((m=Fo(j.width,j.height,te.Oa,te.ba))==0){if(f.Aa=0,N=te.Oa,t((Y=f)!=null),N!=null){if(0<(ie=0>(ie=N.Md)?0:100<ie?255:255*ie/100)){for(ce=_e=0;4>ce;++ce)12>(Ne=Y.pb[ce]).lc&&(Ne.ia=ie*k3[0>Ne.lc?0:Ne.lc]>>3),_e|=Ne.ia;_e&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=N.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}wf(f,j)||(m=f.a)}}else m=f.a}m==0&&te.Oa!=null&&te.Oa.fd&&(m=lu(te.ba))}te=m}ee=te!=0?null:11>ee?ae.f.RGBA.eb:ae.f.kb.y}else ee=null;return ee};var Xp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(O,R){for(var T="",C=0;C<4;C++)T+=String.fromCharCode(O[R++]);return T}function u(O,R){return(O[R+0]<<0|O[R+1]<<8|O[R+2]<<16)>>>0}function h(O,R){return(O[R+0]<<0|O[R+1]<<8|O[R+2]<<16|O[R+3]<<24)>>>0}new l;var p=[0],d=[0],g=[],y=new l,S=e,w=function(O,R){var T={},C=0,E=!1,x=0,k=0;if(T.frames=[],!function(I,G,J,re){for(var _=0;_<re;_++)if(I[G+_]!=J.charCodeAt(_))return!0;return!1}(O,R,"RIFF",4)){for(h(O,R+=4),R+=8;R<O.length;){var L=c(O,R),D=h(O,R+=4);R+=4;var q=D+(1&D);switch(L){case"VP8 ":case"VP8L":T.frames[C]===void 0&&(T.frames[C]={}),(ne=T.frames[C]).src_off=E?k:R-8,ne.src_size=x+D+8,C++,E&&(E=!1,x=0,k=0);break;case"VP8X":(ne=T.header={}).feature_flags=O[R];var W=R+4;ne.canvas_width=1+u(O,W),W+=3,ne.canvas_height=1+u(O,W),W+=3;break;case"ALPH":E=!0,x=q+8,k=R-8;break;case"ANIM":(ne=T.header).bgcolor=h(O,R),W=R+4,ne.loop_count=(oe=O)[($=W)+0]<<0|oe[$+1]<<8,W+=2;break;case"ANMF":var Q,ne;(ne=T.frames[C]={}).offset_x=2*u(O,R),R+=3,ne.offset_y=2*u(O,R),R+=3,ne.width=1+u(O,R),R+=3,ne.height=1+u(O,R),R+=3,ne.duration=u(O,R),R+=3,Q=O[R++],ne.dispose=1&Q,ne.blend=Q>>1&1}L!="ANMF"&&(R+=q)}var oe,$;return T}}(S,0);w.response=S,w.rgbaoutput=!0,w.dataurl=!1;var v=w.header?w.header:null,b=w.frames?w.frames:null;if(v){v.loop_counter=v.loop_count,p=[v.canvas_height],d=[v.canvas_width];for(var P=0;P<b.length&&b[P].blend!=0;P++);}var M=b[0],F=y.WebPDecodeRGBA(S,M.src_off,M.src_size,d,p);M.rgba=F,M.imgwidth=d[0],M.imgheight=p[0];for(var U=0;U<d[0]*p[0]*4;U++)g[U]=F[U];return this.width=d,this.height=p,this.data=g,this}(function(e){var t=function(){return typeof D1=="function"},r=function(p,d,g,y){var S=4,w=s;switch(y){case e.image_compression.FAST:S=1,w=i;break;case e.image_compression.MEDIUM:S=6,w=o;break;case e.image_compression.SLOW:S=9,w=l}p=n(p,d,g,w);var v=D1(p,{level:S});return e.__addimage__.arrayBufferToBinaryString(v)},n=function(p,d,g,y){for(var S,w,v,b=p.length/d,P=new Uint8Array(p.length+b),M=u(),F=0;F<b;F+=1){if(v=F*d,S=p.subarray(v,v+d),y)P.set(y(S,g,w),v+F);else{for(var U,O=M.length,R=[];U<O;U+=1)R[U]=M[U](S,g,w);var T=h(R.concat());P.set(R[T],v+F)}w=S}return P},a=function(p){var d=Array.apply([],p);return d.unshift(0),d},i=function(p,d){var g,y=[],S=p.length;y[0]=1;for(var w=0;w<S;w+=1)g=p[w-d]||0,y[w+1]=p[w]-g+256&255;return y},s=function(p,d,g){var y,S=[],w=p.length;S[0]=2;for(var v=0;v<w;v+=1)y=g&&g[v]||0,S[v+1]=p[v]-y+256&255;return S},o=function(p,d,g){var y,S,w=[],v=p.length;w[0]=3;for(var b=0;b<v;b+=1)y=p[b-d]||0,S=g&&g[b]||0,w[b+1]=p[b]+256-(y+S>>>1)&255;return w},l=function(p,d,g){var y,S,w,v,b=[],P=p.length;b[0]=4;for(var M=0;M<P;M+=1)y=p[M-d]||0,S=g&&g[M]||0,w=g&&g[M-d]||0,v=c(y,S,w),b[M+1]=p[M]-v+256&255;return b},c=function(p,d,g){if(p===d&&d===g)return p;var y=Math.abs(d-g),S=Math.abs(p-g),w=Math.abs(p+d-g-g);return y<=S&&y<=w?p:S<=w?d:g},u=function(){return[a,i,s,o,l]},h=function(p){var d=p.map(function(g){return g.reduce(function(y,S){return y+Math.abs(S)},0)});return d.indexOf(Math.min.apply(null,d))};e.processPNG=function(p,d,g,y){var S,w,v,b,P,M,F,U,O,R,T,C,E,x,k,L=this.decode.FLATE_DECODE,D="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(v=new GP(p)).imgData,w=v.bits,S=v.colorSpace,P=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){O=(U=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,T=new Uint8Array(O*v.colors),R=new Uint8Array(O);var q,W=v.pixelBitlength-v.bits;for(x=0,k=0;x<O;x++){for(E=U[x],q=0;q<W;)T[k++]=E>>>q&255,q+=v.bits;R[x]=E>>>q&255}}if(v.bits===16){O=(U=new Uint32Array(v.decodePixels().buffer)).length,T=new Uint8Array(O*(32/v.pixelBitlength)*v.colors),R=new Uint8Array(O*(32/v.pixelBitlength)),C=v.colors>1,x=0,k=0;for(var Q=0;x<O;)E=U[x++],T[k++]=E>>>0&255,C&&(T[k++]=E>>>16&255,E=U[x++],T[k++]=E>>>0&255),R[Q++]=E>>>16&255;w=8}y!==e.image_compression.NONE&&t()?(p=r(T,v.width*v.colors,v.colors,y),F=r(R,v.width,1,y)):(p=T,F=R,L=void 0)}if(v.colorType===3&&(S=this.color_spaces.INDEXED,M=v.palette,v.transparency.indexed)){var ne=v.transparency.indexed,oe=0;for(x=0,O=ne.length;x<O;++x)oe+=ne[x];if((oe/=255)===O-1&&ne.indexOf(0)!==-1)b=[ne.indexOf(0)];else if(oe!==O){for(U=v.decodePixels(),R=new Uint8Array(U.length),x=0,O=U.length;x<O;x++)R[x]=ne[U[x]];F=r(R,v.width,1)}}var $=function(I){var G;switch(I){case e.image_compression.FAST:G=11;break;case e.image_compression.MEDIUM:G=13;break;case e.image_compression.SLOW:G=14;break;default:G=12}return G}(y);return L===this.decode.FLATE_DECODE&&(D="/Predictor "+$+" "),D+="/Colors "+P+" /BitsPerComponent "+w+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(F&&this.__addimage__.isArrayBuffer(F)||this.__addimage__.isArrayBufferView(F))&&(F=this.__addimage__.arrayBufferToBinaryString(F)),{alias:g,data:p,index:d,filter:L,decodeParameters:D,transparency:b,palette:M,sMask:F,predictor:$,width:v.width,height:v.height,bitsPerComponent:w,colorSpace:S}}}})(bt.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new HP(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new V0(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(bt.API),qa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qa.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){lr.log("bit decode error:"+r)}},qa.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},qa.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},qa.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},qa.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},qa.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},qa.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},qa.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},qa.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new qa(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new V0(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(bt.API),Sm.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new Sm(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new V0(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(bt.API),bt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],h=n[c+1],p=n[c+2],d=n[c+3];i[o++]=u,i[o++]=h,i[o++]=p,s[l++]=d}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},bt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ll=bt.API,dh=ll.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,h=t.doKerning!==!1,p=0,d=e.length,g=0,y=o[0]||l,S=[];for(r=0;r<d;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?S.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(p=h&&tr(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,S.push((o[n]||y)/l+p)),g=n;return S},ym=ll.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return ll.processArabic&&(e=ll.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:dh.apply(this,arguments).reduce(function(i,s){return i+s},0)},bm=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},_m=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],h=[u],p=r.textIndent||0,d=0,g=0,y=e.split(" "),S=dh.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var w=Array(l).join(" "),v=[];y.map(function(P){(P=P.split(/\s*\n/)).length>1?v=v.concat(P.map(function(M,F){return(F&&M.length?`
`:"")+M})):v.push(P[0])}),y=v,l=ym.apply(this,[w,r])}for(i=0,s=y.length;i<s;i++){var b=0;if(n=y[i],l&&n[0]==`
`&&(n=n.substr(1),b=1),p+d+(g=(a=dh.apply(this,[n,r])).reduce(function(P,M){return P+M},0))>t||b){if(g>t){for(o=bm.apply(this,[n,a,t-(p+d),t]),u.push(o.shift()),u=[o.pop()];o.length;)h.push([o.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(P,M){return P+M},0)}else u=[n];h.push(u),p=g+l,d=S}else u.push(n),p+=d+g,d=S}return c=l?function(P,M){return(M?w:"")+P.join(" ")}:function(P){return P.join(" ")},h.map(c)},ll.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(_m.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(h){return"0x"+parseInt(h,10).toString(16)},s=e.__fontmetrics__.compress=function(h){var p,d,g,y,S=["{"];for(var w in h){if(p=h[w],isNaN(parseInt(w,10))?d="'"+w+"'":(w=parseInt(w,10),d=(d=i(w).slice(2)).slice(0,-1)+n[d.slice(-1)]),typeof p=="number")p<0?(g=i(p).slice(3),y="-"):(g=i(p).slice(2),y=""),g=y+g.slice(0,-1)+n[g.slice(-1)];else{if(tr(p)!=="object")throw new Error("Don't know what to do with value type "+tr(p)+".");g=s(p)}S.push(d+g)}return S.push("}"),S.join("")},o=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,d,g,y,S={},w=1,v=S,b=[],P="",M="",F=h.length-1,U=1;U<F;U+=1)(y=h[U])=="'"?p?(g=p.join(""),p=void 0):p=[]:p?p.push(y):y=="{"?(b.push([v,g]),v={},g=void 0):y=="}"?((d=b.pop())[0][d[1]]=v,g=void 0,v=d[0]):y=="-"?w=-1:g===void 0?r.hasOwnProperty(y)?(P+=r[y],g=parseInt(P,16)*w,w=1,P=""):P+=y:r.hasOwnProperty(y)?(M+=r[y],v[g]=parseInt(M,16)*w,w=1,g=void 0,M=""):M+=y;return S},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var p=h.font,d=u.Unicode[p.postScriptName];d&&(p.metadata.Unicode={},p.metadata.Unicode.widths=d.widths,p.metadata.Unicode.kerning=d.kerning);var g=c.Unicode[p.postScriptName];g&&(p.metadata.Unicode.encoding=g,p.encoding=g.codePages[0])}])}(bt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Mc(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(bt),function(e){function t(){return(wt.canvg?Promise.resolve(wt.canvg):Gi(()=>import("./index.es-MDGiIpIN.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}bt.API.addSvgAsImage=function(r,n,a,i,s,o,l,c){if(isNaN(n)||isNaN(a))throw lr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw lr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=s;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then(function(g){return g.fromString(h,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(p)}).then(function(){d.addImage(u.toDataURL("image/jpeg",1),n,a,i,s,l,c)})}}(),bt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},bt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,h=0;function p(g,y){var S,w=!1;for(S=0;S<g.length;S+=1)g[S]===y&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=o.length;for(h=0;h<d;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(tr(e)==="object"){for(a in e)if(i=e[a],p(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&p(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,y=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?y.push("/"+g+" /"+r[g].value):y.push("/"+g+" "+r[g].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(bt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],h=0,p=i.length;h<p;++h){if(o=s.metadata.characterToGlyph(i.charCodeAt(h)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,h,p;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,p=(o=Object.keys(i).sort(function(d,g){return d-g})).length;h<p;h++)s=o[h],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",g=0;g<p.length;g++)d+=String.fromCharCode(p[g]);var y=c();u({data:d,addLength1:!0,objectId:y}),l("endobj");var S=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ml(o.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var v=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+ml(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+e.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+S+" 0 R"),l("/BaseFont /"+ml(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+v+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,p="",d=0;d<h.length;d++)p+=String.fromCharCode(h[d]);var g=c();u({data:p,addLength1:!0,objectId:g}),l("endobj");var y=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var S=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+ml(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+ml(o.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},h=i.mutex||{},p=h.pdfEscape,d=h.activeFontKey,g=h.fonts,y=d,S="",w=0,v="",b=g[y].encoding;if(g[y].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:h};for(v=o,y=d,Array.isArray(o)&&(v=o[0]),w=0;w<v.length;w+=1)g[y].metadata.hasOwnProperty("cmap")&&(s=g[y].metadata.cmap.unicode.codeMap[v[w].charCodeAt(0)]),s||v[w].charCodeAt(0)<256&&g[y].metadata.hasOwnProperty("Unicode")?S+=v[w]:S+="";var P="";return parseInt(y.slice(1))<14||b==="WinAnsiEncoding"?P=p(S,y).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(P=r(S,g[y])),h.isHex=!0,{text:P,x:l,y:c,options:u,mutex:h}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(bt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(bt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,h=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,b=0;this.__bidiEngine__={};var P=function(C){var E=C.charCodeAt(),x=E>>8,k=y[x];return k!==void 0?h[256*k+(255&E)]:x===252||x===253?"AL":w.test(x)?"L":x===8?"R":"N"},M=function(C){for(var E,x=0;x<C.length;x++){if((E=P(C.charAt(x)))==="L")return!1;if(E==="R")return!0}return!1},F=function(C,E,x,k){var L,D,q,W,Q=E[k];switch(Q){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(Q="AN");break;case"AL":v=!0,Q="R";break;case"WS":Q="N";break;case"CS":k<1||k+1>=E.length||(L=x[k-1])!=="EN"&&L!=="AN"||(D=E[k+1])!=="EN"&&D!=="AN"?Q="N":v&&(D="AN"),Q=D===L?D:"N";break;case"ES":Q=(L=k>0?x[k-1]:"B")==="EN"&&k+1<E.length&&E[k+1]==="EN"?"EN":"N";break;case"ET":if(k>0&&x[k-1]==="EN"){Q="EN";break}if(v){Q="N";break}for(q=k+1,W=E.length;q<W&&E[q]==="ET";)q++;Q=q<W&&E[q]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(W=E.length,q=k+1;q<W&&E[q]==="NSM";)q++;if(q<W){var ne=C[k],oe=ne>=1425&&ne<=2303||ne===64286;if(L=E[q],oe&&(L==="R"||L==="AL")){Q="R";break}}}Q=k<1||(L=E[k-1])==="B"?"N":x[k-1];break;case"B":v=!1,a=!0,Q=b;break;case"S":i=!0,Q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":Q="N"}return Q},U=function(C,E,x){var k=C.split("");return x&&O(k,x,{hiLevel:b}),k.reverse(),E&&E.reverse(),k.join("")},O=function(C,E,x){var k,L,D,q,W,Q=-1,ne=C.length,oe=0,$=[],I=b?d:p,G=[];for(v=!1,a=!1,i=!1,L=0;L<ne;L++)G[L]=P(C[L]);for(D=0;D<ne;D++){if(W=oe,$[D]=F(C,G,$,D),k=240&(oe=I[W][g[$[D]]]),oe&=15,E[D]=q=I[oe][5],k>0)if(k===16){for(L=Q;L<D;L++)E[L]=1;Q=-1}else Q=-1;if(I[oe][6])Q===-1&&(Q=D);else if(Q>-1){for(L=Q;L<D;L++)E[L]=q;Q=-1}G[D]==="B"&&(E[D]=0),x.hiLevel|=q}i&&function(J,re,_){for(var V=0;V<_;V++)if(J[V]==="S"){re[V]=b;for(var Z=V-1;Z>=0&&J[Z]==="WS";Z--)re[Z]=b}}(G,E,ne)},R=function(C,E,x,k,L){if(!(L.hiLevel<C)){if(C===1&&b===1&&!a)return E.reverse(),void(x&&x.reverse());for(var D,q,W,Q,ne=E.length,oe=0;oe<ne;){if(k[oe]>=C){for(W=oe+1;W<ne&&k[W]>=C;)W++;for(Q=oe,q=W-1;Q<q;Q++,q--)D=E[Q],E[Q]=E[q],E[q]=D,x&&(D=x[Q],x[Q]=x[q],x[q]=D);oe=W}oe++}}},T=function(C,E,x){var k=C.split(""),L={hiLevel:b};return x||(x=[]),O(k,x,L),function(D,q,W){if(W.hiLevel!==0&&u)for(var Q,ne=0;ne<D.length;ne++)q[ne]===1&&(Q=S.indexOf(D[ne]))>=0&&(D[ne]=S[Q+1])}(k,x,L),R(2,k,E,x,L),R(1,k,E,x,L),k.join("")};return this.__bidiEngine__.doBidiReorder=function(C,E,x){if(function(L,D){if(D)for(var q=0;q<L.length;q++)D[q]=q;o===void 0&&(o=M(L)),c===void 0&&(c=M(L))}(C,E),s||!l||c)if(s&&l&&o^c)b=o?1:0,C=U(C,E,x);else if(!s&&l&&c)b=o?1:0,C=T(C,E,x),C=U(C,E);else if(!s||o||l||c){if(s&&!l&&o^c)C=U(C,E),o?(b=0,C=T(C,E,x)):(b=1,C=T(C,E,x),C=U(C,E));else if(s&&o&&!l&&c)b=1,C=T(C,E,x),C=U(C,E);else if(!s&&!l&&o^c){var k=u;o?(b=1,C=T(C,E,x),b=0,u=!1,C=T(C,E,x),u=k):(b=0,C=T(C,E,x),C=U(C,E),b=1,u=!1,C=T(C,E,x),u=k,C=U(C,E))}}else b=0,C=T(C,E,x);else b=o?1:0,C=T(C,E,x);return C},this.__bidiEngine__.setOptions=function(C){C&&(s=C.isInputVisual,l=C.isOutputVisual,o=C.isInputRtl,c=C.isOutputRtl,u=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(bt),bt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Es(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new sC(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new zP(this.contents),this.head=new YP(this),this.name=new ZP(this),this.cmap=new Ub(this),this.toUnicode={},this.hhea=new KP(this),this.maxp=new eC(this),this.hmtx=new tC(this),this.post=new JP(this),this.os2=new XP(this),this.loca=new iC(this),this.glyf=new rC(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Za,Es=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),zP=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,h,p,d,g,y;for(y in d=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(d)/l),s=Math.floor(h/l),u=16*d-h,(a=new Es).writeInt(this.scalarType),a.writeShort(d),a.writeShort(h),a.writeShort(s),a.writeShort(u),i=16*d,c=a.pos+i,o=null,g=[],r)for(p=r[y],a.writeString(y),a.writeInt(e(p)),a.writeInt(c),a.writeInt(p.length),g=g.concat(p),y==="head"&&(o=c),c+=p.length;c%4;)g.push(0),c++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=Vb.call(r);r.length%4;)r.push(0);for(i=new Es(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),WP={}.hasOwnProperty,_i=function(e,t){for(var r in t)WP.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Za=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var YP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return _i(t,Za),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Es).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),xm=function(){function e(t,r){var n,a,i,s,o,l,c,u,h,p,d,g,y,S,w,v,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),p=d/2,t.pos+=6,i=function(){var P,M;for(M=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)M.push(t.readUInt16());return M}(),t.pos+=2,y=function(){var P,M;for(M=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)M.push(t.readUInt16());return M}(),c=function(){var P,M;for(M=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)M.push(t.readUInt16());return M}(),u=function(){var P,M;for(M=[],l=P=0;0<=p?P<p:P>p;l=0<=p?++P:--P)M.push(t.readUInt16());return M}(),a=(this.length-t.pos+this.offset)/2,o=function(){var P,M;for(M=[],l=P=0;0<=a?P<a:P>a;l=0<=a?++P:--P)M.push(t.readUInt16());return M}(),l=w=0,b=i.length;w<b;l=++w)for(S=i[l],n=v=g=y[l];g<=S?v<=S:v>=S;n=g<=S?++v:--v)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(p-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=h}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,h,p,d,g,y,S,w,v,b,P,M,F,U,O,R,T,C,E,x,k,L,D,q,W,Q,ne,oe,$,I,G,J,re,_,V,Z,fe,le,X;switch(k=new Es,s=Object.keys(t).sort(function(z,se){return z-se}),r){case"macroman":for(y=0,S=function(){var z=[];for(g=0;g<256;++g)z.push(0);return z}(),v={0:0},i={},L=0,Q=s.length;L<Q;L++)v[Z=t[a=s[L]]]==null&&(v[Z]=++y),i[a]={old:t[a],new:v[t[a]]},S[a]=v[t[a]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(S),{charMap:i,subtable:k.data,maxGlyphID:y+1};case"unicode":for(E=[],h=[],b=0,v={},n={},w=c=null,D=0,ne=s.length;D<ne;D++)v[M=t[a=s[D]]]==null&&(v[M]=++b),n[a]={old:M,new:v[M]},o=v[M]-a,w!=null&&o===c||(w&&h.push(w),E.push(a),c=o),w=a;for(w&&h.push(w),h.push(65535),E.push(65535),T=2*(R=E.length),O=2*Math.pow(Math.log(R)/Math.LN2,2),p=Math.log(O/2)/Math.LN2,U=2*R-O,l=[],F=[],d=[],g=q=0,oe=E.length;q<oe;g=++q){if(C=E[g],u=h[g],C===65535){l.push(0),F.push(0);break}if(C-(x=n[C].new)>=32768)for(l.push(0),F.push(2*(d.length+R-g)),a=W=C;C<=u?W<=u:W>=u;a=C<=u?++W:--W)d.push(n[a].new);else l.push(x-C),F.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*R+2*d.length),k.writeUInt16(0),k.writeUInt16(T),k.writeUInt16(O),k.writeUInt16(p),k.writeUInt16(U),_=0,$=h.length;_<$;_++)a=h[_],k.writeUInt16(a);for(k.writeUInt16(0),V=0,I=E.length;V<I;V++)a=E[V],k.writeUInt16(a);for(fe=0,G=l.length;fe<G;fe++)o=l[fe],k.writeUInt16(o);for(le=0,J=F.length;le<J;le++)P=F[le],k.writeUInt16(P);for(X=0,re=d.length;X<re;X++)y=d[X],k.writeUInt16(y);return{charMap:n,subtable:k.data,maxGlyphID:b+1}}},e}(),Ub=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return _i(t,Za),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new xm(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=xm.encode(r,n),(i=new Es).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),KP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return _i(t,Za),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),XP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return _i(t,Za),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),JP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return _i(t,Za),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),QP=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},ZP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return _i(t,Za),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,c,u,h,p,d;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=h=0,p=a.length;h<p;s=++h)i=a[s],r.pos=i.offset,u=r.readString(i.length),o=new QP(u,i),c[d=i.nameID]==null&&(c[d]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),eC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return _i(t,Za),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),tC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return _i(t,Za),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)h.push(r.readInt16());return h}(),this.widths=(function(){var u,h,p,d;for(d=[],u=0,h=(p=this.metrics).length;u<h;u++)s=p[u],d.push(s.advance);return d}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),Vb=[].slice,rC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return _i(t,Za),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,c,u,h,p;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new Es(n.read(i))).readShort(),u=l.readShort(),p=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[r]=o===-1?new aC(l,u,p,c,h):new nC(l,o,u,p,c,h),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),nC=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),aC=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Es(Vb.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),iC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return _i(t,Za),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*a.length),h=0;h<a.length;++h)u[4*h+3]=255&a[h],u[4*h+2]=(65280&a[h])>>8,u[4*h+1]=(16711680&a[h])>>16,u[4*h]=(4278190080&a[h])>>24;return u},t}(),sC=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,h,p,d,g,y,S,w;for(a in n=Ub.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),d={0:0},w=n.charMap)d[(l=w[a]).old]=l.new;for(g in p=n.maxGlyphID,s)g in d||(d[g]=p++);return u=function(v){var b,P;for(b in P={},v)P[v[b]]=b;return P}(d),h=Object.keys(u).sort(function(v,b){return v-b}),y=function(){var v,b,P;for(P=[],v=0,b=h.length;v<b;v++)o=h[v],P.push(u[o]);return P}(),i=this.font.glyf.encode(s,y,d),c=this.font.loca.encode(i.offsets,y),S={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},e}();bt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oC=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),lC=e=>{const t=oC(e);return t.charAt(0).toUpperCase()+t.slice(1)},uC=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=({size:e,strokeWidth:t=2,absoluteStrokeWidth:r,color:n,iconNode:a,name:i,class:s,...o},{slots:l})=>Vi("svg",{...hh,width:e||hh.width,height:e||hh.height,stroke:n||hh.stroke,"stroke-width":r?Number(t)*24/Number(e):t,class:uC("lucide",...i?[`lucide-${km(lC(i))}-icon`,`lucide-${km(i)}`]:["lucide-icon"]),...o},[...a.map(c=>Vi(...c)),...l.default?[l.default()]:[]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=(e,t)=>(r,{slots:n})=>Vi(cC,{...r,iconNode:t,name:e},n);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Gl("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=Gl("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=Gl("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=Gl("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Gl("rectangle-horizontal",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-vue-next v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=Gl("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),gC={class:"toolbar-basic"},mC=["value"],vC={__name:"Toolbar",props:["addShape","deleteSelected","selectedColor","saveAsPDF"],emits:["updateColor"],setup(e,{emit:t}){const r=t,n=a=>{r("updateColor",a)};return(a,i)=>(be(),Oe("div",gC,[Ee("button",{onClick:i[0]||(i[0]=s=>e.addShape("rectangle")),title:"Rectangle"},[at(pe(Pm))]),Ee("button",{onClick:i[1]||(i[1]=s=>e.addShape("rectangle-nofill")),title:"Rectangle"},[at(pe(Pm))]),Ee("button",{onClick:i[2]||(i[2]=s=>e.addShape("circle")),title:"Circle"},[at(pe(Am))]),Ee("button",{onClick:i[3]||(i[3]=s=>e.addShape("circle-nofill")),title:"Circle"},[at(pe(Am))]),Ee("button",{onClick:i[4]||(i[4]=s=>e.addShape("line")),title:"Line"},[at(pe(fC))]),Ee("button",{onClick:i[5]||(i[5]=s=>e.addShape("text")),title:"Line"},[at(pe(hC))]),Ee("button",{onClick:i[6]||(i[6]=(...s)=>e.deleteSelected&&e.deleteSelected(...s)),title:"Delete"},[at(pe(pC))]),Ee("input",{type:"color",value:e.selectedColor,onInput:i[7]||(i[7]=s=>n(s.target.value))},null,40,mC),Ee("button",{onClick:i[8]||(i[8]=(...s)=>e.saveAsPDF&&e.saveAsPDF(...s)),title:"Save as PDF"},[at(pe(dC))])]))}},yC=pn(vC,[["__scopeId","data-v-cb5e258f"]]),bC=["onKeydown"],_C={__name:"GkPaint",setup(e){const t=Ie([]),r=Ie([]),n=Ie(null),a=Ie([]),i=Ie(null),s=Ie(null),o=Ie(null),l=Ie(!1),c=ga({visible:!1,x1:0,y1:0,x2:0,y2:0}),u=ga({isEditing:!1,value:"",x:0,y:0,width:0,height:0,fontSize:18,shapeId:null}),h=Ie("#000000"),p=Ie({width:1550,height:850});Zr(a,()=>{if(!i.value||(i.value.getNode().nodes([]),a.value.length===0))return;const T=a.value.map(C=>{var E;return(E=r.value.find(x=>x.getNode().attrs.id==C))==null?void 0:E.getNode()}).filter(Boolean);i.value.getNode().nodes(T),i.value.getNode().getLayer().batchDraw()}),nr(()=>{i.value&&(i.value.getNode().nodes([]),o.value.getNode().draw()),window.addEventListener("keydown",d)}),bi(()=>{window.removeEventListener("keydown",d)});const d=T=>{T.key==="Delete"&&F(),(T.ctrlKey||T.metaKey)&&T.key==="c"&&a.value.length>0&&g(),(T.ctrlKey||T.metaKey)&&T.key==="v"&&n.value&&y()},g=()=>{if(a.value.length===0)return;const T=a.value.map(C=>{var D;const E=t.value.findIndex(q=>q.id===C),x=t.value[E],k=(D=r.value[E])==null?void 0:D.getNode();if(!k)return null;const L=JSON.parse(JSON.stringify(x));if(x.type.includes("rectangle"))L.config.x=k.x(),L.config.y=k.y(),L.config.width=k.width()*k.scaleX(),L.config.height=k.height()*k.scaleY(),L.config.rotation=k.rotation();else if(x.type.includes("rectangle-nofill")){const q=x.config.stroke?x.config.strokeWidth||1:0;L.config.x=k.x(),L.config.y=k.y(),L.config.width=k.width()*k.scaleX(),L.config.height=k.height()*k.scaleY(),L.config.rotation=k.rotation(),L.config.strokeWidth=q}else x.type.includes("circle")?(L.config.x=k.x(),L.config.y=k.y(),L.config.radius=k.radius()*k.scaleX(),L.config.rotation=k.rotation()):x.type==="text"?(L.config.x=k.x(),L.config.y=k.y(),L.config.fontSize=k.fontSize()*k.scaleY(),L.config.rotation=k.rotation()):x.type==="line"&&(L.config.x=k.x(),L.config.y=k.y(),L.config.rotation=k.rotation());return L}).filter(Boolean);T.length>0&&(n.value=T)},y=()=>{if(!n.value||n.value.length===0)return;a.value=[];const T=n.value.map(C=>{const E=Date.now()+"_"+Math.random().toString(36).substr(2,9),x=JSON.parse(JSON.stringify(C)),k=20;return x.id=E,x.config.x+=k,x.config.y+=k,a.value.push(E),x});t.value=[...t.value,...T]},S=T=>{if(c.visible)return;if(T.target===T.target.getStage()){a.value=[];return}if(!T.target.hasName("shape"))return;const C=T.target.attrs.id,E=T.evt.shiftKey||T.evt.ctrlKey||T.evt.metaKey,x=a.value.includes(C);!E&&!x?a.value=[C]:E&&x?a.value=a.value.filter(k=>k!==C):E&&!x&&(a.value=[...a.value,C])},w=T=>{if(!l.value)return;const C=T.target.getStage().getPointerPosition();c.x2=C.x,c.y2=C.y},v=(T,C)=>{if(T!=="text")return;const E=s.value.getStage().findOne(`#${C}`);if(!E){console.error("Shape not found");return}const x=s.value.getStage().container().getBoundingClientRect(),k=E.getAbsolutePosition();u.isEditing=!0,u.value=E.text(),u.shapeId=C,u.x=x.left+k.x,u.y=x.top+k.y,u.width=E.width(),u.height=E.height(),u.fontSize=E.fontSize()},b=()=>{const T=document.getElementById("text-editor"),C=(T==null?void 0:T.innerText)||"";if(u.shapeId){const x=t.value.find(L=>L.id===u.shapeId);x&&(x.config.text=C);const k=s.value.getStage().findOne(`#${u.shapeId}`);k&&(k.text(C),k.getLayer().batchDraw())}u.isEditing=!1;const E=s.value.getStage().findOne(`#${u.shapeId}`);E&&E.setDraggable(!0)},P=(T,C)=>{const E=[...t.value];E[C]={...E[C],x:T.target.x(),y:T.target.y()},t.value=E},M=T=>{const C=r.value[T].getNode(),E=C.scaleX(),x=C.scaleY(),k=C.width()*E,L=C.height()*x,D=C.x(),q=C.y(),W=C.rotation(),Q=t.value[T];C.scaleX(1),C.scaleY(1);const ne=[...t.value];if(Q.type.includes("rectangle-nofill")){const oe=Math.max(5,k),$=Math.max(5,L);let I=Q.config.strokeWidth||1;Q.config.fill==="transparent"&&Q.config.stroke&&C.strokeWidth(I),ne[T]={...Q,config:{...Q.config,x:D,y:q,width:oe,height:$,rotation:W}}}else Q.type.includes("circle")?ne[T]={...Q,config:{...Q.config,x:C.x(),y:C.y(),radius:C.radius()*Math.max(E,x)}}:Q.type==="text"&&(ne[T]={...Q,config:{...Q.config,x:C.x(),y:C.y(),fontSize:Math.max(12,C.fontSize()*x)}});t.value=ne,o.value.getNode().batchDraw()},F=()=>{t.value=t.value.filter(T=>!a.value.includes(T.id)),a.value=[]},U=T=>{const C=h.value,E=Date.now().toString();switch(T){case"rectangle":t.value.push({id:E,type:T,config:{x:50,y:50,width:100,height:80,fill:C,draggable:!0}});break;case"rectangle-nofill":t.value.push({id:E,type:T,config:{x:200,y:50,width:100,height:80,fill:"transparent",stroke:C,strokeWidth:1,draggable:!0}});break;case"circle":t.value.push({id:E,type:T,config:{x:100,y:250,radius:50,fill:C,draggable:!0}});break;case"circle-nofill":t.value.push({id:E,type:T,config:{x:250,y:250,radius:50,fill:"transparent",stroke:C,strokeWidth:1,draggable:!0}});break;case"line":t.value.push({id:E,type:T,config:{points:[50,50,250,50,25,50],stroke:C,strokeWidth:3,draggable:!0}});break;case"text":t.value.push({id:E,type:T,config:{text:"Text..",fontSize:24,x:50,y:150,fill:C,draggable:!0}});break;default:console.log("Shape type not recognized.");return}},O=T=>{switch(T){case"rectangle":case"rectangle-nofill":return"v-rect";case"circle":case"circle-nofill":return"v-circle";case"line":return"v-line";case"text":return"v-text"}},R=()=>{const C=s.value.getStage().toDataURL({pixelRatio:3}),E=new bt({orientation:"landscape",unit:"pt",format:"a3"}),x=E.internal.pageSize.getWidth(),k=E.internal.pageSize.getHeight(),L=new Image;L.src=C,L.onload=()=>{const D=Math.min(x/L.width,k/L.height),q=L.width*D,W=L.height*D,Q=(x-q)/2,ne=(k-W)/2;E.addImage(L,"PNG",Q,ne,q,W),E.save("ritning.pdf")}};return(T,C)=>{const E=xs("v-transformer"),x=xs("v-rect"),k=xs("v-layer"),L=xs("v-stage");return be(),Oe(ct,null,[at(yC,{addShape:U,deleteSelected:F,selectedColor:h.value,saveAsPDF:R,onUpdateColor:C[0]||(C[0]=D=>h.value=D)},null,8,["selectedColor"]),Ee("div",null,[at(L,{config:p.value,onMousemove:w,onClick:S,style:{width:"1550px",height:"850px",border:"1px solid #000"},ref_key:"stageRef",ref:s},{default:dt(()=>[at(k,{ref_key:"layerRef",ref:o},{default:dt(()=>[(be(!0),Oe(ct,null,Jt(t.value,D=>(be(),pt(Qc(O(D.type)),{key:D.id,config:{...D.config,id:D.id,name:"shape",draggable:!0},ref_for:!0,ref_key:"shapeRefs",ref:r,onDblclick:q=>v(D.type,D.id),onDbltap:q=>v(D.type,D.id),onDragend:C[1]||(C[1]=q=>P(q,T.i)),onTransformend:C[2]||(C[2]=q=>M(q,T.i))},null,40,["config","onDblclick","onDbltap"]))),128)),u.isEditing?He("",!0):(be(),pt(E,{key:0,ref_key:"transformerRef",ref:i,config:{boundBoxFunc:(D,q)=>q.width<5||q.height<5?D:q}},null,8,["config"])),c.visible?(be(),pt(x,{key:1,config:{x:Math.min(c.x1,c.x2),y:Math.min(c.y1,c.y2),width:Math.abs(c.x2-c.x1),height:Math.abs(c.y2-c.y1),fill:"rgba(0,0,255,0.5)"}},null,8,["config"])):He("",!0)]),_:1},512)]),_:1},8,["config"]),u.isEditing?(be(),Oe("div",{key:0,id:"text-editor",contenteditable:"",style:_n({position:"absolute",top:`${u.y}px`,left:`${u.x}px`,width:"300px",height:`${u.height}px`,fontSize:`${u.fontSize}px`,border:"1px solid gray",padding:"8px",background:"white",zIndex:1e3,outline:"none",whiteSpace:"pre-wrap",overflow:"hidden"}),onBlur:b,onKeydown:Qv(ma(b,["prevent"]),["enter"])},qt(u.value),45,bC)):He("",!0)])],64)}}},wC=pn(_C,[["__scopeId","data-v-7bb036c1"]]),SC=[{path:"/",component:O7},{path:"/dashboard",component:P7,meta:{requiresAuth:!0},children:[{path:"/not-authorized",component:VA},{path:"/:pathMatch(.*)*",component:HA},{path:"/technicians",component:U7,meta:{requiresAuth:!0,allowedRoles:["service_leader"]}},{path:"/technicians/edit/:id",component:i9,meta:{requiresAuth:!0,allowedRoles:["service_leader"]},props:!0},{path:"/technicians/add",component:o9,meta:{requiresAuth:!0,allowedRoles:["service_leader"]}},{path:"/services",name:"Service",component:l9,meta:{requiresAuth:!0}},{path:"/services/edit/:id",name:"EditService",props:!0,component:OA,meta:{requiresAuth:!0,allowedRoles:["service_leader"]}},{path:"/services/:id",name:"ServiceDetail",component:jA,props:!0,meta:{requiresAuth:!0}},{path:"/services/add",name:"AddService",component:kA,meta:{requiresAuth:!0,allowedRoles:["service_leader"]}},{path:"/orders",name:"Orders",component:Z7,meta:{requiresAuth:!0}},{path:"/orders/edit/:id",component:qA,rops:!0,meta:{requiresAuth:!0,allowedRoles:["service_leader"]}},{path:"/orders/:id",component:$A,rops:!0,meta:{requiresAuth:!0}},{path:"/orders/add",component:BA,meta:{requiresAuth:!0,allowedRoles:["service_leader"]}},{path:"/projects",component:zA,meta:{requiresAuth:!0,allowedRoles:["service_leader"]}},{path:"/projects/edit/:id",component:WA,meta:{requiresAuth:!0,allowedRoles:["service_leader"]}},{path:"/projects/:id",component:YA,meta:{requiresAuth:!0,allowedRoles:["service_leader"]}},{path:"/projects/add",component:KA,meta:{requiresAuth:!0,allowedRoles:["service_leader"]}},{path:"/devices",component:XA,meta:{requiresAuth:!0,allowedRoles:["service_leader"]}},{path:"/devices/:id",component:nP,meta:{requiresAuth:!0,allowedRoles:["service_leader"]}},{path:"/devices/edit/:id",component:JA,meta:{requiresAuth:!0,allowedRoles:["service_leader"]}},{path:"/devices/add",component:QA,meta:{requiresAuth:!0,allowedRoles:["service_leader"]}},{path:"/jobs",component:r9,meta:{requiresAuth:!0}},{path:"/skogsblomman",component:uP,meta:{requiresAuth:!0}},{path:"/department",component:rP,meta:{requiresAuth:!0}},{path:"/gkpaint",component:wC,meta:{requiresAuth:!0}}]}],Gb=p6({history:Vw(),routes:SC});Gb.beforeEach(async(e,t,r)=>{const{data:{user:n}}=await en.auth.getUser();if(e.meta.requiresAuth&&!n)return r("/");if(e.meta.allowedRoles){const{data:a,error:i}=await en.from("users").select("role").eq("auth_id",n.id).single();if(i||!a||!e.meta.allowedRoles.includes(a.role))return r("/not-authorized")}r()});var xh={exports:{}},Eu={},G0={},H0={},Cm;function Dt(){return Cm||(Cm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;const t=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof mg<"u"?mg:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.3.20",isBrowser:r(),isUnminified:/param/.test((function(a){}).toString()),dblClickWindow:400,getAngle(a){return e.Konva.angleDeg?a*t:a},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isTransforming(){var a;return(a=e.Konva.Transformer)===null||a===void 0?void 0:a.isTransforming()},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(a){e.glob.Konva=a}};const n=a=>{e.Konva[a.prototype.getClassName()]=a};e._registerNode=n,e.Konva._injectGlobal(e.Konva)}(H0)),H0}var z0={},Lm;function Nr(){return Lm||(Lm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=Dt();class r{constructor(P=[1,0,0,1,0,0]){this.dirty=!1,this.m=P&&P.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(P){P.m[0]=this.m[0],P.m[1]=this.m[1],P.m[2]=this.m[2],P.m[3]=this.m[3],P.m[4]=this.m[4],P.m[5]=this.m[5]}point(P){const M=this.m;return{x:M[0]*P.x+M[2]*P.y+M[4],y:M[1]*P.x+M[3]*P.y+M[5]}}translate(P,M){return this.m[4]+=this.m[0]*P+this.m[2]*M,this.m[5]+=this.m[1]*P+this.m[3]*M,this}scale(P,M){return this.m[0]*=P,this.m[1]*=P,this.m[2]*=M,this.m[3]*=M,this}rotate(P){const M=Math.cos(P),F=Math.sin(P),U=this.m[0]*M+this.m[2]*F,O=this.m[1]*M+this.m[3]*F,R=this.m[0]*-F+this.m[2]*M,T=this.m[1]*-F+this.m[3]*M;return this.m[0]=U,this.m[1]=O,this.m[2]=R,this.m[3]=T,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(P,M){const F=this.m[0]+this.m[2]*M,U=this.m[1]+this.m[3]*M,O=this.m[2]+this.m[0]*P,R=this.m[3]+this.m[1]*P;return this.m[0]=F,this.m[1]=U,this.m[2]=O,this.m[3]=R,this}multiply(P){const M=this.m[0]*P.m[0]+this.m[2]*P.m[1],F=this.m[1]*P.m[0]+this.m[3]*P.m[1],U=this.m[0]*P.m[2]+this.m[2]*P.m[3],O=this.m[1]*P.m[2]+this.m[3]*P.m[3],R=this.m[0]*P.m[4]+this.m[2]*P.m[5]+this.m[4],T=this.m[1]*P.m[4]+this.m[3]*P.m[5]+this.m[5];return this.m[0]=M,this.m[1]=F,this.m[2]=U,this.m[3]=O,this.m[4]=R,this.m[5]=T,this}invert(){const P=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),M=this.m[3]*P,F=-this.m[1]*P,U=-this.m[2]*P,O=this.m[0]*P,R=P*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),T=P*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=M,this.m[1]=F,this.m[2]=U,this.m[3]=O,this.m[4]=R,this.m[5]=T,this}getMatrix(){return this.m}decompose(){const P=this.m[0],M=this.m[1],F=this.m[2],U=this.m[3],O=this.m[4],R=this.m[5],T=P*U-M*F,C={x:O,y:R,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(P!=0||M!=0){const E=Math.sqrt(P*P+M*M);C.rotation=M>0?Math.acos(P/E):-Math.acos(P/E),C.scaleX=E,C.scaleY=T/E,C.skewX=(P*F+M*U)/T,C.skewY=0}else if(F!=0||U!=0){const E=Math.sqrt(F*F+U*U);C.rotation=Math.PI/2-(U>0?Math.acos(-F/E):-Math.acos(F/E)),C.scaleX=T/E,C.scaleY=E,C.skewX=0,C.skewY=(P*F+M*U)/T}return C.rotation=e.Util._getRotation(C.rotation),C}}e.Transform=r;const n="[object Array]",a="[object Number]",i="[object String]",s="[object Boolean]",o=Math.PI/180,l=180/Math.PI,c="#",u="",h="0",p="Konva warning: ",d="Konva error: ",g="rgb(",y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},S=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let w=[];const v=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(b){setTimeout(b,60)};e.Util={_isElement(b){return!!(b&&b.nodeType==1)},_isFunction(b){return!!(b&&b.constructor&&b.call&&b.apply)},_isPlainObject(b){return!!b&&b.constructor===Object},_isArray(b){return Object.prototype.toString.call(b)===n},_isNumber(b){return Object.prototype.toString.call(b)===a&&!isNaN(b)&&isFinite(b)},_isString(b){return Object.prototype.toString.call(b)===i},_isBoolean(b){return Object.prototype.toString.call(b)===s},isObject(b){return b instanceof Object},isValidSelector(b){if(typeof b!="string")return!1;const P=b[0];return P==="#"||P==="."||P===P.toUpperCase()},_sign(b){return b===0||b>0?1:-1},requestAnimFrame(b){w.push(b),w.length===1&&v(function(){const P=w;w=[],P.forEach(function(M){M()})})},createCanvasElement(){const b=document.createElement("canvas");try{b.style=b.style||{}}catch{}return b},createImageElement(){return document.createElement("img")},_isInDocument(b){for(;b=b.parentNode;)if(b==document)return!0;return!1},_urlToImage(b,P){const M=e.Util.createImageElement();M.onload=function(){P(M)},M.src=b},_rgbToHex(b,P,M){return((1<<24)+(b<<16)+(P<<8)+M).toString(16).slice(1)},_hexToRgb(b){b=b.replace(c,u);const P=parseInt(b,16);return{r:P>>16&255,g:P>>8&255,b:P&255}},getRandomColor(){let b=(Math.random()*16777215<<0).toString(16);for(;b.length<6;)b=h+b;return c+b},getRGB(b){let P;return b in y?(P=y[b],{r:P[0],g:P[1],b:P[2]}):b[0]===c?this._hexToRgb(b.substring(1)):b.substr(0,4)===g?(P=S.exec(b.replace(/ /g,"")),{r:parseInt(P[1],10),g:parseInt(P[2],10),b:parseInt(P[3],10)}):{r:0,g:0,b:0}},colorToRGBA(b){return b=b||"black",e.Util._namedColorToRBA(b)||e.Util._hex3ColorToRGBA(b)||e.Util._hex4ColorToRGBA(b)||e.Util._hex6ColorToRGBA(b)||e.Util._hex8ColorToRGBA(b)||e.Util._rgbColorToRGBA(b)||e.Util._rgbaColorToRGBA(b)||e.Util._hslColorToRGBA(b)},_namedColorToRBA(b){const P=y[b.toLowerCase()];return P?{r:P[0],g:P[1],b:P[2],a:1}:null},_rgbColorToRGBA(b){if(b.indexOf("rgb(")===0){b=b.match(/rgb\(([^)]+)\)/)[1];const P=b.split(/ *, */).map(Number);return{r:P[0],g:P[1],b:P[2],a:1}}},_rgbaColorToRGBA(b){if(b.indexOf("rgba(")===0){b=b.match(/rgba\(([^)]+)\)/)[1];const P=b.split(/ *, */).map((M,F)=>M.slice(-1)==="%"?F===3?parseInt(M)/100:parseInt(M)/100*255:Number(M));return{r:P[0],g:P[1],b:P[2],a:P[3]}}},_hex8ColorToRGBA(b){if(b[0]==="#"&&b.length===9)return{r:parseInt(b.slice(1,3),16),g:parseInt(b.slice(3,5),16),b:parseInt(b.slice(5,7),16),a:parseInt(b.slice(7,9),16)/255}},_hex6ColorToRGBA(b){if(b[0]==="#"&&b.length===7)return{r:parseInt(b.slice(1,3),16),g:parseInt(b.slice(3,5),16),b:parseInt(b.slice(5,7),16),a:1}},_hex4ColorToRGBA(b){if(b[0]==="#"&&b.length===5)return{r:parseInt(b[1]+b[1],16),g:parseInt(b[2]+b[2],16),b:parseInt(b[3]+b[3],16),a:parseInt(b[4]+b[4],16)/255}},_hex3ColorToRGBA(b){if(b[0]==="#"&&b.length===4)return{r:parseInt(b[1]+b[1],16),g:parseInt(b[2]+b[2],16),b:parseInt(b[3]+b[3],16),a:1}},_hslColorToRGBA(b){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(b)){const[P,...M]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(b),F=Number(M[0])/360,U=Number(M[1])/100,O=Number(M[2])/100;let R,T,C;if(U===0)return C=O*255,{r:Math.round(C),g:Math.round(C),b:Math.round(C),a:1};O<.5?R=O*(1+U):R=O+U-O*U;const E=2*O-R,x=[0,0,0];for(let k=0;k<3;k++)T=F+1/3*-(k-1),T<0&&T++,T>1&&T--,6*T<1?C=E+(R-E)*6*T:2*T<1?C=R:3*T<2?C=E+(R-E)*(2/3-T)*6:C=E,x[k]=C*255;return{r:Math.round(x[0]),g:Math.round(x[1]),b:Math.round(x[2]),a:1}}},haveIntersection(b,P){return!(P.x>b.x+b.width||P.x+P.width<b.x||P.y>b.y+b.height||P.y+P.height<b.y)},cloneObject(b){const P={};for(const M in b)this._isPlainObject(b[M])?P[M]=this.cloneObject(b[M]):this._isArray(b[M])?P[M]=this.cloneArray(b[M]):P[M]=b[M];return P},cloneArray(b){return b.slice(0)},degToRad(b){return b*o},radToDeg(b){return b*l},_degToRad(b){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(b)},_radToDeg(b){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(b)},_getRotation(b){return t.Konva.angleDeg?e.Util.radToDeg(b):b},_capitalize(b){return b.charAt(0).toUpperCase()+b.slice(1)},throw(b){throw new Error(d+b)},error(b){console.error(d+b)},warn(b){t.Konva.showWarnings&&console.warn(p+b)},each(b,P){for(const M in b)P(M,b[M])},_inRange(b,P,M){return P<=b&&b<M},_getProjectionToSegment(b,P,M,F,U,O){let R,T,C;const E=(b-M)*(b-M)+(P-F)*(P-F);if(E==0)R=b,T=P,C=(U-M)*(U-M)+(O-F)*(O-F);else{const x=((U-b)*(M-b)+(O-P)*(F-P))/E;x<0?(R=b,T=P,C=(b-U)*(b-U)+(P-O)*(P-O)):x>1?(R=M,T=F,C=(M-U)*(M-U)+(F-O)*(F-O)):(R=b+x*(M-b),T=P+x*(F-P),C=(R-U)*(R-U)+(T-O)*(T-O))}return[R,T,C]},_getProjectionToLine(b,P,M){const F=e.Util.cloneObject(b);let U=Number.MAX_VALUE;return P.forEach(function(O,R){if(!M&&R===P.length-1)return;const T=P[(R+1)%P.length],C=e.Util._getProjectionToSegment(O.x,O.y,T.x,T.y,b.x,b.y),E=C[0],x=C[1],k=C[2];k<U&&(F.x=E,F.y=x,U=k)}),F},_prepareArrayForTween(b,P,M){const F=[],U=[];if(b.length>P.length){const R=P;P=b,b=R}for(let R=0;R<b.length;R+=2)F.push({x:b[R],y:b[R+1]});for(let R=0;R<P.length;R+=2)U.push({x:P[R],y:P[R+1]});const O=[];return U.forEach(function(R){const T=e.Util._getProjectionToLine(R,F,M);O.push(T.x),O.push(T.y)}),O},_prepareToStringify(b){let P;b.visitedByCircularReferenceRemoval=!0;for(const M in b)if(b.hasOwnProperty(M)&&b[M]&&typeof b[M]=="object"){if(P=Object.getOwnPropertyDescriptor(b,M),b[M].visitedByCircularReferenceRemoval||e.Util._isElement(b[M]))if(P.configurable)delete b[M];else return null;else if(e.Util._prepareToStringify(b[M])===null)if(P.configurable)delete b[M];else return null}return delete b.visitedByCircularReferenceRemoval,b},_assign(b,P){for(const M in P)b[M]=P[M];return b},_getFirstPointerId(b){return b.touches?b.changedTouches[0].identifier:b.pointerId||999},releaseCanvas(...b){t.Konva.releaseCanvasOnDestroy&&b.forEach(P=>{P.width=0,P.height=0})},drawRoundedRectPath(b,P,M,F){let U=0,O=0,R=0,T=0;typeof F=="number"?U=O=R=T=Math.min(F,P/2,M/2):(U=Math.min(F[0]||0,P/2,M/2),O=Math.min(F[1]||0,P/2,M/2),T=Math.min(F[2]||0,P/2,M/2),R=Math.min(F[3]||0,P/2,M/2)),b.moveTo(U,0),b.lineTo(P-O,0),b.arc(P-O,O,O,Math.PI*3/2,0,!1),b.lineTo(P,M-T),b.arc(P-T,M-T,T,0,Math.PI/2,!1),b.lineTo(R,M),b.arc(R,M-R,R,Math.PI/2,Math.PI,!1),b.lineTo(0,U),b.arc(U,U,U,Math.PI,Math.PI*3/2,!1)}}}(z0)),z0}var Ru={},W0={},ea={},Nm;function $t(){if(Nm)return ea;Nm=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.RGBComponent=n,ea.alphaComponent=a,ea.getNumberValidator=i,ea.getNumberOrArrayOfNumbersValidator=s,ea.getNumberOrAutoValidator=o,ea.getStringValidator=l,ea.getStringOrGradientValidator=c,ea.getFunctionValidator=u,ea.getNumberArrayValidator=h,ea.getBooleanValidator=p,ea.getComponentValidator=d;const e=Dt(),t=Nr();function r(g){return t.Util._isString(g)?'"'+g+'"':Object.prototype.toString.call(g)==="[object Number]"||t.Util._isBoolean(g)?g:Object.prototype.toString.call(g)}function n(g){return g>255?255:g<0?0:Math.round(g)}function a(g){return g>1?1:g<1e-4?1e-4:g}function i(){if(e.Konva.isUnminified)return function(g,y){return t.Util._isNumber(g)||t.Util.warn(r(g)+' is a not valid value for "'+y+'" attribute. The value should be a number.'),g}}function s(g){if(e.Konva.isUnminified)return function(y,S){let w=t.Util._isNumber(y),v=t.Util._isArray(y)&&y.length==g;return!w&&!v&&t.Util.warn(r(y)+' is a not valid value for "'+S+'" attribute. The value should be a number or Array<number>('+g+")"),y}}function o(){if(e.Konva.isUnminified)return function(g,y){var S=t.Util._isNumber(g),w=g==="auto";return S||w||t.Util.warn(r(g)+' is a not valid value for "'+y+'" attribute. The value should be a number or "auto".'),g}}function l(){if(e.Konva.isUnminified)return function(g,y){return t.Util._isString(g)||t.Util.warn(r(g)+' is a not valid value for "'+y+'" attribute. The value should be a string.'),g}}function c(){if(e.Konva.isUnminified)return function(g,y){const S=t.Util._isString(g),w=Object.prototype.toString.call(g)==="[object CanvasGradient]"||g&&g.addColorStop;return S||w||t.Util.warn(r(g)+' is a not valid value for "'+y+'" attribute. The value should be a string or a native gradient.'),g}}function u(){if(e.Konva.isUnminified)return function(g,y){return t.Util._isFunction(g)||t.Util.warn(r(g)+' is a not valid value for "'+y+'" attribute. The value should be a function.'),g}}function h(){if(e.Konva.isUnminified)return function(g,y){const S=Int8Array?Object.getPrototypeOf(Int8Array):null;return S&&g instanceof S||(t.Util._isArray(g)?g.forEach(function(w){t.Util._isNumber(w)||t.Util.warn('"'+y+'" attribute has non numeric element '+w+". Make sure that all elements are numbers.")}):t.Util.warn(r(g)+' is a not valid value for "'+y+'" attribute. The value should be a array of numbers.')),g}}function p(){if(e.Konva.isUnminified)return function(g,y){var S=g===!0||g===!1;return S||t.Util.warn(r(g)+' is a not valid value for "'+y+'" attribute. The value should be a boolean.'),g}}function d(g){if(e.Konva.isUnminified)return function(y,S){return y==null||t.Util.isObject(y)||t.Util.warn(r(y)+' is a not valid value for "'+S+'" attribute. The value should be an object with properties '+g),y}}return ea}var Tm;function It(){return Tm||(Tm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=Nr(),r=$t(),n="get",a="set";e.Factory={addGetterSetter(i,s,o,l,c){e.Factory.addGetter(i,s,o),e.Factory.addSetter(i,s,l,c),e.Factory.addOverloadedGetterSetter(i,s)},addGetter(i,s,o){var l=n+t.Util._capitalize(s);i.prototype[l]=i.prototype[l]||function(){const c=this.attrs[s];return c===void 0?o:c}},addSetter(i,s,o,l){var c=a+t.Util._capitalize(s);i.prototype[c]||e.Factory.overWriteSetter(i,s,o,l)},overWriteSetter(i,s,o,l){var c=a+t.Util._capitalize(s);i.prototype[c]=function(u){return o&&u!==void 0&&u!==null&&(u=o.call(this,u,s)),this._setAttr(s,u),l&&l.call(this),this}},addComponentsGetterSetter(i,s,o,l,c){const u=o.length,h=t.Util._capitalize,p=n+h(s),d=a+h(s);i.prototype[p]=function(){const y={};for(let S=0;S<u;S++){const w=o[S];y[w]=this.getAttr(s+h(w))}return y};const g=(0,r.getComponentValidator)(o);i.prototype[d]=function(y){const S=this.attrs[s];l&&(y=l.call(this,y,s)),g&&g.call(this,y,s);for(const w in y)y.hasOwnProperty(w)&&this._setAttr(s+h(w),y[w]);return y||o.forEach(w=>{this._setAttr(s+h(w),void 0)}),this._fireChangeEvent(s,S,y),c&&c.call(this),this},e.Factory.addOverloadedGetterSetter(i,s)},addOverloadedGetterSetter(i,s){var o=t.Util._capitalize(s),l=a+o,c=n+o;i.prototype[s]=function(){return arguments.length?(this[l](arguments[0]),this):this[c]()}},addDeprecatedGetterSetter(i,s,o,l){t.Util.error("Adding deprecated "+s);const c=n+t.Util._capitalize(s),u=s+" property is deprecated and will be removed soon. Look at Konva change log for more information.";i.prototype[c]=function(){t.Util.error(u);const h=this.attrs[s];return h===void 0?o:h},e.Factory.addSetter(i,s,l,function(){t.Util.error(u)}),e.Factory.addOverloadedGetterSetter(i,s)},backCompat(i,s){t.Util.each(s,function(o,l){const c=i.prototype[l],u=n+t.Util._capitalize(o),h=a+t.Util._capitalize(o);function p(){c.apply(this,arguments),t.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}i.prototype[o]=p,i.prototype[u]=p,i.prototype[h]=p})},afterSetFilter(){this._filterUpToDate=!1}}}(W0)),W0}var Di={},Ii={},Om;function Hb(){if(Om)return Ii;Om=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.HitContext=Ii.SceneContext=Ii.Context=void 0;const e=Nr(),t=Dt();function r(w){const v=[],b=w.length,P=e.Util;for(let M=0;M<b;M++){let F=w[M];P._isNumber(F)?F=Math.round(F*1e3)/1e3:P._isString(F)||(F=F+""),v.push(F)}return v}const n=",",a="(",i=")",s="([",o="])",l=";",c="()",u="=",h=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],p=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],d=100;let g=class{constructor(v){this.canvas=v,t.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(v){v.fillEnabled()&&this._fill(v)}_fill(v){}strokeShape(v){v.hasStroke()&&this._stroke(v)}_stroke(v){}fillStrokeShape(v){v.attrs.fillAfterStrokeEnabled?(this.strokeShape(v),this.fillShape(v)):(this.fillShape(v),this.strokeShape(v))}getTrace(v,b){let P=this.traceArr,M=P.length,F="",U,O,R,T;for(U=0;U<M;U++)O=P[U],R=O.method,R?(T=O.args,F+=R,v?F+=c:e.Util._isArray(T[0])?F+=s+T.join(n)+o:(b&&(T=T.map(C=>typeof C=="number"?Math.floor(C):C)),F+=a+T.join(n)+i)):(F+=O.property,v||(F+=u+O.val)),F+=l;return F}clearTrace(){this.traceArr=[]}_trace(v){let b=this.traceArr,P;b.push(v),P=b.length,P>=d&&b.shift()}reset(){const v=this.getCanvas().getPixelRatio();this.setTransform(1*v,0,0,1*v,0,0)}getCanvas(){return this.canvas}clear(v){const b=this.getCanvas();v?this.clearRect(v.x||0,v.y||0,v.width||0,v.height||0):this.clearRect(0,0,b.getWidth()/b.pixelRatio,b.getHeight()/b.pixelRatio)}_applyLineCap(v){const b=v.attrs.lineCap;b&&this.setAttr("lineCap",b)}_applyOpacity(v){const b=v.getAbsoluteOpacity();b!==1&&this.setAttr("globalAlpha",b)}_applyLineJoin(v){const b=v.attrs.lineJoin;b&&this.setAttr("lineJoin",b)}setAttr(v,b){this._context[v]=b}arc(v,b,P,M,F,U){this._context.arc(v,b,P,M,F,U)}arcTo(v,b,P,M,F){this._context.arcTo(v,b,P,M,F)}beginPath(){this._context.beginPath()}bezierCurveTo(v,b,P,M,F,U){this._context.bezierCurveTo(v,b,P,M,F,U)}clearRect(v,b,P,M){this._context.clearRect(v,b,P,M)}clip(...v){this._context.clip.apply(this._context,v)}closePath(){this._context.closePath()}createImageData(v,b){const P=arguments;if(P.length===2)return this._context.createImageData(v,b);if(P.length===1)return this._context.createImageData(v)}createLinearGradient(v,b,P,M){return this._context.createLinearGradient(v,b,P,M)}createPattern(v,b){return this._context.createPattern(v,b)}createRadialGradient(v,b,P,M,F,U){return this._context.createRadialGradient(v,b,P,M,F,U)}drawImage(v,b,P,M,F,U,O,R,T){const C=arguments,E=this._context;C.length===3?E.drawImage(v,b,P):C.length===5?E.drawImage(v,b,P,M,F):C.length===9&&E.drawImage(v,b,P,M,F,U,O,R,T)}ellipse(v,b,P,M,F,U,O,R){this._context.ellipse(v,b,P,M,F,U,O,R)}isPointInPath(v,b,P,M){return P?this._context.isPointInPath(P,v,b,M):this._context.isPointInPath(v,b,M)}fill(...v){this._context.fill.apply(this._context,v)}fillRect(v,b,P,M){this._context.fillRect(v,b,P,M)}strokeRect(v,b,P,M){this._context.strokeRect(v,b,P,M)}fillText(v,b,P,M){M?this._context.fillText(v,b,P,M):this._context.fillText(v,b,P)}measureText(v){return this._context.measureText(v)}getImageData(v,b,P,M){return this._context.getImageData(v,b,P,M)}lineTo(v,b){this._context.lineTo(v,b)}moveTo(v,b){this._context.moveTo(v,b)}rect(v,b,P,M){this._context.rect(v,b,P,M)}roundRect(v,b,P,M,F){this._context.roundRect(v,b,P,M,F)}putImageData(v,b,P){this._context.putImageData(v,b,P)}quadraticCurveTo(v,b,P,M){this._context.quadraticCurveTo(v,b,P,M)}restore(){this._context.restore()}rotate(v){this._context.rotate(v)}save(){this._context.save()}scale(v,b){this._context.scale(v,b)}setLineDash(v){this._context.setLineDash?this._context.setLineDash(v):"mozDash"in this._context?this._context.mozDash=v:"webkitLineDash"in this._context&&(this._context.webkitLineDash=v)}getLineDash(){return this._context.getLineDash()}setTransform(v,b,P,M,F,U){this._context.setTransform(v,b,P,M,F,U)}stroke(v){v?this._context.stroke(v):this._context.stroke()}strokeText(v,b,P,M){this._context.strokeText(v,b,P,M)}transform(v,b,P,M,F,U){this._context.transform(v,b,P,M,F,U)}translate(v,b){this._context.translate(v,b)}_enableTrace(){let v=this,b=h.length,P=this.setAttr,M,F;const U=function(O){let R=v[O],T;v[O]=function(){return F=r(Array.prototype.slice.call(arguments,0)),T=R.apply(v,arguments),v._trace({method:O,args:F}),T}};for(M=0;M<b;M++)U(h[M]);v.setAttr=function(){P.apply(v,arguments);const O=arguments[0];let R=arguments[1];(O==="shadowOffsetX"||O==="shadowOffsetY"||O==="shadowBlur")&&(R=R/this.canvas.getPixelRatio()),v._trace({property:O,val:R})}}_applyGlobalCompositeOperation(v){const b=v.attrs.globalCompositeOperation;!b||b==="source-over"||this.setAttr("globalCompositeOperation",b)}};Ii.Context=g,p.forEach(function(w){Object.defineProperty(g.prototype,w,{get(){return this._context[w]},set(v){this._context[w]=v}})});class y extends g{constructor(v,{willReadFrequently:b=!1}={}){super(v),this._context=v._canvas.getContext("2d",{willReadFrequently:b})}_fillColor(v){const b=v.fill();this.setAttr("fillStyle",b),v._fillFunc(this)}_fillPattern(v){this.setAttr("fillStyle",v._getFillPattern()),v._fillFunc(this)}_fillLinearGradient(v){const b=v._getLinearGradient();b&&(this.setAttr("fillStyle",b),v._fillFunc(this))}_fillRadialGradient(v){const b=v._getRadialGradient();b&&(this.setAttr("fillStyle",b),v._fillFunc(this))}_fill(v){const b=v.fill(),P=v.getFillPriority();if(b&&P==="color"){this._fillColor(v);return}const M=v.getFillPatternImage();if(M&&P==="pattern"){this._fillPattern(v);return}const F=v.getFillLinearGradientColorStops();if(F&&P==="linear-gradient"){this._fillLinearGradient(v);return}const U=v.getFillRadialGradientColorStops();if(U&&P==="radial-gradient"){this._fillRadialGradient(v);return}b?this._fillColor(v):M?this._fillPattern(v):F?this._fillLinearGradient(v):U&&this._fillRadialGradient(v)}_strokeLinearGradient(v){const b=v.getStrokeLinearGradientStartPoint(),P=v.getStrokeLinearGradientEndPoint(),M=v.getStrokeLinearGradientColorStops(),F=this.createLinearGradient(b.x,b.y,P.x,P.y);if(M){for(let U=0;U<M.length;U+=2)F.addColorStop(M[U],M[U+1]);this.setAttr("strokeStyle",F)}}_stroke(v){const b=v.dash(),P=v.getStrokeScaleEnabled();if(v.hasStroke()){if(!P){this.save();const F=this.getCanvas().getPixelRatio();this.setTransform(F,0,0,F,0,0)}this._applyLineCap(v),b&&v.dashEnabled()&&(this.setLineDash(b),this.setAttr("lineDashOffset",v.dashOffset())),this.setAttr("lineWidth",v.strokeWidth()),v.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),v.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(v):this.setAttr("strokeStyle",v.stroke()),v._strokeFunc(this),P||this.restore()}}_applyShadow(v){var b,P,M;const F=(b=v.getShadowRGBA())!==null&&b!==void 0?b:"black",U=(P=v.getShadowBlur())!==null&&P!==void 0?P:5,O=(M=v.getShadowOffset())!==null&&M!==void 0?M:{x:0,y:0},R=v.getAbsoluteScale(),T=this.canvas.getPixelRatio(),C=R.x*T,E=R.y*T;this.setAttr("shadowColor",F),this.setAttr("shadowBlur",U*Math.min(Math.abs(C),Math.abs(E))),this.setAttr("shadowOffsetX",O.x*C),this.setAttr("shadowOffsetY",O.y*E)}}Ii.SceneContext=y;class S extends g{constructor(v){super(v),this._context=v._canvas.getContext("2d",{willReadFrequently:!0})}_fill(v){this.save(),this.setAttr("fillStyle",v.colorKey),v._fillFuncHit(this),this.restore()}strokeShape(v){v.hasHitStroke()&&this._stroke(v)}_stroke(v){if(v.hasHitStroke()){const b=v.getStrokeScaleEnabled();if(!b){this.save();const F=this.getCanvas().getPixelRatio();this.setTransform(F,0,0,F,0,0)}this._applyLineCap(v);const P=v.hitStrokeWidth(),M=P==="auto"?v.strokeWidth():P;this.setAttr("lineWidth",M),this.setAttr("strokeStyle",v.colorKey),v._strokeFuncHit(this),b||this.restore()}}}return Ii.HitContext=S,Ii}var Em;function ff(){if(Em)return Di;Em=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.HitCanvas=Di.SceneCanvas=Di.Canvas=void 0;const e=Nr(),t=Hb(),r=Dt();let n;function a(){if(n)return n;const l=e.Util.createCanvasElement(),c=l.getContext("2d");return n=function(){const u=r.Konva._global.devicePixelRatio||1,h=c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1;return u/h}(),e.Util.releaseCanvas(l),n}let i=class{constructor(c){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const h=(c||{}).pixelRatio||r.Konva.pixelRatio||a();this.pixelRatio=h,this._canvas=e.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(c){const u=this.pixelRatio;this.pixelRatio=c,this.setSize(this.getWidth()/u,this.getHeight()/u)}setWidth(c){this.width=this._canvas.width=c*this.pixelRatio,this._canvas.style.width=c+"px";const u=this.pixelRatio;this.getContext()._context.scale(u,u)}setHeight(c){this.height=this._canvas.height=c*this.pixelRatio,this._canvas.style.height=c+"px";const u=this.pixelRatio;this.getContext()._context.scale(u,u)}getWidth(){return this.width}getHeight(){return this.height}setSize(c,u){this.setWidth(c||0),this.setHeight(u||0)}toDataURL(c,u){try{return this._canvas.toDataURL(c,u)}catch{try{return this._canvas.toDataURL()}catch(p){return e.Util.error("Unable to get data URL. "+p.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Di.Canvas=i;class s extends i{constructor(c={width:0,height:0,willReadFrequently:!1}){super(c),this.context=new t.SceneContext(this,{willReadFrequently:c.willReadFrequently}),this.setSize(c.width,c.height)}}Di.SceneCanvas=s;class o extends i{constructor(c={width:0,height:0}){super(c),this.hitCanvas=!0,this.context=new t.HitContext(this),this.setSize(c.width,c.height)}}return Di.HitCanvas=o,Di}var Y0={},Rm;function Mp(){return Rm||(Rm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=Dt(),r=Nr();e.DD={get isDragging(){let n=!1;return e.DD._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){let n;return e.DD._dragElements.forEach(a=>{n=a.node}),n},_dragElements:new Map,_drag(n){const a=[];e.DD._dragElements.forEach((i,s)=>{const{node:o}=i,l=o.getStage();l.setPointersPositions(n),i.pointerId===void 0&&(i.pointerId=r.Util._getFirstPointerId(n));const c=l._changedPointerPositions.find(u=>u.id===i.pointerId);if(c){if(i.dragStatus!=="dragging"){const u=o.dragDistance();if(Math.max(Math.abs(c.x-i.startPointerPos.x),Math.abs(c.y-i.startPointerPos.y))<u||(o.startDrag({evt:n}),!o.isDragging()))return}o._setDragPosition(n,i),a.push(o)}}),a.forEach(i=>{i.fire("dragmove",{type:"dragmove",target:i,evt:n},!0)})},_endDragBefore(n){const a=[];e.DD._dragElements.forEach(i=>{const{node:s}=i,o=s.getStage();if(n&&o.setPointersPositions(n),!o._changedPointerPositions.find(u=>u.id===i.pointerId))return;(i.dragStatus==="dragging"||i.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,i.dragStatus="stopped");const c=i.node.getLayer()||i.node instanceof t.Konva.Stage&&i.node;c&&a.indexOf(c)===-1&&a.push(c)}),a.forEach(i=>{i.draw()})},_endDragAfter(n){e.DD._dragElements.forEach((a,i)=>{a.dragStatus==="stopped"&&a.node.fire("dragend",{type:"dragend",target:a.node,evt:n},!0),a.dragStatus!=="dragging"&&e.DD._dragElements.delete(i)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("touchcancel",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1),window.addEventListener("touchcancel",e.DD._endDragAfter,!1))}(Y0)),Y0}var Mm;function $r(){if(Mm)return Ru;Mm=1,Object.defineProperty(Ru,"__esModule",{value:!0}),Ru.Node=void 0;const e=Nr(),t=It(),r=ff(),n=Dt(),a=Mp(),i=$t(),s="absoluteOpacity",o="allEventListeners",l="absoluteTransform",c="absoluteScale",u="canvas",h="Change",p="children",d="konva",g="listening",y="mouseenter",S="mouseleave",w="set",v="Shape",b=" ",P="stage",M="transform",F="Stage",U="visible",O=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(b);let R=1;class T{constructor(x){this._id=R++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(x),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(x){(x===M||x===l)&&this._cache.get(x)?this._cache.get(x).dirty=!0:x?this._cache.delete(x):this._cache.clear()}_getCache(x,k){let L=this._cache.get(x);return(L===void 0||(x===M||x===l)&&L.dirty===!0)&&(L=k.call(this),this._cache.set(x,L)),L}_calculate(x,k,L){if(!this._attachedDepsListeners.get(x)){const D=k.map(q=>q+"Change.konva").join(b);this.on(D,()=>{this._clearCache(x)}),this._attachedDepsListeners.set(x,!0)}return this._getCache(x,L)}_getCanvasCache(){return this._cache.get(u)}_clearSelfAndDescendantCache(x){this._clearCache(x),x===l&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(u)){const{scene:x,filter:k,hit:L}=this._cache.get(u);e.Util.releaseCanvas(x,k,L),this._cache.delete(u)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(x){const k=x||{};let L={};(k.x===void 0||k.y===void 0||k.width===void 0||k.height===void 0)&&(L=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let D=Math.ceil(k.width||L.width),q=Math.ceil(k.height||L.height),W=k.pixelRatio,Q=k.x===void 0?Math.floor(L.x):k.x,ne=k.y===void 0?Math.floor(L.y):k.y,oe=k.offset||0,$=k.drawBorder||!1,I=k.hitCanvasPixelRatio||1;if(!D||!q){e.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const G=Math.abs(Math.round(L.x)-Q)>.5?1:0,J=Math.abs(Math.round(L.y)-ne)>.5?1:0;D+=oe*2+G,q+=oe*2+J,Q-=oe,ne-=oe;const re=new r.SceneCanvas({pixelRatio:W,width:D,height:q}),_=new r.SceneCanvas({pixelRatio:W,width:0,height:0,willReadFrequently:!0}),V=new r.HitCanvas({pixelRatio:I,width:D,height:q}),Z=re.getContext(),fe=V.getContext();return V.isCache=!0,re.isCache=!0,this._cache.delete(u),this._filterUpToDate=!1,k.imageSmoothingEnabled===!1&&(re.getContext()._context.imageSmoothingEnabled=!1,_.getContext()._context.imageSmoothingEnabled=!1),Z.save(),fe.save(),Z.translate(-Q,-ne),fe.translate(-Q,-ne),this._isUnderCache=!0,this._clearSelfAndDescendantCache(s),this._clearSelfAndDescendantCache(c),this.drawScene(re,this),this.drawHit(V,this),this._isUnderCache=!1,Z.restore(),fe.restore(),$&&(Z.save(),Z.beginPath(),Z.rect(0,0,D,q),Z.closePath(),Z.setAttr("strokeStyle","red"),Z.setAttr("lineWidth",5),Z.stroke(),Z.restore()),this._cache.set(u,{scene:re,filter:_,hit:V,x:Q,y:ne}),this._requestDraw(),this}isCached(){return this._cache.has(u)}getClientRect(x){throw new Error('abstract "getClientRect" method call')}_transformedRect(x,k){const L=[{x:x.x,y:x.y},{x:x.x+x.width,y:x.y},{x:x.x+x.width,y:x.y+x.height},{x:x.x,y:x.y+x.height}];let D=1/0,q=1/0,W=-1/0,Q=-1/0;const ne=this.getAbsoluteTransform(k);return L.forEach(function(oe){const $=ne.point(oe);D===void 0&&(D=W=$.x,q=Q=$.y),D=Math.min(D,$.x),q=Math.min(q,$.y),W=Math.max(W,$.x),Q=Math.max(Q,$.y)}),{x:D,y:q,width:W-D,height:Q-q}}_drawCachedSceneCanvas(x){x.save(),x._applyOpacity(this),x._applyGlobalCompositeOperation(this);const k=this._getCanvasCache();x.translate(k.x,k.y);const L=this._getCachedSceneCanvas(),D=L.pixelRatio;x.drawImage(L._canvas,0,0,L.width/D,L.height/D),x.restore()}_drawCachedHitCanvas(x){const k=this._getCanvasCache(),L=k.hit;x.save(),x.translate(k.x,k.y),x.drawImage(L._canvas,0,0,L.width/L.pixelRatio,L.height/L.pixelRatio),x.restore()}_getCachedSceneCanvas(){let x=this.filters(),k=this._getCanvasCache(),L=k.scene,D=k.filter,q=D.getContext(),W,Q,ne,oe;if(x){if(!this._filterUpToDate){const $=L.pixelRatio;D.setSize(L.width/L.pixelRatio,L.height/L.pixelRatio);try{for(W=x.length,q.clear(),q.drawImage(L._canvas,0,0,L.getWidth()/$,L.getHeight()/$),Q=q.getImageData(0,0,D.getWidth(),D.getHeight()),ne=0;ne<W;ne++){if(oe=x[ne],typeof oe!="function"){e.Util.error("Filter should be type of function, but got "+typeof oe+" instead. Please check correct filters");continue}oe.call(this,Q),q.putImageData(Q,0,0)}}catch(I){e.Util.error("Unable to apply filter. "+I.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return D}return L}on(x,k){if(this._cache&&this._cache.delete(o),arguments.length===3)return this._delegate.apply(this,arguments);let L=x.split(b),D=L.length,q,W,Q,ne,oe;for(q=0;q<D;q++)W=L[q],Q=W.split("."),ne=Q[0],oe=Q[1]||"",this.eventListeners[ne]||(this.eventListeners[ne]=[]),this.eventListeners[ne].push({name:oe,handler:k});return this}off(x,k){let L=(x||"").split(b),D=L.length,q,W,Q,ne,oe,$;if(this._cache&&this._cache.delete(o),!x)for(W in this.eventListeners)this._off(W);for(q=0;q<D;q++)if(Q=L[q],ne=Q.split("."),oe=ne[0],$=ne[1],oe)this.eventListeners[oe]&&this._off(oe,$,k);else for(W in this.eventListeners)this._off(W,$,k);return this}dispatchEvent(x){const k={target:this,type:x.type,evt:x};return this.fire(x.type,k),this}addEventListener(x,k){return this.on(x,function(L){k.call(this,L.evt)}),this}removeEventListener(x){return this.off(x),this}_delegate(x,k,L){const D=this;this.on(x,function(q){const W=q.target.findAncestors(k,!0,D);for(let Q=0;Q<W.length;Q++)q=e.Util.cloneObject(q),q.currentTarget=W[Q],L.call(W[Q],q)})}remove(){return this.isDragging()&&this.stopDrag(),a.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(s),this._clearSelfAndDescendantCache(c),this._clearSelfAndDescendantCache(P),this._clearSelfAndDescendantCache(U),this._clearSelfAndDescendantCache(g)}_remove(){this._clearCaches();const x=this.getParent();x&&x.children&&(x.children.splice(this.index,1),x._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(x){const k="get"+e.Util._capitalize(x);return e.Util._isFunction(this[k])?this[k]():this.attrs[x]}getAncestors(){let x=this.getParent(),k=[];for(;x;)k.push(x),x=x.getParent();return k}getAttrs(){return this.attrs||{}}setAttrs(x){return this._batchTransformChanges(()=>{let k,L;if(!x)return this;for(k in x)k!==p&&(L=w+e.Util._capitalize(k),e.Util._isFunction(this[L])?this[L](x[k]):this._setAttr(k,x[k]))}),this}isListening(){return this._getCache(g,this._isListening)}_isListening(x){if(!this.listening())return!1;const L=this.getParent();return L&&L!==x&&this!==x?L._isListening(x):!0}isVisible(){return this._getCache(U,this._isVisible)}_isVisible(x){if(!this.visible())return!1;const L=this.getParent();return L&&L!==x&&this!==x?L._isVisible(x):!0}shouldDrawHit(x,k=!1){if(x)return this._isVisible(x)&&this._isListening(x);const L=this.getLayer();let D=!1;a.DD._dragElements.forEach(W=>{W.dragStatus==="dragging"&&(W.node.nodeType==="Stage"||W.node.getLayer()===L)&&(D=!0)});const q=!k&&!n.Konva.hitOnDragEnabled&&(D||n.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!q}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let x=this.getDepth(),k=this,L=0,D,q,W,Q;function ne($){for(D=[],q=$.length,W=0;W<q;W++)Q=$[W],L++,Q.nodeType!==v&&(D=D.concat(Q.getChildren().slice())),Q._id===k._id&&(W=q);D.length>0&&D[0].getDepth()<=x&&ne(D)}const oe=this.getStage();return k.nodeType!==F&&oe&&ne(oe.getChildren()),L}getDepth(){let x=0,k=this.parent;for(;k;)x++,k=k.parent;return x}_batchTransformChanges(x){this._batchingTransformChange=!0,x(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(M),this._clearSelfAndDescendantCache(l)),this._needClearTransformCache=!1}setPosition(x){return this._batchTransformChanges(()=>{this.x(x.x),this.y(x.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const x=this.getStage();if(!x)return null;const k=x.getPointerPosition();if(!k)return null;const L=this.getAbsoluteTransform().copy();return L.invert(),L.point(k)}getAbsolutePosition(x){let k=!1,L=this.parent;for(;L;){if(L.isCached()){k=!0;break}L=L.parent}k&&!x&&(x=!0);const D=this.getAbsoluteTransform(x).getMatrix(),q=new e.Transform,W=this.offset();return q.m=D.slice(),q.translate(W.x,W.y),q.getTranslation()}setAbsolutePosition(x){const{x:k,y:L,...D}=this._clearTransform();this.attrs.x=k,this.attrs.y=L,this._clearCache(M);const q=this._getAbsoluteTransform().copy();return q.invert(),q.translate(x.x,x.y),x={x:this.attrs.x+q.getTranslation().x,y:this.attrs.y+q.getTranslation().y},this._setTransform(D),this.setPosition({x:x.x,y:x.y}),this._clearCache(M),this._clearSelfAndDescendantCache(l),this}_setTransform(x){let k;for(k in x)this.attrs[k]=x[k]}_clearTransform(){const x={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,x}move(x){let k=x.x,L=x.y,D=this.x(),q=this.y();return k!==void 0&&(D+=k),L!==void 0&&(q+=L),this.setPosition({x:D,y:q}),this}_eachAncestorReverse(x,k){let L=[],D=this.getParent(),q,W;if(!(k&&k._id===this._id)){for(L.unshift(this);D&&(!k||D._id!==k._id);)L.unshift(D),D=D.parent;for(q=L.length,W=0;W<q;W++)x(L[W])}}rotate(x){return this.rotation(this.rotation()+x),this}moveToTop(){if(!this.parent)return e.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const x=this.index,k=this.parent.getChildren().length;return x<k-1?(this.parent.children.splice(x,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return e.Util.warn("Node has no parent. moveUp function is ignored."),!1;const x=this.index,k=this.parent.getChildren().length;return x<k-1?(this.parent.children.splice(x,1),this.parent.children.splice(x+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return e.Util.warn("Node has no parent. moveDown function is ignored."),!1;const x=this.index;return x>0?(this.parent.children.splice(x,1),this.parent.children.splice(x-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return e.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const x=this.index;return x>0?(this.parent.children.splice(x,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(x){if(!this.parent)return e.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(x<0||x>=this.parent.children.length)&&e.Util.warn("Unexpected value "+x+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const k=this.index;return this.parent.children.splice(k,1),this.parent.children.splice(x,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(s,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let x=this.opacity();const k=this.getParent();return k&&!k._isUnderCache&&(x*=k.getAbsoluteOpacity()),x}moveTo(x){return this.getParent()!==x&&(this._remove(),x.add(this)),this}toObject(){let x=this.getAttrs(),k,L,D,q,W;const Q={attrs:{},className:this.getClassName()};for(k in x)L=x[k],W=e.Util.isObject(L)&&!e.Util._isPlainObject(L)&&!e.Util._isArray(L),!W&&(D=typeof this[k]=="function"&&this[k],delete x[k],q=D?D.call(this):null,x[k]=L,q!==L&&(Q.attrs[k]=L));return e.Util._prepareToStringify(Q)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(x,k,L){const D=[];k&&this._isMatch(x)&&D.push(this);let q=this.parent;for(;q;){if(q===L)return D;q._isMatch(x)&&D.push(q),q=q.parent}return D}isAncestorOf(x){return!1}findAncestor(x,k,L){return this.findAncestors(x,k,L)[0]}_isMatch(x){if(!x)return!1;if(typeof x=="function")return x(this);let k=x.replace(/ /g,"").split(","),L=k.length,D,q;for(D=0;D<L;D++)if(q=k[D],e.Util.isValidSelector(q)||(e.Util.warn('Selector "'+q+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),e.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),e.Util.warn("Konva is awesome, right?")),q.charAt(0)==="#"){if(this.id()===q.slice(1))return!0}else if(q.charAt(0)==="."){if(this.hasName(q.slice(1)))return!0}else if(this.className===q||this.nodeType===q)return!0;return!1}getLayer(){const x=this.getParent();return x?x.getLayer():null}getStage(){return this._getCache(P,this._getStage)}_getStage(){const x=this.getParent();return x?x.getStage():null}fire(x,k={},L){return k.target=k.target||this,L?this._fireAndBubble(x,k):this._fire(x,k),this}getAbsoluteTransform(x){return x?this._getAbsoluteTransform(x):this._getCache(l,this._getAbsoluteTransform)}_getAbsoluteTransform(x){let k;if(x)return k=new e.Transform,this._eachAncestorReverse(function(L){const D=L.transformsEnabled();D==="all"?k.multiply(L.getTransform()):D==="position"&&k.translate(L.x()-L.offsetX(),L.y()-L.offsetY())},x),k;{k=this._cache.get(l)||new e.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(k):k.reset();const L=this.transformsEnabled();if(L==="all")k.multiply(this.getTransform());else if(L==="position"){const D=this.attrs.x||0,q=this.attrs.y||0,W=this.attrs.offsetX||0,Q=this.attrs.offsetY||0;k.translate(D-W,q-Q)}return k.dirty=!1,k}}getAbsoluteScale(x){let k=this;for(;k;)k._isUnderCache&&(x=k),k=k.getParent();const D=this.getAbsoluteTransform(x).decompose();return{x:D.scaleX,y:D.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(M,this._getTransform)}_getTransform(){var x,k;const L=this._cache.get(M)||new e.Transform;L.reset();const D=this.x(),q=this.y(),W=n.Konva.getAngle(this.rotation()),Q=(x=this.attrs.scaleX)!==null&&x!==void 0?x:1,ne=(k=this.attrs.scaleY)!==null&&k!==void 0?k:1,oe=this.attrs.skewX||0,$=this.attrs.skewY||0,I=this.attrs.offsetX||0,G=this.attrs.offsetY||0;return(D!==0||q!==0)&&L.translate(D,q),W!==0&&L.rotate(W),(oe!==0||$!==0)&&L.skew(oe,$),(Q!==1||ne!==1)&&L.scale(Q,ne),(I!==0||G!==0)&&L.translate(-1*I,-1*G),L.dirty=!1,L}clone(x){let k=e.Util.cloneObject(this.attrs),L,D,q,W,Q;for(L in x)k[L]=x[L];const ne=new this.constructor(k);for(L in this.eventListeners)for(D=this.eventListeners[L],q=D.length,W=0;W<q;W++)Q=D[W],Q.name.indexOf(d)<0&&(ne.eventListeners[L]||(ne.eventListeners[L]=[]),ne.eventListeners[L].push(Q));return ne}_toKonvaCanvas(x){x=x||{};const k=this.getClientRect(),L=this.getStage(),D=x.x!==void 0?x.x:Math.floor(k.x),q=x.y!==void 0?x.y:Math.floor(k.y),W=x.pixelRatio||1,Q=new r.SceneCanvas({width:x.width||Math.ceil(k.width)||(L?L.width():0),height:x.height||Math.ceil(k.height)||(L?L.height():0),pixelRatio:W}),ne=Q.getContext(),oe=new r.SceneCanvas({width:Q.width/Q.pixelRatio+Math.abs(D),height:Q.height/Q.pixelRatio+Math.abs(q),pixelRatio:Q.pixelRatio});return x.imageSmoothingEnabled===!1&&(ne._context.imageSmoothingEnabled=!1),ne.save(),(D||q)&&ne.translate(-1*D,-1*q),this.drawScene(Q,void 0,oe),ne.restore(),Q}toCanvas(x){return this._toKonvaCanvas(x)._canvas}toDataURL(x){x=x||{};const k=x.mimeType||null,L=x.quality||null,D=this._toKonvaCanvas(x).toDataURL(k,L);return x.callback&&x.callback(D),D}toImage(x){return new Promise((k,L)=>{try{const D=x==null?void 0:x.callback;D&&delete x.callback,e.Util._urlToImage(this.toDataURL(x),function(q){k(q),D==null||D(q)})}catch(D){L(D)}})}toBlob(x){return new Promise((k,L)=>{try{const D=x==null?void 0:x.callback;D&&delete x.callback,this.toCanvas(x).toBlob(q=>{k(q),D==null||D(q)},x==null?void 0:x.mimeType,x==null?void 0:x.quality)}catch(D){L(D)}})}setSize(x){return this.width(x.width),this.height(x.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():n.Konva.dragDistance}_off(x,k,L){let D=this.eventListeners[x],q,W,Q;for(q=0;q<D.length;q++)if(W=D[q].name,Q=D[q].handler,(W!=="konva"||k==="konva")&&(!k||W===k)&&(!L||L===Q)){if(D.splice(q,1),D.length===0){delete this.eventListeners[x];break}q--}}_fireChangeEvent(x,k,L){this._fire(x+h,{oldVal:k,newVal:L})}addName(x){if(!this.hasName(x)){const k=this.name(),L=k?k+" "+x:x;this.name(L)}return this}hasName(x){if(!x)return!1;const k=this.name();return k?(k||"").split(/\s/g).indexOf(x)!==-1:!1}removeName(x){const k=(this.name()||"").split(/\s/g),L=k.indexOf(x);return L!==-1&&(k.splice(L,1),this.name(k.join(" "))),this}setAttr(x,k){const L=this[w+e.Util._capitalize(x)];return e.Util._isFunction(L)?L.call(this,k):this._setAttr(x,k),this}_requestDraw(){if(n.Konva.autoDrawEnabled){const x=this.getLayer()||this.getStage();x==null||x.batchDraw()}}_setAttr(x,k){const L=this.attrs[x];L===k&&!e.Util.isObject(k)||(k==null?delete this.attrs[x]:this.attrs[x]=k,this._shouldFireChangeEvents&&this._fireChangeEvent(x,L,k),this._requestDraw())}_setComponentAttr(x,k,L){let D;L!==void 0&&(D=this.attrs[x],D||(this.attrs[x]=this.getAttr(x)),this.attrs[x][k]=L,this._fireChangeEvent(x,D,L))}_fireAndBubble(x,k,L){if(k&&this.nodeType===v&&(k.target=this),!((x===y||x===S)&&(L&&(this===L||this.isAncestorOf&&this.isAncestorOf(L))||this.nodeType==="Stage"&&!L))){this._fire(x,k);const q=(x===y||x===S)&&L&&L.isAncestorOf&&L.isAncestorOf(this)&&!L.isAncestorOf(this.parent);(k&&!k.cancelBubble||!k)&&this.parent&&this.parent.isListening()&&!q&&(L&&L.parent?this._fireAndBubble.call(this.parent,x,k,L):this._fireAndBubble.call(this.parent,x,k))}}_getProtoListeners(x){var k,L,D;const q=(k=this._cache.get(o))!==null&&k!==void 0?k:{};let W=q==null?void 0:q[x];if(W===void 0){W=[];let Q=Object.getPrototypeOf(this);for(;Q;){const ne=(D=(L=Q.eventListeners)===null||L===void 0?void 0:L[x])!==null&&D!==void 0?D:[];W.push(...ne),Q=Object.getPrototypeOf(Q)}q[x]=W,this._cache.set(o,q)}return W}_fire(x,k){k=k||{},k.currentTarget=this,k.type=x;const L=this._getProtoListeners(x);if(L)for(var D=0;D<L.length;D++)L[D].handler.call(this,k);const q=this.eventListeners[x];if(q)for(var D=0;D<q.length;D++)q[D].handler.call(this,k)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(x){const k=x?x.pointerId:void 0,L=this.getStage(),D=this.getAbsolutePosition();if(!L)return;const q=L._getPointerById(k)||L._changedPointerPositions[0]||D;a.DD._dragElements.set(this._id,{node:this,startPointerPos:q,offset:{x:q.x-D.x,y:q.y-D.y},dragStatus:"ready",pointerId:k})}startDrag(x,k=!0){a.DD._dragElements.has(this._id)||this._createDragElement(x);const L=a.DD._dragElements.get(this._id);L.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:x&&x.evt},k)}_setDragPosition(x,k){const L=this.getStage()._getPointerById(k.pointerId);if(!L)return;let D={x:L.x-k.offset.x,y:L.y-k.offset.y};const q=this.dragBoundFunc();if(q!==void 0){const W=q.call(this,D,x);W?D=W:e.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==D.x||this._lastPos.y!==D.y)&&(this.setAbsolutePosition(D),this._requestDraw()),this._lastPos=D}stopDrag(x){const k=a.DD._dragElements.get(this._id);k&&(k.dragStatus="stopped"),a.DD._endDragBefore(x),a.DD._endDragAfter(x)}setDraggable(x){this._setAttr("draggable",x),this._dragChange()}isDragging(){const x=a.DD._dragElements.get(this._id);return x?x.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(x){if(!(!(x.evt.button!==void 0)||n.Konva.dragButtons.indexOf(x.evt.button)>=0)||this.isDragging())return;let D=!1;a.DD._dragElements.forEach(q=>{this.isAncestorOf(q.node)&&(D=!0)}),D||this._createDragElement(x)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const k=a.DD._dragElements.get(this._id),L=k&&k.dragStatus==="dragging",D=k&&k.dragStatus==="ready";L?this.stopDrag():D&&a.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(x={x:0,y:0}){const k=this.getStage();if(!k)return!1;const L={x:-x.x,y:-x.y,width:k.width()+2*x.x,height:k.height()+2*x.y};return e.Util.haveIntersection(L,this.getClientRect())}static create(x,k){return e.Util._isString(x)&&(x=JSON.parse(x)),this._createNode(x,k)}static _createNode(x,k){let L=T.prototype.getClassName.call(x),D=x.children,q,W,Q;k&&(x.attrs.container=k),n.Konva[L]||(e.Util.warn('Can not find a node with class name "'+L+'". Fallback to "Shape".'),L="Shape");const ne=n.Konva[L];if(q=new ne(x.attrs),D)for(W=D.length,Q=0;Q<W;Q++)q.add(T._createNode(D[Q]));return q}}Ru.Node=T,T.prototype.nodeType="Node",T.prototype._attrsAffectingSize=[],T.prototype.eventListeners={},T.prototype.on.call(T.prototype,O,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(M),this._clearSelfAndDescendantCache(l)}),T.prototype.on.call(T.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(U)}),T.prototype.on.call(T.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(g)}),T.prototype.on.call(T.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(s)});const C=t.Factory.addGetterSetter;return C(T,"zIndex"),C(T,"absolutePosition"),C(T,"position"),C(T,"x",0,(0,i.getNumberValidator)()),C(T,"y",0,(0,i.getNumberValidator)()),C(T,"globalCompositeOperation","source-over",(0,i.getStringValidator)()),C(T,"opacity",1,(0,i.getNumberValidator)()),C(T,"name","",(0,i.getStringValidator)()),C(T,"id","",(0,i.getStringValidator)()),C(T,"rotation",0,(0,i.getNumberValidator)()),t.Factory.addComponentsGetterSetter(T,"scale",["x","y"]),C(T,"scaleX",1,(0,i.getNumberValidator)()),C(T,"scaleY",1,(0,i.getNumberValidator)()),t.Factory.addComponentsGetterSetter(T,"skew",["x","y"]),C(T,"skewX",0,(0,i.getNumberValidator)()),C(T,"skewY",0,(0,i.getNumberValidator)()),t.Factory.addComponentsGetterSetter(T,"offset",["x","y"]),C(T,"offsetX",0,(0,i.getNumberValidator)()),C(T,"offsetY",0,(0,i.getNumberValidator)()),C(T,"dragDistance",void 0,(0,i.getNumberValidator)()),C(T,"width",0,(0,i.getNumberValidator)()),C(T,"height",0,(0,i.getNumberValidator)()),C(T,"listening",!0,(0,i.getBooleanValidator)()),C(T,"preventDefault",!0,(0,i.getBooleanValidator)()),C(T,"filters",void 0,function(E){return this._filterUpToDate=!1,E}),C(T,"visible",!0,(0,i.getBooleanValidator)()),C(T,"transformsEnabled","all",(0,i.getStringValidator)()),C(T,"size"),C(T,"dragBoundFunc"),C(T,"draggable",!1,(0,i.getBooleanValidator)()),t.Factory.backCompat(T,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),Ru}var Mu={},Dm;function pf(){if(Dm)return Mu;Dm=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.Container=void 0;const e=It(),t=$r(),r=$t();let n=class extends t.Node{constructor(){super(...arguments),this.children=[]}getChildren(i){if(!i)return this.children||[];const s=this.children||[],o=[];return s.forEach(function(l){i(l)&&o.push(l)}),o}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(i=>{i.parent=null,i.index=0,i.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(i=>{i.parent=null,i.index=0,i.destroy()}),this.children=[],this._requestDraw(),this}add(...i){if(i.length===0)return this;if(i.length>1){for(let o=0;o<i.length;o++)this.add(i[o]);return this}const s=i[0];return s.getParent()?(s.moveTo(this),this):(this._validateAdd(s),s.index=this.getChildren().length,s.parent=this,s._clearCaches(),this.getChildren().push(s),this._fire("add",{child:s}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(i){return this._generalFind(i,!1)}findOne(i){const s=this._generalFind(i,!0);return s.length>0?s[0]:void 0}_generalFind(i,s){const o=[];return this._descendants(l=>{const c=l._isMatch(i);return c&&o.push(l),!!(c&&s)}),o}_descendants(i){let s=!1;const o=this.getChildren();for(const l of o){if(s=i(l),s)return!0;if(l.hasChildren()&&(s=l._descendants(i),s))return!0}return!1}toObject(){const i=t.Node.prototype.toObject.call(this);return i.children=[],this.getChildren().forEach(s=>{i.children.push(s.toObject())}),i}isAncestorOf(i){let s=i.getParent();for(;s;){if(s._id===this._id)return!0;s=s.getParent()}return!1}clone(i){const s=t.Node.prototype.clone.call(this,i);return this.getChildren().forEach(function(o){s.add(o.clone())}),s}getAllIntersections(i){const s=[];return this.find("Shape").forEach(o=>{o.isVisible()&&o.intersects(i)&&s.push(o)}),s}_clearSelfAndDescendantCache(i){var s;super._clearSelfAndDescendantCache(i),!this.isCached()&&((s=this.children)===null||s===void 0||s.forEach(function(o){o._clearSelfAndDescendantCache(i)}))}_setChildrenIndices(){var i;(i=this.children)===null||i===void 0||i.forEach(function(s,o){s.index=o}),this._requestDraw()}drawScene(i,s,o){const l=this.getLayer(),c=i||l&&l.getCanvas(),u=c&&c.getContext(),h=this._getCanvasCache(),p=h&&h.scene,d=c&&c.isCache;if(!this.isVisible()&&!d)return this;if(p){u.save();const g=this.getAbsoluteTransform(s).getMatrix();u.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedSceneCanvas(u),u.restore()}else this._drawChildren("drawScene",c,s,o);return this}drawHit(i,s){if(!this.shouldDrawHit(s))return this;const o=this.getLayer(),l=i||o&&o.hitCanvas,c=l&&l.getContext(),u=this._getCanvasCache();if(u&&u.hit){c.save();const p=this.getAbsoluteTransform(s).getMatrix();c.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._drawCachedHitCanvas(c),c.restore()}else this._drawChildren("drawHit",l,s);return this}_drawChildren(i,s,o,l){var c;const u=s&&s.getContext(),h=this.clipWidth(),p=this.clipHeight(),d=this.clipFunc(),g=typeof h=="number"&&typeof p=="number"||d,y=o===this;if(g){u.save();const w=this.getAbsoluteTransform(o);let v=w.getMatrix();u.transform(v[0],v[1],v[2],v[3],v[4],v[5]),u.beginPath();let b;if(d)b=d.call(this,u,this);else{const P=this.clipX(),M=this.clipY();u.rect(P||0,M||0,h,p)}u.clip.apply(u,b),v=w.copy().invert().getMatrix(),u.transform(v[0],v[1],v[2],v[3],v[4],v[5])}const S=!y&&this.globalCompositeOperation()!=="source-over"&&i==="drawScene";S&&(u.save(),u._applyGlobalCompositeOperation(this)),(c=this.children)===null||c===void 0||c.forEach(function(w){w[i](s,o,l)}),S&&u.restore(),g&&u.restore()}getClientRect(i={}){var s;const o=i.skipTransform,l=i.relativeTo;let c,u,h,p,d={x:1/0,y:1/0,width:0,height:0};const g=this;(s=this.children)===null||s===void 0||s.forEach(function(w){if(!w.visible())return;const v=w.getClientRect({relativeTo:g,skipShadow:i.skipShadow,skipStroke:i.skipStroke});v.width===0&&v.height===0||(c===void 0?(c=v.x,u=v.y,h=v.x+v.width,p=v.y+v.height):(c=Math.min(c,v.x),u=Math.min(u,v.y),h=Math.max(h,v.x+v.width),p=Math.max(p,v.y+v.height)))});const y=this.find("Shape");let S=!1;for(let w=0;w<y.length;w++)if(y[w]._isVisible(this)){S=!0;break}return S&&c!==void 0?d={x:c,y:u,width:h-c,height:p-u}:d={x:0,y:0,width:0,height:0},o?d:this._transformedRect(d,l)}};return Mu.Container=n,e.Factory.addComponentsGetterSetter(n,"clip",["x","y","width","height"]),e.Factory.addGetterSetter(n,"clipX",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipY",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipWidth",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipHeight",void 0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(n,"clipFunc"),Mu}var K0={},ps={},Im;function zb(){if(Im)return ps;Im=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.getCapturedShape=n,ps.createEvent=a,ps.hasPointerCapture=i,ps.setPointerCapture=s,ps.releaseCapture=o;const e=Dt(),t=new Map,r=e.Konva._global.PointerEvent!==void 0;function n(l){return t.get(l)}function a(l){return{evt:l,pointerId:l.pointerId}}function i(l,c){return t.get(l)===c}function s(l,c){o(l),c.getStage()&&(t.set(l,c),r&&c._fire("gotpointercapture",a(new PointerEvent("gotpointercapture"))))}function o(l,c){const u=t.get(l);if(!u)return;const h=u.getStage();h&&h.content,t.delete(l),r&&u._fire("lostpointercapture",a(new PointerEvent("lostpointercapture")))}return ps}var Fm;function xC(){return Fm||(Fm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=Nr(),r=It(),n=pf(),a=Dt(),i=ff(),s=Mp(),o=Dt(),l=zb(),c="Stage",u="string",h="px",p="mouseout",d="mouseleave",g="mouseover",y="mouseenter",S="mousemove",w="mousedown",v="mouseup",b="pointermove",P="pointerdown",M="pointerup",F="pointercancel",U="lostpointercapture",O="pointerout",R="pointerleave",T="pointerover",C="pointerenter",E="contextmenu",x="touchstart",k="touchend",L="touchmove",D="touchcancel",q="wheel",W=5,Q=[[y,"_pointerenter"],[w,"_pointerdown"],[S,"_pointermove"],[v,"_pointerup"],[d,"_pointerleave"],[x,"_pointerdown"],[L,"_pointermove"],[k,"_pointerup"],[D,"_pointercancel"],[g,"_pointerover"],[q,"_wheel"],[E,"_contextmenu"],[P,"_pointerdown"],[b,"_pointermove"],[M,"_pointerup"],[F,"_pointercancel"],[U,"_lostpointercapture"]],ne={mouse:{[O]:p,[R]:d,[T]:g,[C]:y,[b]:S,[P]:w,[M]:v,[F]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[O]:"touchout",[R]:"touchleave",[T]:"touchover",[C]:"touchenter",[b]:L,[P]:x,[M]:k,[F]:D,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[O]:O,[R]:R,[T]:T,[C]:C,[b]:b,[P]:P,[M]:M,[F]:F,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},oe=re=>re.indexOf("pointer")>=0?"pointer":re.indexOf("touch")>=0?"touch":"mouse",$=re=>{const _=oe(re);if(_==="pointer")return a.Konva.pointerEventsEnabled&&ne.pointer;if(_==="touch")return ne.touch;if(_==="mouse")return ne.mouse};function I(re={}){return(re.clipFunc||re.clipWidth||re.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),re}const G="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class J extends n.Container{constructor(_){super(I(_)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{I(this.attrs)}),this._checkVisibility()}_validateAdd(_){const V=_.getType()==="Layer",Z=_.getType()==="FastLayer";V||Z||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const _=this.visible()?"":"none";this.content.style.display=_}setContainer(_){if(typeof _===u){if(_.charAt(0)==="."){const Z=_.slice(1);_=document.getElementsByClassName(Z)[0]}else{var V;_.charAt(0)!=="#"?V=_:V=_.slice(1),_=document.getElementById(V)}if(!_)throw"Can not find container in document with id "+V}return this._setAttr("container",_),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),_.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const _=this.children,V=_.length;for(let Z=0;Z<V;Z++)_[Z].clear();return this}clone(_){return _||(_={}),_.container=typeof document<"u"&&document.createElement("div"),n.Container.prototype.clone.call(this,_)}destroy(){super.destroy();const _=this.content;_&&t.Util._isInDocument(_)&&this.container().removeChild(_);const V=e.stages.indexOf(this);return V>-1&&e.stages.splice(V,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const _=this._pointerPositions[0]||this._changedPointerPositions[0];return _?{x:_.x,y:_.y}:(t.Util.warn(G),null)}_getPointerById(_){return this._pointerPositions.find(V=>V.id===_)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(_){_=_||{},_.x=_.x||0,_.y=_.y||0,_.width=_.width||this.width(),_.height=_.height||this.height();const V=new i.SceneCanvas({width:_.width,height:_.height,pixelRatio:_.pixelRatio||1}),Z=V.getContext()._context,fe=this.children;return(_.x||_.y)&&Z.translate(-1*_.x,-1*_.y),fe.forEach(function(le){if(!le.isVisible())return;const X=le._toKonvaCanvas(_);Z.drawImage(X._canvas,_.x,_.y,X.getWidth()/X.getPixelRatio(),X.getHeight()/X.getPixelRatio())}),V}getIntersection(_){if(!_)return null;const V=this.children,Z=V.length,fe=Z-1;for(let le=fe;le>=0;le--){const X=V[le].getIntersection(_);if(X)return X}return null}_resizeDOM(){const _=this.width(),V=this.height();this.content&&(this.content.style.width=_+h,this.content.style.height=V+h),this.bufferCanvas.setSize(_,V),this.bufferHitCanvas.setSize(_,V),this.children.forEach(Z=>{Z.setSize({width:_,height:V}),Z.draw()})}add(_,...V){if(arguments.length>1){for(let fe=0;fe<arguments.length;fe++)this.add(arguments[fe]);return this}super.add(_);const Z=this.children.length;return Z>W&&t.Util.warn("The stage has "+Z+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),_.setSize({width:this.width(),height:this.height()}),_.draw(),a.Konva.isBrowser&&this.content.appendChild(_.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(_){return l.hasPointerCapture(_,this)}setPointerCapture(_){l.setPointerCapture(_,this)}releaseCapture(_){l.releaseCapture(_,this)}getLayers(){return this.children}_bindContentEvents(){a.Konva.isBrowser&&Q.forEach(([_,V])=>{this.content.addEventListener(_,Z=>{this[V](Z)},{passive:!1})})}_pointerenter(_){this.setPointersPositions(_);const V=$(_.type);V&&this._fire(V.pointerenter,{evt:_,target:this,currentTarget:this})}_pointerover(_){this.setPointersPositions(_);const V=$(_.type);V&&this._fire(V.pointerover,{evt:_,target:this,currentTarget:this})}_getTargetShape(_){let V=this[_+"targetShape"];return V&&!V.getStage()&&(V=null),V}_pointerleave(_){const V=$(_.type),Z=oe(_.type);if(!V)return;this.setPointersPositions(_);const fe=this._getTargetShape(Z),le=!(a.Konva.isDragging()||a.Konva.isTransforming())||a.Konva.hitOnDragEnabled;fe&&le?(fe._fireAndBubble(V.pointerout,{evt:_}),fe._fireAndBubble(V.pointerleave,{evt:_}),this._fire(V.pointerleave,{evt:_,target:this,currentTarget:this}),this[Z+"targetShape"]=null):le&&(this._fire(V.pointerleave,{evt:_,target:this,currentTarget:this}),this._fire(V.pointerout,{evt:_,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(_){const V=$(_.type),Z=oe(_.type);if(!V)return;this.setPointersPositions(_);let fe=!1;this._changedPointerPositions.forEach(le=>{const X=this.getIntersection(le);if(s.DD.justDragged=!1,a.Konva["_"+Z+"ListenClick"]=!0,!X||!X.isListening()){this[Z+"ClickStartShape"]=void 0;return}a.Konva.capturePointerEventsEnabled&&X.setPointerCapture(le.id),this[Z+"ClickStartShape"]=X,X._fireAndBubble(V.pointerdown,{evt:_,pointerId:le.id}),fe=!0;const z=_.type.indexOf("touch")>=0;X.preventDefault()&&_.cancelable&&z&&_.preventDefault()}),fe||this._fire(V.pointerdown,{evt:_,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(_){const V=$(_.type),Z=oe(_.type);if(!V||(a.Konva.isDragging()&&s.DD.node.preventDefault()&&_.cancelable&&_.preventDefault(),this.setPointersPositions(_),!(!(a.Konva.isDragging()||a.Konva.isTransforming())||a.Konva.hitOnDragEnabled)))return;const le={};let X=!1;const z=this._getTargetShape(Z);this._changedPointerPositions.forEach(se=>{const B=l.getCapturedShape(se.id)||this.getIntersection(se),H=se.id,de={evt:_,pointerId:H},ge=z!==B;if(ge&&z&&(z._fireAndBubble(V.pointerout,{...de},B),z._fireAndBubble(V.pointerleave,{...de},B)),B){if(le[B._id])return;le[B._id]=!0}B&&B.isListening()?(X=!0,ge&&(B._fireAndBubble(V.pointerover,{...de},z),B._fireAndBubble(V.pointerenter,{...de},z),this[Z+"targetShape"]=B),B._fireAndBubble(V.pointermove,{...de})):z&&(this._fire(V.pointerover,{evt:_,target:this,currentTarget:this,pointerId:H}),this[Z+"targetShape"]=null)}),X||this._fire(V.pointermove,{evt:_,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(_){const V=$(_.type),Z=oe(_.type);if(!V)return;this.setPointersPositions(_);const fe=this[Z+"ClickStartShape"],le=this[Z+"ClickEndShape"],X={};let z=!1;this._changedPointerPositions.forEach(se=>{const B=l.getCapturedShape(se.id)||this.getIntersection(se);if(B){if(B.releaseCapture(se.id),X[B._id])return;X[B._id]=!0}const H=se.id,de={evt:_,pointerId:H};let ge=!1;a.Konva["_"+Z+"InDblClickWindow"]?(ge=!0,clearTimeout(this[Z+"DblTimeout"])):s.DD.justDragged||(a.Konva["_"+Z+"InDblClickWindow"]=!0,clearTimeout(this[Z+"DblTimeout"])),this[Z+"DblTimeout"]=setTimeout(function(){a.Konva["_"+Z+"InDblClickWindow"]=!1},a.Konva.dblClickWindow),B&&B.isListening()?(z=!0,this[Z+"ClickEndShape"]=B,B._fireAndBubble(V.pointerup,{...de}),a.Konva["_"+Z+"ListenClick"]&&fe&&fe===B&&(B._fireAndBubble(V.pointerclick,{...de}),ge&&le&&le===B&&B._fireAndBubble(V.pointerdblclick,{...de}))):(this[Z+"ClickEndShape"]=null,a.Konva["_"+Z+"ListenClick"]&&this._fire(V.pointerclick,{evt:_,target:this,currentTarget:this,pointerId:H}),ge&&this._fire(V.pointerdblclick,{evt:_,target:this,currentTarget:this,pointerId:H}))}),z||this._fire(V.pointerup,{evt:_,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a.Konva["_"+Z+"ListenClick"]=!1,_.cancelable&&Z!=="touch"&&Z!=="pointer"&&_.preventDefault()}_contextmenu(_){this.setPointersPositions(_);const V=this.getIntersection(this.getPointerPosition());V&&V.isListening()?V._fireAndBubble(E,{evt:_}):this._fire(E,{evt:_,target:this,currentTarget:this})}_wheel(_){this.setPointersPositions(_);const V=this.getIntersection(this.getPointerPosition());V&&V.isListening()?V._fireAndBubble(q,{evt:_}):this._fire(q,{evt:_,target:this,currentTarget:this})}_pointercancel(_){this.setPointersPositions(_);const V=l.getCapturedShape(_.pointerId)||this.getIntersection(this.getPointerPosition());V&&V._fireAndBubble(M,l.createEvent(_)),l.releaseCapture(_.pointerId)}_lostpointercapture(_){l.releaseCapture(_.pointerId)}setPointersPositions(_){const V=this._getContentPosition();let Z=null,fe=null;_=_||window.event,_.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(_.touches,le=>{this._pointerPositions.push({id:le.identifier,x:(le.clientX-V.left)/V.scaleX,y:(le.clientY-V.top)/V.scaleY})}),Array.prototype.forEach.call(_.changedTouches||_.touches,le=>{this._changedPointerPositions.push({id:le.identifier,x:(le.clientX-V.left)/V.scaleX,y:(le.clientY-V.top)/V.scaleY})})):(Z=(_.clientX-V.left)/V.scaleX,fe=(_.clientY-V.top)/V.scaleY,this.pointerPos={x:Z,y:fe},this._pointerPositions=[{x:Z,y:fe,id:t.Util._getFirstPointerId(_)}],this._changedPointerPositions=[{x:Z,y:fe,id:t.Util._getFirstPointerId(_)}])}_setPointerPosition(_){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(_)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const _=this.content.getBoundingClientRect();return{top:_.top,left:_.left,scaleX:_.width/this.content.clientWidth||1,scaleY:_.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new i.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new i.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!a.Konva.isBrowser)return;const _=this.container();if(!_)throw"Stage has no container. A container is required.";_.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),_.appendChild(this.content),this._resizeDOM()}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(_){_.batchDraw()}),this}}e.Stage=J,J.prototype.nodeType=c,(0,o._registerNode)(J),r.Factory.addGetterSetter(J,"container"),a.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{e.stages.forEach(re=>{re.batchDraw()})})}(K0)),K0}var Du={},X0={},jm;function gn(){return jm||(jm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=Dt(),r=Nr(),n=It(),a=$r(),i=$t(),s=Dt(),o=zb(),l="hasShadow",c="shadowRGBA",u="patternImage",h="linearGradient",p="radialGradient";let d;function g(){return d||(d=r.Util.createCanvasElement().getContext("2d"),d)}e.shapes={};function y(R){const T=this.attrs.fillRule;T?R.fill(T):R.fill()}function S(R){R.stroke()}function w(R){const T=this.attrs.fillRule;T?R.fill(T):R.fill()}function v(R){R.stroke()}function b(){this._clearCache(l)}function P(){this._clearCache(c)}function M(){this._clearCache(u)}function F(){this._clearCache(h)}function U(){this._clearCache(p)}class O extends a.Node{constructor(T){super(T);let C;for(;C=r.Util.getRandomColor(),!(C&&!(C in e.shapes)););this.colorKey=C,e.shapes[C]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(u,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const C=g().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(C&&C.setTransform){const E=new r.Transform;E.translate(this.fillPatternX(),this.fillPatternY()),E.rotate(t.Konva.getAngle(this.fillPatternRotation())),E.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),E.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const x=E.getMatrix(),k=typeof DOMMatrix>"u"?{a:x[0],b:x[1],c:x[2],d:x[3],e:x[4],f:x[5]}:new DOMMatrix(x);C.setTransform(k)}return C}}_getLinearGradient(){return this._getCache(h,this.__getLinearGradient)}__getLinearGradient(){const T=this.fillLinearGradientColorStops();if(T){const C=g(),E=this.fillLinearGradientStartPoint(),x=this.fillLinearGradientEndPoint(),k=C.createLinearGradient(E.x,E.y,x.x,x.y);for(let L=0;L<T.length;L+=2)k.addColorStop(T[L],T[L+1]);return k}}_getRadialGradient(){return this._getCache(p,this.__getRadialGradient)}__getRadialGradient(){const T=this.fillRadialGradientColorStops();if(T){const C=g(),E=this.fillRadialGradientStartPoint(),x=this.fillRadialGradientEndPoint(),k=C.createRadialGradient(E.x,E.y,this.fillRadialGradientStartRadius(),x.x,x.y,this.fillRadialGradientEndRadius());for(let L=0;L<T.length;L+=2)k.addColorStop(T[L],T[L+1]);return k}}getShadowRGBA(){return this._getCache(c,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const T=r.Util.colorToRGBA(this.shadowColor());if(T)return"rgba("+T.r+","+T.g+","+T.b+","+T.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const T=this.hitStrokeWidth();return T==="auto"?this.hasStroke():this.strokeEnabled()&&!!T}intersects(T){const C=this.getStage();if(!C)return!1;const E=C.bufferHitCanvas;return E.getContext().clear(),this.drawHit(E,void 0,!0),E.context.getImageData(Math.round(T.x),Math.round(T.y),1,1).data[3]>0}destroy(){return a.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(T){var C;if(!((C=this.attrs.perfectDrawEnabled)!==null&&C!==void 0?C:!0))return!1;const x=T||this.hasFill(),k=this.hasStroke(),L=this.getAbsoluteOpacity()!==1;if(x&&k&&L)return!0;const D=this.hasShadow(),q=this.shadowForStrokeEnabled();return!!(x&&k&&D&&q)}setStrokeHitEnabled(T){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),T?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const T=this.size();return{x:this._centroid?-T.width/2:0,y:this._centroid?-T.height/2:0,width:T.width,height:T.height}}getClientRect(T={}){let C=!1,E=this.getParent();for(;E;){if(E.isCached()){C=!0;break}E=E.getParent()}const x=T.skipTransform,k=T.relativeTo||C&&this.getStage()||void 0,L=this.getSelfRect(),q=!T.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,W=L.width+q,Q=L.height+q,ne=!T.skipShadow&&this.hasShadow(),oe=ne?this.shadowOffsetX():0,$=ne?this.shadowOffsetY():0,I=W+Math.abs(oe),G=Q+Math.abs($),J=ne&&this.shadowBlur()||0,re=I+J*2,_=G+J*2,V={width:re,height:_,x:-(q/2+J)+Math.min(oe,0)+L.x,y:-(q/2+J)+Math.min($,0)+L.y};return x?V:this._transformedRect(V,k)}drawScene(T,C,E){const x=this.getLayer();let k=T||x.getCanvas(),L=k.getContext(),D=this._getCanvasCache(),q=this.getSceneFunc(),W=this.hasShadow(),Q,ne;const oe=k.isCache,$=C===this;if(!this.isVisible()&&!$)return this;if(D){L.save();const G=this.getAbsoluteTransform(C).getMatrix();return L.transform(G[0],G[1],G[2],G[3],G[4],G[5]),this._drawCachedSceneCanvas(L),L.restore(),this}if(!q)return this;if(L.save(),this._useBufferCanvas()&&!oe){Q=this.getStage();const G=E||Q.bufferCanvas;ne=G.getContext(),ne.clear(),ne.save(),ne._applyLineJoin(this);var I=this.getAbsoluteTransform(C).getMatrix();ne.transform(I[0],I[1],I[2],I[3],I[4],I[5]),q.call(this,ne,this),ne.restore();const J=G.pixelRatio;W&&L._applyShadow(this),L._applyOpacity(this),L._applyGlobalCompositeOperation(this),L.drawImage(G._canvas,0,0,G.width/J,G.height/J)}else{if(L._applyLineJoin(this),!$){var I=this.getAbsoluteTransform(C).getMatrix();L.transform(I[0],I[1],I[2],I[3],I[4],I[5]),L._applyOpacity(this),L._applyGlobalCompositeOperation(this)}W&&L._applyShadow(this),q.call(this,L,this)}return L.restore(),this}drawHit(T,C,E=!1){if(!this.shouldDrawHit(C,E))return this;const x=this.getLayer(),k=T||x.hitCanvas,L=k&&k.getContext(),D=this.hitFunc()||this.sceneFunc(),q=this._getCanvasCache(),W=q&&q.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),W){L.save();const ne=this.getAbsoluteTransform(C).getMatrix();return L.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]),this._drawCachedHitCanvas(L),L.restore(),this}if(!D)return this;if(L.save(),L._applyLineJoin(this),!(this===C)){const ne=this.getAbsoluteTransform(C).getMatrix();L.transform(ne[0],ne[1],ne[2],ne[3],ne[4],ne[5])}return D.call(this,L,this),L.restore(),this}drawHitFromCache(T=0){const C=this._getCanvasCache(),E=this._getCachedSceneCanvas(),x=C.hit,k=x.getContext(),L=x.getWidth(),D=x.getHeight();k.clear(),k.drawImage(E._canvas,0,0,L,D);try{const q=k.getImageData(0,0,L,D),W=q.data,Q=W.length,ne=r.Util._hexToRgb(this.colorKey);for(let oe=0;oe<Q;oe+=4)W[oe+3]>T?(W[oe]=ne.r,W[oe+1]=ne.g,W[oe+2]=ne.b,W[oe+3]=255):W[oe+3]=0;k.putImageData(q,0,0)}catch(q){r.Util.error("Unable to draw hit graph from cached scene canvas. "+q.message)}return this}hasPointerCapture(T){return o.hasPointerCapture(T,this)}setPointerCapture(T){o.setPointerCapture(T,this)}releaseCapture(T){o.releaseCapture(T,this)}}e.Shape=O,O.prototype._fillFunc=y,O.prototype._strokeFunc=S,O.prototype._fillFuncHit=w,O.prototype._strokeFuncHit=v,O.prototype._centroid=!1,O.prototype.nodeType="Shape",(0,s._registerNode)(O),O.prototype.eventListeners={},O.prototype.on.call(O.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",b),O.prototype.on.call(O.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",P),O.prototype.on.call(O.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",M),O.prototype.on.call(O.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",F),O.prototype.on.call(O.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",U),n.Factory.addGetterSetter(O,"stroke",void 0,(0,i.getStringOrGradientValidator)()),n.Factory.addGetterSetter(O,"strokeWidth",2,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(O,"fillAfterStrokeEnabled",!1),n.Factory.addGetterSetter(O,"hitStrokeWidth","auto",(0,i.getNumberOrAutoValidator)()),n.Factory.addGetterSetter(O,"strokeHitEnabled",!0,(0,i.getBooleanValidator)()),n.Factory.addGetterSetter(O,"perfectDrawEnabled",!0,(0,i.getBooleanValidator)()),n.Factory.addGetterSetter(O,"shadowForStrokeEnabled",!0,(0,i.getBooleanValidator)()),n.Factory.addGetterSetter(O,"lineJoin"),n.Factory.addGetterSetter(O,"lineCap"),n.Factory.addGetterSetter(O,"sceneFunc"),n.Factory.addGetterSetter(O,"hitFunc"),n.Factory.addGetterSetter(O,"dash"),n.Factory.addGetterSetter(O,"dashOffset",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(O,"shadowColor",void 0,(0,i.getStringValidator)()),n.Factory.addGetterSetter(O,"shadowBlur",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(O,"shadowOpacity",1,(0,i.getNumberValidator)()),n.Factory.addComponentsGetterSetter(O,"shadowOffset",["x","y"]),n.Factory.addGetterSetter(O,"shadowOffsetX",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(O,"shadowOffsetY",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(O,"fillPatternImage"),n.Factory.addGetterSetter(O,"fill",void 0,(0,i.getStringOrGradientValidator)()),n.Factory.addGetterSetter(O,"fillPatternX",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(O,"fillPatternY",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(O,"fillLinearGradientColorStops"),n.Factory.addGetterSetter(O,"strokeLinearGradientColorStops"),n.Factory.addGetterSetter(O,"fillRadialGradientStartRadius",0),n.Factory.addGetterSetter(O,"fillRadialGradientEndRadius",0),n.Factory.addGetterSetter(O,"fillRadialGradientColorStops"),n.Factory.addGetterSetter(O,"fillPatternRepeat","repeat"),n.Factory.addGetterSetter(O,"fillEnabled",!0),n.Factory.addGetterSetter(O,"strokeEnabled",!0),n.Factory.addGetterSetter(O,"shadowEnabled",!0),n.Factory.addGetterSetter(O,"dashEnabled",!0),n.Factory.addGetterSetter(O,"strokeScaleEnabled",!0),n.Factory.addGetterSetter(O,"fillPriority","color"),n.Factory.addComponentsGetterSetter(O,"fillPatternOffset",["x","y"]),n.Factory.addGetterSetter(O,"fillPatternOffsetX",0,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(O,"fillPatternOffsetY",0,(0,i.getNumberValidator)()),n.Factory.addComponentsGetterSetter(O,"fillPatternScale",["x","y"]),n.Factory.addGetterSetter(O,"fillPatternScaleX",1,(0,i.getNumberValidator)()),n.Factory.addGetterSetter(O,"fillPatternScaleY",1,(0,i.getNumberValidator)()),n.Factory.addComponentsGetterSetter(O,"fillLinearGradientStartPoint",["x","y"]),n.Factory.addComponentsGetterSetter(O,"strokeLinearGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(O,"fillLinearGradientStartPointX",0),n.Factory.addGetterSetter(O,"strokeLinearGradientStartPointX",0),n.Factory.addGetterSetter(O,"fillLinearGradientStartPointY",0),n.Factory.addGetterSetter(O,"strokeLinearGradientStartPointY",0),n.Factory.addComponentsGetterSetter(O,"fillLinearGradientEndPoint",["x","y"]),n.Factory.addComponentsGetterSetter(O,"strokeLinearGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(O,"fillLinearGradientEndPointX",0),n.Factory.addGetterSetter(O,"strokeLinearGradientEndPointX",0),n.Factory.addGetterSetter(O,"fillLinearGradientEndPointY",0),n.Factory.addGetterSetter(O,"strokeLinearGradientEndPointY",0),n.Factory.addComponentsGetterSetter(O,"fillRadialGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(O,"fillRadialGradientStartPointX",0),n.Factory.addGetterSetter(O,"fillRadialGradientStartPointY",0),n.Factory.addComponentsGetterSetter(O,"fillRadialGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(O,"fillRadialGradientEndPointX",0),n.Factory.addGetterSetter(O,"fillRadialGradientEndPointY",0),n.Factory.addGetterSetter(O,"fillPatternRotation",0),n.Factory.addGetterSetter(O,"fillRule",void 0,(0,i.getStringValidator)()),n.Factory.backCompat(O,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})}(X0)),X0}var Bm;function Wb(){if(Bm)return Du;Bm=1,Object.defineProperty(Du,"__esModule",{value:!0}),Du.Layer=void 0;const e=Nr(),t=pf(),r=$r(),n=It(),a=ff(),i=$t(),s=gn(),o=Dt(),l="#",c="beforeDraw",u="draw",h=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],p=h.length;let d=class extends t.Container{constructor(y){super(y),this.canvas=new a.SceneCanvas,this.hitCanvas=new a.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(y){return this.getContext().clear(y),this.getHitCanvas().getContext().clear(y),this}setZIndex(y){super.setZIndex(y);const S=this.getStage();return S&&S.content&&(S.content.removeChild(this.getNativeCanvasElement()),y<S.children.length-1?S.content.insertBefore(this.getNativeCanvasElement(),S.children[y+1].getCanvas()._canvas):S.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){r.Node.prototype.moveToTop.call(this);const y=this.getStage();return y&&y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!r.Node.prototype.moveUp.call(this))return!1;const S=this.getStage();return!S||!S.content?!1:(S.content.removeChild(this.getNativeCanvasElement()),this.index<S.children.length-1?S.content.insertBefore(this.getNativeCanvasElement(),S.children[this.index+1].getCanvas()._canvas):S.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(r.Node.prototype.moveDown.call(this)){const y=this.getStage();if(y){const S=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),S[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(r.Node.prototype.moveToBottom.call(this)){const y=this.getStage();if(y){const S=y.children;y.content&&(y.content.removeChild(this.getNativeCanvasElement()),y.content.insertBefore(this.getNativeCanvasElement(),S[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const y=this.getNativeCanvasElement();return r.Node.prototype.remove.call(this),y&&y.parentNode&&e.Util._isInDocument(y)&&y.parentNode.removeChild(y),this}getStage(){return this.parent}setSize({width:y,height:S}){return this.canvas.setSize(y,S),this.hitCanvas.setSize(y,S),this._setSmoothEnabled(),this}_validateAdd(y){const S=y.getType();S!=="Group"&&S!=="Shape"&&e.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(y){return y=y||{},y.width=y.width||this.getWidth(),y.height=y.height||this.getHeight(),y.x=y.x!==void 0?y.x:this.x(),y.y=y.y!==void 0?y.y:this.y(),r.Node.prototype._toKonvaCanvas.call(this,y)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){e.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){e.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,e.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(y){if(!this.isListening()||!this.isVisible())return null;let S=1,w=!1;for(;;){for(let v=0;v<p;v++){const b=h[v],P=this._getIntersection({x:y.x+b.x*S,y:y.y+b.y*S}),M=P.shape;if(M)return M;if(w=!!P.antialiased,!P.antialiased)break}if(w)S+=1;else return null}}_getIntersection(y){const S=this.hitCanvas.pixelRatio,w=this.hitCanvas.context.getImageData(Math.round(y.x*S),Math.round(y.y*S),1,1).data,v=w[3];if(v===255){const b=e.Util._rgbToHex(w[0],w[1],w[2]),P=s.shapes[l+b];return P?{shape:P}:{antialiased:!0}}else if(v>0)return{antialiased:!0};return{}}drawScene(y,S){const w=this.getLayer(),v=y||w&&w.getCanvas();return this._fire(c,{node:this}),this.clearBeforeDraw()&&v.getContext().clear(),t.Container.prototype.drawScene.call(this,v,S),this._fire(u,{node:this}),this}drawHit(y,S){const w=this.getLayer(),v=y||w&&w.hitCanvas;return w&&w.clearBeforeDraw()&&w.getHitCanvas().getContext().clear(),t.Container.prototype.drawHit.call(this,v,S),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(y){e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(y)}getHitGraphEnabled(y){return e.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const y=this.parent;!!this.hitCanvas._canvas.parentNode?y.content.removeChild(this.hitCanvas._canvas):y.content.appendChild(this.hitCanvas._canvas)}destroy(){return e.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};return Du.Layer=d,d.prototype.nodeType="Layer",(0,o._registerNode)(d),n.Factory.addGetterSetter(d,"imageSmoothingEnabled",!0),n.Factory.addGetterSetter(d,"clearBeforeDraw",!0),n.Factory.addGetterSetter(d,"hitGraphEnabled",!0,(0,i.getBooleanValidator)()),Du}var Iu={},qm;function kC(){if(qm)return Iu;qm=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.FastLayer=void 0;const e=Nr(),t=Wb(),r=Dt();let n=class extends t.Layer{constructor(i){super(i),this.listening(!1),e.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}};return Iu.FastLayer=n,n.prototype.nodeType="FastLayer",(0,r._registerNode)(n),Iu}var Fu={},$m;function Dp(){if($m)return Fu;$m=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.Group=void 0;const e=Nr(),t=pf(),r=Dt();let n=class extends t.Container{_validateAdd(i){const s=i.getType();s!=="Group"&&s!=="Shape"&&e.Util.throw("You may only add groups and shapes to groups.")}};return Fu.Group=n,n.prototype.nodeType="Group",(0,r._registerNode)(n),Fu}var ju={},Um;function Ip(){if(Um)return ju;Um=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.Animation=void 0;const e=Dt(),t=Nr(),r=function(){return e.glob.performance&&e.glob.performance.now?function(){return e.glob.performance.now()}:function(){return new Date().getTime()}}();let n=class vl{constructor(i,s){this.id=vl.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:r(),frameRate:0},this.func=i,this.setLayers(s)}setLayers(i){let s=[];return i&&(s=Array.isArray(i)?i:[i]),this.layers=s,this}getLayers(){return this.layers}addLayer(i){const s=this.layers,o=s.length;for(let l=0;l<o;l++)if(s[l]._id===i._id)return!1;return this.layers.push(i),!0}isRunning(){const s=vl.animations,o=s.length;for(let l=0;l<o;l++)if(s[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=r(),vl._addAnimation(this),this}stop(){return vl._removeAnimation(this),this}_updateFrameObject(i){this.frame.timeDiff=i-this.frame.lastTime,this.frame.lastTime=i,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(i){this.animations.push(i),this._handleAnimation()}static _removeAnimation(i){const s=i.id,o=this.animations,l=o.length;for(let c=0;c<l;c++)if(o[c].id===s){this.animations.splice(c,1);break}}static _runFrames(){const i={},s=this.animations;for(let o=0;o<s.length;o++){const l=s[o],c=l.layers,u=l.func;l._updateFrameObject(r());const h=c.length;let p;if(u?p=u.call(l,l.frame)!==!1:p=!0,!!p)for(let d=0;d<h;d++){const g=c[d];g._id!==void 0&&(i[g._id]=g)}}for(const o in i)i.hasOwnProperty(o)&&i[o].batchDraw()}static _animationLoop(){const i=vl;i.animations.length?(i._runFrames(),t.Util.requestAnimFrame(i._animationLoop)):i.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,t.Util.requestAnimFrame(this._animationLoop))}};return ju.Animation=n,n.animations=[],n.animIdCounter=0,n.animRunning=!1,ju}var J0={},Vm;function AC(){return Vm||(Vm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=Nr(),r=Ip(),n=$r(),a=Dt(),i={node:1,duration:1,easing:1,onFinish:1,yoyo:1},s=1,o=2,l=3,c=["fill","stroke","shadowColor"];let u=0;class h{constructor(g,y,S,w,v,b,P){this.prop=g,this.propFunc=y,this.begin=w,this._pos=w,this.duration=b,this._change=0,this.prevPos=0,this.yoyo=P,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=S,this._change=v-this.begin,this.pause()}fire(g){const y=this[g];y&&y()}setTime(g){g>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():g<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=g,this.update())}getTime(){return this._time}setPosition(g){this.prevPos=this._pos,this.propFunc(g),this._pos=g}getPosition(g){return g===void 0&&(g=this._time),this.func(g,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(g){this.pause(),this._time=g,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const g=this.getTimer()-this._startTime;this.state===o?this.setTime(g):this.state===l&&this.setTime(this.duration-g)}pause(){this.state=s,this.fire("onPause")}getTimer(){return new Date().getTime()}}class p{constructor(g){const y=this,S=g.node,w=S._id,v=g.easing||e.Easings.Linear,b=!!g.yoyo;let P,M;typeof g.duration>"u"?P=.3:g.duration===0?P=.001:P=g.duration,this.node=S,this._id=u++;const F=S.getLayer()||(S instanceof a.Konva.Stage?S.getLayers():null);F||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){y.tween.onEnterFrame()},F),this.tween=new h(M,function(U){y._tweenFunc(U)},v,0,1,P*1e3,b),this._addListeners(),p.attrs[w]||(p.attrs[w]={}),p.attrs[w][this._id]||(p.attrs[w][this._id]={}),p.tweens[w]||(p.tweens[w]={});for(M in g)i[M]===void 0&&this._addAttr(M,g[M]);this.reset(),this.onFinish=g.onFinish,this.onReset=g.onReset,this.onUpdate=g.onUpdate}_addAttr(g,y){const S=this.node,w=S._id;let v,b,P,M,F;const U=p.tweens[w][g];U&&delete p.attrs[w][U][g];let O=S.getAttr(g);if(t.Util._isArray(y))if(v=[],b=Math.max(y.length,O.length),g==="points"&&y.length!==O.length&&(y.length>O.length?(M=O,O=t.Util._prepareArrayForTween(O,y,S.closed())):(P=y,y=t.Util._prepareArrayForTween(y,O,S.closed()))),g.indexOf("fill")===0)for(let R=0;R<b;R++)if(R%2===0)v.push(y[R]-O[R]);else{const T=t.Util.colorToRGBA(O[R]);F=t.Util.colorToRGBA(y[R]),O[R]=T,v.push({r:F.r-T.r,g:F.g-T.g,b:F.b-T.b,a:F.a-T.a})}else for(let R=0;R<b;R++)v.push(y[R]-O[R]);else c.indexOf(g)!==-1?(O=t.Util.colorToRGBA(O),F=t.Util.colorToRGBA(y),v={r:F.r-O.r,g:F.g-O.g,b:F.b-O.b,a:F.a-O.a}):v=y-O;p.attrs[w][this._id][g]={start:O,diff:v,end:y,trueEnd:P,trueStart:M},p.tweens[w][g]=this._id}_tweenFunc(g){const y=this.node,S=p.attrs[y._id][this._id];let w,v,b,P,M,F,U,O;for(w in S){if(v=S[w],b=v.start,P=v.diff,O=v.end,t.Util._isArray(b))if(M=[],U=Math.max(b.length,O.length),w.indexOf("fill")===0)for(F=0;F<U;F++)F%2===0?M.push((b[F]||0)+P[F]*g):M.push("rgba("+Math.round(b[F].r+P[F].r*g)+","+Math.round(b[F].g+P[F].g*g)+","+Math.round(b[F].b+P[F].b*g)+","+(b[F].a+P[F].a*g)+")");else for(F=0;F<U;F++)M.push((b[F]||0)+P[F]*g);else c.indexOf(w)!==-1?M="rgba("+Math.round(b.r+P.r*g)+","+Math.round(b.g+P.g*g)+","+Math.round(b.b+P.b*g)+","+(b.a+P.a*g)+")":M=b+P*g;y.setAttr(w,M)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const g=this.node,y=p.attrs[g._id][this._id];y.points&&y.points.trueEnd&&g.setAttr("points",y.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const g=this.node,y=p.attrs[g._id][this._id];y.points&&y.points.trueStart&&g.points(y.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(g){return this.tween.seek(g*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const g=this.node._id,y=this._id,S=p.tweens[g];this.pause();for(const w in S)delete p.tweens[g][w];delete p.attrs[g][y]}}e.Tween=p,p.attrs={},p.tweens={},n.Node.prototype.to=function(d){const g=d.onFinish;d.node=this,d.onFinish=function(){this.destroy(),g&&g()},new p(d).play()},e.Easings={BackEaseIn(d,g,y,S){return y*(d/=S)*d*((1.70158+1)*d-1.70158)+g},BackEaseOut(d,g,y,S){return y*((d=d/S-1)*d*((1.70158+1)*d+1.70158)+1)+g},BackEaseInOut(d,g,y,S){let w=1.70158;return(d/=S/2)<1?y/2*(d*d*(((w*=1.525)+1)*d-w))+g:y/2*((d-=2)*d*(((w*=1.525)+1)*d+w)+2)+g},ElasticEaseIn(d,g,y,S,w,v){let b=0;return d===0?g:(d/=S)===1?g+y:(v||(v=S*.3),!w||w<Math.abs(y)?(w=y,b=v/4):b=v/(2*Math.PI)*Math.asin(y/w),-(w*Math.pow(2,10*(d-=1))*Math.sin((d*S-b)*(2*Math.PI)/v))+g)},ElasticEaseOut(d,g,y,S,w,v){let b=0;return d===0?g:(d/=S)===1?g+y:(v||(v=S*.3),!w||w<Math.abs(y)?(w=y,b=v/4):b=v/(2*Math.PI)*Math.asin(y/w),w*Math.pow(2,-10*d)*Math.sin((d*S-b)*(2*Math.PI)/v)+y+g)},ElasticEaseInOut(d,g,y,S,w,v){let b=0;return d===0?g:(d/=S/2)===2?g+y:(v||(v=S*(.3*1.5)),!w||w<Math.abs(y)?(w=y,b=v/4):b=v/(2*Math.PI)*Math.asin(y/w),d<1?-.5*(w*Math.pow(2,10*(d-=1))*Math.sin((d*S-b)*(2*Math.PI)/v))+g:w*Math.pow(2,-10*(d-=1))*Math.sin((d*S-b)*(2*Math.PI)/v)*.5+y+g)},BounceEaseOut(d,g,y,S){return(d/=S)<1/2.75?y*(7.5625*d*d)+g:d<2/2.75?y*(7.5625*(d-=1.5/2.75)*d+.75)+g:d<2.5/2.75?y*(7.5625*(d-=2.25/2.75)*d+.9375)+g:y*(7.5625*(d-=2.625/2.75)*d+.984375)+g},BounceEaseIn(d,g,y,S){return y-e.Easings.BounceEaseOut(S-d,0,y,S)+g},BounceEaseInOut(d,g,y,S){return d<S/2?e.Easings.BounceEaseIn(d*2,0,y,S)*.5+g:e.Easings.BounceEaseOut(d*2-S,0,y,S)*.5+y*.5+g},EaseIn(d,g,y,S){return y*(d/=S)*d+g},EaseOut(d,g,y,S){return-y*(d/=S)*(d-2)+g},EaseInOut(d,g,y,S){return(d/=S/2)<1?y/2*d*d+g:-y/2*(--d*(d-2)-1)+g},StrongEaseIn(d,g,y,S){return y*(d/=S)*d*d*d*d+g},StrongEaseOut(d,g,y,S){return y*((d=d/S-1)*d*d*d*d+1)+g},StrongEaseInOut(d,g,y,S){return(d/=S/2)<1?y/2*d*d*d*d*d+g:y/2*((d-=2)*d*d*d*d+2)+g},Linear(d,g,y,S){return y*d/S+g}}}(J0)),J0}var Gm;function PC(){return Gm||(Gm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=Dt(),r=Nr(),n=$r(),a=pf(),i=xC(),s=Wb(),o=kC(),l=Dp(),c=Mp(),u=gn(),h=Ip(),p=AC(),d=Hb(),g=ff();e.Konva=r.Util._assign(t.Konva,{Util:r.Util,Transform:r.Transform,Node:n.Node,Container:a.Container,Stage:i.Stage,stages:i.stages,Layer:s.Layer,FastLayer:o.FastLayer,Group:l.Group,DD:c.DD,Shape:u.Shape,shapes:u.shapes,Animation:h.Animation,Tween:p.Tween,Easings:p.Easings,Context:d.Context,Canvas:g.Canvas}),e.default=e.Konva}(G0)),G0}var Bu={},Hm;function CC(){if(Hm)return Bu;Hm=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.Arc=void 0;const e=It(),t=gn(),r=Dt(),n=$t(),a=Dt();let i=class extends t.Shape{_sceneFunc(o){const l=r.Konva.getAngle(this.angle()),c=this.clockwise();o.beginPath(),o.arc(0,0,this.outerRadius(),0,l,c),o.arc(0,0,this.innerRadius(),l,0,!c),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}getSelfRect(){const o=this.innerRadius(),l=this.outerRadius(),c=this.clockwise(),u=r.Konva.getAngle(c?360-this.angle():this.angle()),h=Math.cos(Math.min(u,Math.PI)),p=1,d=Math.sin(Math.min(Math.max(Math.PI,u),3*Math.PI/2)),g=Math.sin(Math.min(u,Math.PI/2)),y=h*(h>0?o:l),S=p*l,w=d*(d>0?o:l),v=g*(g>0?l:o);return{x:y,y:c?-1*v:w,width:S-y,height:v-w}}};return Bu.Arc=i,i.prototype._centroid=!0,i.prototype.className="Arc",i.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"],(0,a._registerNode)(i),e.Factory.addGetterSetter(i,"innerRadius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"outerRadius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"angle",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"clockwise",!1,(0,n.getBooleanValidator)()),Bu}var qu={},$u={},zm;function Yb(){if(zm)return $u;zm=1,Object.defineProperty($u,"__esModule",{value:!0}),$u.Line=void 0;const e=It(),t=Dt(),r=gn(),n=$t();function a(o,l,c,u,h,p,d){const g=Math.sqrt(Math.pow(c-o,2)+Math.pow(u-l,2)),y=Math.sqrt(Math.pow(h-c,2)+Math.pow(p-u,2)),S=d*g/(g+y),w=d*y/(g+y),v=c-S*(h-o),b=u-S*(p-l),P=c+w*(h-o),M=u+w*(p-l);return[v,b,P,M]}function i(o,l){const c=o.length,u=[];for(let h=2;h<c-2;h+=2){const p=a(o[h-2],o[h-1],o[h],o[h+1],o[h+2],o[h+3],l);isNaN(p[0])||(u.push(p[0]),u.push(p[1]),u.push(o[h]),u.push(o[h+1]),u.push(p[2]),u.push(p[3]))}return u}let s=class extends r.Shape{constructor(l){super(l),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(l){let c=this.points(),u=c.length,h=this.tension(),p=this.closed(),d=this.bezier(),g,y,S;if(u){if(l.beginPath(),l.moveTo(c[0],c[1]),h!==0&&u>4){for(g=this.getTensionPoints(),y=g.length,S=p?0:4,p||l.quadraticCurveTo(g[0],g[1],g[2],g[3]);S<y-2;)l.bezierCurveTo(g[S++],g[S++],g[S++],g[S++],g[S++],g[S++]);p||l.quadraticCurveTo(g[y-2],g[y-1],c[u-2],c[u-1])}else if(d)for(S=2;S<u;)l.bezierCurveTo(c[S++],c[S++],c[S++],c[S++],c[S++],c[S++]);else for(S=2;S<u;S+=2)l.lineTo(c[S],c[S+1]);p?(l.closePath(),l.fillStrokeShape(this)):l.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():i(this.points(),this.tension())}_getTensionPointsClosed(){const l=this.points(),c=l.length,u=this.tension(),h=a(l[c-2],l[c-1],l[0],l[1],l[2],l[3],u),p=a(l[c-4],l[c-3],l[c-2],l[c-1],l[0],l[1],u),d=i(l,u);return[h[2],h[3]].concat(d).concat([p[0],p[1],l[c-2],l[c-1],p[2],p[3],h[0],h[1],l[0],l[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let l=this.points();if(l.length<4)return{x:l[0]||0,y:l[1]||0,width:0,height:0};this.tension()!==0?l=[l[0],l[1],...this._getTensionPoints(),l[l.length-2],l[l.length-1]]:l=this.points();let c=l[0],u=l[0],h=l[1],p=l[1],d,g;for(let y=0;y<l.length/2;y++)d=l[y*2],g=l[y*2+1],c=Math.min(c,d),u=Math.max(u,d),h=Math.min(h,g),p=Math.max(p,g);return{x:c,y:h,width:u-c,height:p-h}}};return $u.Line=s,s.prototype.className="Line",s.prototype._attrsAffectingSize=["points","bezier","tension"],(0,t._registerNode)(s),e.Factory.addGetterSetter(s,"closed",!1),e.Factory.addGetterSetter(s,"bezier",!1),e.Factory.addGetterSetter(s,"tension",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(s,"points",[],(0,n.getNumberArrayValidator)()),$u}var Uu={},Q0={},Wm;function LC(){return Wm||(Wm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(s,o,l)=>{let c,u;const p=l/2;c=0;for(let d=0;d<20;d++)u=p*e.tValues[20][d]+p,c+=e.cValues[20][d]*n(s,o,u);return p*c};e.getCubicArcLength=t;const r=(s,o,l)=>{l===void 0&&(l=1);const c=s[0]-2*s[1]+s[2],u=o[0]-2*o[1]+o[2],h=2*s[1]-2*s[0],p=2*o[1]-2*o[0],d=4*(c*c+u*u),g=4*(c*h+u*p),y=h*h+p*p;if(d===0)return l*Math.sqrt(Math.pow(s[2]-s[0],2)+Math.pow(o[2]-o[0],2));const S=g/(2*d),w=y/d,v=l+S,b=w-S*S,P=v*v+b>0?Math.sqrt(v*v+b):0,M=S*S+b>0?Math.sqrt(S*S+b):0,F=S+Math.sqrt(S*S+b)!==0?b*Math.log(Math.abs((v+P)/(S+M))):0;return Math.sqrt(d)/2*(v*P-S*M+F)};e.getQuadraticArcLength=r;function n(s,o,l){const c=a(1,l,s),u=a(1,l,o),h=c*c+u*u;return Math.sqrt(h)}const a=(s,o,l)=>{const c=l.length-1;let u,h;if(c===0)return 0;if(s===0){h=0;for(let p=0;p<=c;p++)h+=e.binomialCoefficients[c][p]*Math.pow(1-o,c-p)*Math.pow(o,p)*l[p];return h}else{u=new Array(c);for(let p=0;p<c;p++)u[p]=c*(l[p+1]-l[p]);return a(s-1,o,u)}},i=(s,o,l)=>{let c=1,u=s/o,h=(s-l(u))/o,p=0;for(;c>.001;){const d=l(u+h),g=Math.abs(s-d)/o;if(g<c)c=g,u+=h;else{const y=l(u-h),S=Math.abs(s-y)/o;S<c?(c=S,u-=h):h/=2}if(p++,p>500)break}return u};e.t2length=i}(Q0)),Q0}var Ym;function Fp(){if(Ym)return Uu;Ym=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.Path=void 0;const e=It(),t=gn(),r=Dt(),n=LC();let a=class ta extends t.Shape{constructor(s){super(s),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=ta.parsePathData(this.data()),this.pathLength=ta.getPathLength(this.dataArray)}_sceneFunc(s){const o=this.dataArray;s.beginPath();let l=!1;for(let P=0;P<o.length;P++){const M=o[P].command,F=o[P].points;switch(M){case"L":s.lineTo(F[0],F[1]);break;case"M":s.moveTo(F[0],F[1]);break;case"C":s.bezierCurveTo(F[0],F[1],F[2],F[3],F[4],F[5]);break;case"Q":s.quadraticCurveTo(F[0],F[1],F[2],F[3]);break;case"A":var c=F[0],u=F[1],h=F[2],p=F[3],d=F[4],g=F[5],y=F[6],S=F[7],w=h>p?h:p,v=h>p?1:h/p,b=h>p?p/h:1;s.translate(c,u),s.rotate(y),s.scale(v,b),s.arc(0,0,w,d,d+g,1-S),s.scale(1/v,1/b),s.rotate(-y),s.translate(-c,-u);break;case"z":l=!0,s.closePath();break}}!l&&!this.hasFill()?s.strokeShape(this):s.fillStrokeShape(this)}getSelfRect(){let s=[];this.dataArray.forEach(function(d){if(d.command==="A"){const g=d.points[4],y=d.points[5],S=d.points[4]+y;let w=Math.PI/180;if(Math.abs(g-S)<w&&(w=Math.abs(g-S)),y<0)for(let v=g-w;v>S;v-=w){const b=ta.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],v,0);s.push(b.x,b.y)}else for(let v=g+w;v<S;v+=w){const b=ta.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],v,0);s.push(b.x,b.y)}}else if(d.command==="C")for(let g=0;g<=1;g+=.01){const y=ta.getPointOnCubicBezier(g,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);s.push(y.x,y.y)}else s=s.concat(d.points)});let o=s[0],l=s[0],c=s[1],u=s[1],h,p;for(let d=0;d<s.length/2;d++)h=s[d*2],p=s[d*2+1],isNaN(h)||(o=Math.min(o,h),l=Math.max(l,h)),isNaN(p)||(c=Math.min(c,p),u=Math.max(u,p));return{x:o,y:c,width:l-o,height:u-c}}getLength(){return this.pathLength}getPointAtLength(s){return ta.getPointAtLengthOfDataArray(s,this.dataArray)}static getLineLength(s,o,l,c){return Math.sqrt((l-s)*(l-s)+(c-o)*(c-o))}static getPathLength(s){let o=0;for(let l=0;l<s.length;++l)o+=s[l].pathLength;return o}static getPointAtLengthOfDataArray(s,o){let l,c=0,u=o.length;if(!u)return null;for(;c<u&&s>o[c].pathLength;)s-=o[c].pathLength,++c;if(c===u)return l=o[c-1].points.slice(-2),{x:l[0],y:l[1]};if(s<.01)return l=o[c].points.slice(0,2),{x:l[0],y:l[1]};const h=o[c],p=h.points;switch(h.command){case"L":return ta.getPointOnLine(s,h.start.x,h.start.y,p[0],p[1]);case"C":return ta.getPointOnCubicBezier((0,n.t2length)(s,ta.getPathLength(o),P=>(0,n.getCubicArcLength)([h.start.x,p[0],p[2],p[4]],[h.start.y,p[1],p[3],p[5]],P)),h.start.x,h.start.y,p[0],p[1],p[2],p[3],p[4],p[5]);case"Q":return ta.getPointOnQuadraticBezier((0,n.t2length)(s,ta.getPathLength(o),P=>(0,n.getQuadraticArcLength)([h.start.x,p[0],p[2]],[h.start.y,p[1],p[3]],P)),h.start.x,h.start.y,p[0],p[1],p[2],p[3]);case"A":var d=p[0],g=p[1],y=p[2],S=p[3],w=p[4],v=p[5],b=p[6];return w+=v*s/h.pathLength,ta.getPointOnEllipticalArc(d,g,y,S,w,b)}return null}static getPointOnLine(s,o,l,c,u,h,p){h=h??o,p=p??l;const d=this.getLineLength(o,l,c,u);if(d<1e-10)return{x:o,y:l};if(c===o)return{x:h,y:p+(u>l?s:-s)};const g=(u-l)/(c-o),y=Math.sqrt(s*s/(1+g*g))*(c<o?-1:1),S=g*y;if(Math.abs(p-l-g*(h-o))<1e-10)return{x:h+y,y:p+S};const w=((h-o)*(c-o)+(p-l)*(u-l))/(d*d),v=o+w*(c-o),b=l+w*(u-l),P=this.getLineLength(h,p,v,b),M=Math.sqrt(s*s-P*P),F=Math.sqrt(M*M/(1+g*g))*(c<o?-1:1),U=g*F;return{x:v+F,y:b+U}}static getPointOnCubicBezier(s,o,l,c,u,h,p,d,g){function y(M){return M*M*M}function S(M){return 3*M*M*(1-M)}function w(M){return 3*M*(1-M)*(1-M)}function v(M){return(1-M)*(1-M)*(1-M)}const b=d*y(s)+h*S(s)+c*w(s)+o*v(s),P=g*y(s)+p*S(s)+u*w(s)+l*v(s);return{x:b,y:P}}static getPointOnQuadraticBezier(s,o,l,c,u,h,p){function d(v){return v*v}function g(v){return 2*v*(1-v)}function y(v){return(1-v)*(1-v)}const S=h*d(s)+c*g(s)+o*y(s),w=p*d(s)+u*g(s)+l*y(s);return{x:S,y:w}}static getPointOnEllipticalArc(s,o,l,c,u,h){const p=Math.cos(h),d=Math.sin(h),g={x:l*Math.cos(u),y:c*Math.sin(u)};return{x:s+(g.x*p-g.y*d),y:o+(g.x*d+g.y*p)}}static parsePathData(s){if(!s)return[];let o=s;const l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];o=o.replace(new RegExp(" ","g"),",");for(var c=0;c<l.length;c++)o=o.replace(new RegExp(l[c],"g"),"|"+l[c]);const u=o.split("|"),h=[],p=[];let d=0,g=0;const y=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let S;for(c=1;c<u.length;c++){let x=u[c],k=x.charAt(0);for(x=x.slice(1),p.length=0;S=y.exec(x);)p.push(S[0]);const L=[];for(let D=0,q=p.length;D<q;D++){if(p[D]==="00"){L.push(0,0);continue}const W=parseFloat(p[D]);isNaN(W)?L.push(0):L.push(W)}for(;L.length>0&&!isNaN(L[0]);){let D="",q=[];const W=d,Q=g;var w,v,b,P,M,F,U,O,R,T;switch(k){case"l":d+=L.shift(),g+=L.shift(),D="L",q.push(d,g);break;case"L":d=L.shift(),g=L.shift(),q.push(d,g);break;case"m":var C=L.shift(),E=L.shift();if(d+=C,g+=E,D="M",h.length>2&&h[h.length-1].command==="z"){for(let ne=h.length-2;ne>=0;ne--)if(h[ne].command==="M"){d=h[ne].points[0]+C,g=h[ne].points[1]+E;break}}q.push(d,g),k="l";break;case"M":d=L.shift(),g=L.shift(),D="M",q.push(d,g),k="L";break;case"h":d+=L.shift(),D="L",q.push(d,g);break;case"H":d=L.shift(),D="L",q.push(d,g);break;case"v":g+=L.shift(),D="L",q.push(d,g);break;case"V":g=L.shift(),D="L",q.push(d,g);break;case"C":q.push(L.shift(),L.shift(),L.shift(),L.shift()),d=L.shift(),g=L.shift(),q.push(d,g);break;case"c":q.push(d+L.shift(),g+L.shift(),d+L.shift(),g+L.shift()),d+=L.shift(),g+=L.shift(),D="C",q.push(d,g);break;case"S":v=d,b=g,w=h[h.length-1],w.command==="C"&&(v=d+(d-w.points[2]),b=g+(g-w.points[3])),q.push(v,b,L.shift(),L.shift()),d=L.shift(),g=L.shift(),D="C",q.push(d,g);break;case"s":v=d,b=g,w=h[h.length-1],w.command==="C"&&(v=d+(d-w.points[2]),b=g+(g-w.points[3])),q.push(v,b,d+L.shift(),g+L.shift()),d+=L.shift(),g+=L.shift(),D="C",q.push(d,g);break;case"Q":q.push(L.shift(),L.shift()),d=L.shift(),g=L.shift(),q.push(d,g);break;case"q":q.push(d+L.shift(),g+L.shift()),d+=L.shift(),g+=L.shift(),D="Q",q.push(d,g);break;case"T":v=d,b=g,w=h[h.length-1],w.command==="Q"&&(v=d+(d-w.points[0]),b=g+(g-w.points[1])),d=L.shift(),g=L.shift(),D="Q",q.push(v,b,d,g);break;case"t":v=d,b=g,w=h[h.length-1],w.command==="Q"&&(v=d+(d-w.points[0]),b=g+(g-w.points[1])),d+=L.shift(),g+=L.shift(),D="Q",q.push(v,b,d,g);break;case"A":P=L.shift(),M=L.shift(),F=L.shift(),U=L.shift(),O=L.shift(),R=d,T=g,d=L.shift(),g=L.shift(),D="A",q=this.convertEndpointToCenterParameterization(R,T,d,g,U,O,P,M,F);break;case"a":P=L.shift(),M=L.shift(),F=L.shift(),U=L.shift(),O=L.shift(),R=d,T=g,d+=L.shift(),g+=L.shift(),D="A",q=this.convertEndpointToCenterParameterization(R,T,d,g,U,O,P,M,F);break}h.push({command:D||k,points:q,start:{x:W,y:Q},pathLength:this.calcLength(W,Q,D||k,q)})}(k==="z"||k==="Z")&&h.push({command:"z",points:[],start:void 0,pathLength:0})}return h}static calcLength(s,o,l,c){let u,h,p,d;const g=ta;switch(l){case"L":return g.getLineLength(s,o,c[0],c[1]);case"C":return(0,n.getCubicArcLength)([s,c[0],c[2],c[4]],[o,c[1],c[3],c[5]],1);case"Q":return(0,n.getQuadraticArcLength)([s,c[0],c[2]],[o,c[1],c[3]],1);case"A":u=0;var y=c[4],S=c[5],w=c[4]+S,v=Math.PI/180;if(Math.abs(y-w)<v&&(v=Math.abs(y-w)),h=g.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],y,0),S<0)for(d=y-v;d>w;d-=v)p=g.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],d,0),u+=g.getLineLength(h.x,h.y,p.x,p.y),h=p;else for(d=y+v;d<w;d+=v)p=g.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],d,0),u+=g.getLineLength(h.x,h.y,p.x,p.y),h=p;return p=g.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],w,0),u+=g.getLineLength(h.x,h.y,p.x,p.y),u}return 0}static convertEndpointToCenterParameterization(s,o,l,c,u,h,p,d,g){const y=g*(Math.PI/180),S=Math.cos(y)*(s-l)/2+Math.sin(y)*(o-c)/2,w=-1*Math.sin(y)*(s-l)/2+Math.cos(y)*(o-c)/2,v=S*S/(p*p)+w*w/(d*d);v>1&&(p*=Math.sqrt(v),d*=Math.sqrt(v));let b=Math.sqrt((p*p*(d*d)-p*p*(w*w)-d*d*(S*S))/(p*p*(w*w)+d*d*(S*S)));u===h&&(b*=-1),isNaN(b)&&(b=0);const P=b*p*w/d,M=b*-d*S/p,F=(s+l)/2+Math.cos(y)*P-Math.sin(y)*M,U=(o+c)/2+Math.sin(y)*P+Math.cos(y)*M,O=function(L){return Math.sqrt(L[0]*L[0]+L[1]*L[1])},R=function(L,D){return(L[0]*D[0]+L[1]*D[1])/(O(L)*O(D))},T=function(L,D){return(L[0]*D[1]<L[1]*D[0]?-1:1)*Math.acos(R(L,D))},C=T([1,0],[(S-P)/p,(w-M)/d]),E=[(S-P)/p,(w-M)/d],x=[(-1*S-P)/p,(-1*w-M)/d];let k=T(E,x);return R(E,x)<=-1&&(k=Math.PI),R(E,x)>=1&&(k=0),h===0&&k>0&&(k=k-2*Math.PI),h===1&&k<0&&(k=k+2*Math.PI),[F,U,p,d,C,k,y,h]}};return Uu.Path=a,a.prototype.className="Path",a.prototype._attrsAffectingSize=["data"],(0,r._registerNode)(a),e.Factory.addGetterSetter(a,"data"),Uu}var Km;function NC(){if(Km)return qu;Km=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.Arrow=void 0;const e=It(),t=Yb(),r=$t(),n=Dt(),a=Fp();let i=class extends t.Line{_sceneFunc(o){super._sceneFunc(o);const l=Math.PI*2,c=this.points();let u=c;const h=this.tension()!==0&&c.length>4;h&&(u=this.getTensionPoints());const p=this.pointerLength(),d=c.length;let g,y;if(h){const v=[u[u.length-4],u[u.length-3],u[u.length-2],u[u.length-1],c[d-2],c[d-1]],b=a.Path.calcLength(u[u.length-4],u[u.length-3],"C",v),P=a.Path.getPointOnQuadraticBezier(Math.min(1,1-p/b),v[0],v[1],v[2],v[3],v[4],v[5]);g=c[d-2]-P.x,y=c[d-1]-P.y}else g=c[d-2]-c[d-4],y=c[d-1]-c[d-3];const S=(Math.atan2(y,g)+l)%l,w=this.pointerWidth();this.pointerAtEnding()&&(o.save(),o.beginPath(),o.translate(c[d-2],c[d-1]),o.rotate(S),o.moveTo(0,0),o.lineTo(-p,w/2),o.lineTo(-p,-w/2),o.closePath(),o.restore(),this.__fillStroke(o)),this.pointerAtBeginning()&&(o.save(),o.beginPath(),o.translate(c[0],c[1]),h?(g=(u[0]+u[2])/2-c[0],y=(u[1]+u[3])/2-c[1]):(g=c[2]-c[0],y=c[3]-c[1]),o.rotate((Math.atan2(-y,-g)+l)%l),o.moveTo(0,0),o.lineTo(-p,w/2),o.lineTo(-p,-w/2),o.closePath(),o.restore(),this.__fillStroke(o))}__fillStroke(o){const l=this.dashEnabled();l&&(this.attrs.dashEnabled=!1,o.setLineDash([])),o.fillStrokeShape(this),l&&(this.attrs.dashEnabled=!0)}getSelfRect(){const o=super.getSelfRect(),l=this.pointerWidth()/2;return{x:o.x,y:o.y-l,width:o.width,height:o.height+l*2}}};return qu.Arrow=i,i.prototype.className="Arrow",(0,n._registerNode)(i),e.Factory.addGetterSetter(i,"pointerLength",10,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(i,"pointerWidth",10,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(i,"pointerAtBeginning",!1),e.Factory.addGetterSetter(i,"pointerAtEnding",!0),qu}var Vu={},Xm;function TC(){if(Xm)return Vu;Xm=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.Circle=void 0;const e=It(),t=gn(),r=$t(),n=Dt();let a=class extends t.Shape{_sceneFunc(s){s.beginPath(),s.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(s){this.radius()!==s/2&&this.radius(s/2)}setHeight(s){this.radius()!==s/2&&this.radius(s/2)}};return Vu.Circle=a,a.prototype._centroid=!0,a.prototype.className="Circle",a.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(a),e.Factory.addGetterSetter(a,"radius",0,(0,r.getNumberValidator)()),Vu}var Gu={},Jm;function OC(){if(Jm)return Gu;Jm=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.Ellipse=void 0;const e=It(),t=gn(),r=$t(),n=Dt();let a=class extends t.Shape{_sceneFunc(s){const o=this.radiusX(),l=this.radiusY();s.beginPath(),s.save(),o!==l&&s.scale(1,l/o),s.arc(0,0,o,0,Math.PI*2,!1),s.restore(),s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(s){this.radiusX(s/2)}setHeight(s){this.radiusY(s/2)}};return Gu.Ellipse=a,a.prototype.className="Ellipse",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radiusX","radiusY"],(0,n._registerNode)(a),e.Factory.addComponentsGetterSetter(a,"radius",["x","y"]),e.Factory.addGetterSetter(a,"radiusX",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(a,"radiusY",0,(0,r.getNumberValidator)()),Gu}var Hu={},Qm;function EC(){if(Qm)return Hu;Qm=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.Image=void 0;const e=Nr(),t=It(),r=gn(),n=Dt(),a=$t();class i extends r.Shape{constructor(o){super(o),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",l=>{this._removeImageLoad(l.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const o=this.image();o&&o.complete||o&&o.readyState===4||o&&o.addEventListener&&o.addEventListener("load",this._loadListener)}_removeImageLoad(o){o&&o.removeEventListener&&o.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const o=!!this.cornerRadius(),l=this.hasShadow();return o&&l?!0:super._useBufferCanvas(!0)}_sceneFunc(o){const l=this.getWidth(),c=this.getHeight(),u=this.cornerRadius(),h=this.attrs.image;let p;if(h){const d=this.attrs.cropWidth,g=this.attrs.cropHeight;d&&g?p=[h,this.cropX(),this.cropY(),d,g,0,0,l,c]:p=[h,0,0,l,c]}(this.hasFill()||this.hasStroke()||u)&&(o.beginPath(),u?e.Util.drawRoundedRectPath(o,l,c,u):o.rect(0,0,l,c),o.closePath(),o.fillStrokeShape(this)),h&&(u&&o.clip(),o.drawImage.apply(o,p))}_hitFunc(o){const l=this.width(),c=this.height(),u=this.cornerRadius();o.beginPath(),u?e.Util.drawRoundedRectPath(o,l,c,u):o.rect(0,0,l,c),o.closePath(),o.fillStrokeShape(this)}getWidth(){var o,l;return(o=this.attrs.width)!==null&&o!==void 0?o:(l=this.image())===null||l===void 0?void 0:l.width}getHeight(){var o,l;return(o=this.attrs.height)!==null&&o!==void 0?o:(l=this.image())===null||l===void 0?void 0:l.height}static fromURL(o,l,c=null){const u=e.Util.createImageElement();u.onload=function(){const h=new i({image:u});l(h)},u.onerror=c,u.crossOrigin="Anonymous",u.src=o}}return Hu.Image=i,i.prototype.className="Image",(0,n._registerNode)(i),t.Factory.addGetterSetter(i,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),t.Factory.addGetterSetter(i,"image"),t.Factory.addComponentsGetterSetter(i,"crop",["x","y","width","height"]),t.Factory.addGetterSetter(i,"cropX",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(i,"cropY",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(i,"cropWidth",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(i,"cropHeight",0,(0,a.getNumberValidator)()),Hu}var eo={},Zm;function RC(){if(Zm)return eo;Zm=1,Object.defineProperty(eo,"__esModule",{value:!0}),eo.Tag=eo.Label=void 0;const e=It(),t=gn(),r=Dp(),n=$t(),a=Dt(),i=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],s="Change.konva",o="none",l="up",c="right",u="down",h="left",p=i.length;let d=class extends r.Group{constructor(S){super(S),this.on("add.konva",function(w){this._addListeners(w.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(S){let w=this,v;const b=function(){w._sync()};for(v=0;v<p;v++)S.on(i[v]+s,b)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let S=this.getText(),w=this.getTag(),v,b,P,M,F,U,O;if(S&&w){switch(v=S.width(),b=S.height(),P=w.pointerDirection(),M=w.pointerWidth(),O=w.pointerHeight(),F=0,U=0,P){case l:F=v/2,U=-1*O;break;case c:F=v+M,U=b/2;break;case u:F=v/2,U=b+O;break;case h:F=-1*M,U=b/2;break}w.setAttrs({x:-1*F,y:-1*U,width:v,height:b}),S.setAttrs({x:-1*F,y:-1*U})}}};eo.Label=d,d.prototype.className="Label",(0,a._registerNode)(d);class g extends t.Shape{_sceneFunc(S){const w=this.width(),v=this.height(),b=this.pointerDirection(),P=this.pointerWidth(),M=this.pointerHeight(),F=this.cornerRadius();let U=0,O=0,R=0,T=0;typeof F=="number"?U=O=R=T=Math.min(F,w/2,v/2):(U=Math.min(F[0]||0,w/2,v/2),O=Math.min(F[1]||0,w/2,v/2),T=Math.min(F[2]||0,w/2,v/2),R=Math.min(F[3]||0,w/2,v/2)),S.beginPath(),S.moveTo(U,0),b===l&&(S.lineTo((w-P)/2,0),S.lineTo(w/2,-1*M),S.lineTo((w+P)/2,0)),S.lineTo(w-O,0),S.arc(w-O,O,O,Math.PI*3/2,0,!1),b===c&&(S.lineTo(w,(v-M)/2),S.lineTo(w+P,v/2),S.lineTo(w,(v+M)/2)),S.lineTo(w,v-T),S.arc(w-T,v-T,T,0,Math.PI/2,!1),b===u&&(S.lineTo((w+P)/2,v),S.lineTo(w/2,v+M),S.lineTo((w-P)/2,v)),S.lineTo(R,v),S.arc(R,v-R,R,Math.PI/2,Math.PI,!1),b===h&&(S.lineTo(0,(v+M)/2),S.lineTo(-1*P,v/2),S.lineTo(0,(v-M)/2)),S.lineTo(0,U),S.arc(U,U,U,Math.PI,Math.PI*3/2,!1),S.closePath(),S.fillStrokeShape(this)}getSelfRect(){let S=0,w=0,v=this.pointerWidth(),b=this.pointerHeight(),P=this.pointerDirection(),M=this.width(),F=this.height();return P===l?(w-=b,F+=b):P===u?F+=b:P===h?(S-=v*1.5,M+=v):P===c&&(M+=v*1.5),{x:S,y:w,width:M,height:F}}}return eo.Tag=g,g.prototype.className="Tag",(0,a._registerNode)(g),e.Factory.addGetterSetter(g,"pointerDirection",o),e.Factory.addGetterSetter(g,"pointerWidth",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(g,"pointerHeight",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(g,"cornerRadius",0,(0,n.getNumberOrArrayOfNumbersValidator)(4)),eo}var zu={},e5;function Kb(){if(e5)return zu;e5=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.Rect=void 0;const e=It(),t=gn(),r=Dt(),n=Nr(),a=$t();let i=class extends t.Shape{_sceneFunc(o){const l=this.cornerRadius(),c=this.width(),u=this.height();o.beginPath(),l?n.Util.drawRoundedRectPath(o,c,u,l):o.rect(0,0,c,u),o.closePath(),o.fillStrokeShape(this)}};return zu.Rect=i,i.prototype.className="Rect",(0,r._registerNode)(i),e.Factory.addGetterSetter(i,"cornerRadius",0,(0,a.getNumberOrArrayOfNumbersValidator)(4)),zu}var Wu={},t5;function MC(){if(t5)return Wu;t5=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.RegularPolygon=void 0;const e=It(),t=gn(),r=$t(),n=Dt();let a=class extends t.Shape{_sceneFunc(s){const o=this._getPoints();s.beginPath(),s.moveTo(o[0].x,o[0].y);for(let l=1;l<o.length;l++)s.lineTo(o[l].x,o[l].y);s.closePath(),s.fillStrokeShape(this)}_getPoints(){const s=this.attrs.sides,o=this.attrs.radius||0,l=[];for(let c=0;c<s;c++)l.push({x:o*Math.sin(c*2*Math.PI/s),y:-1*o*Math.cos(c*2*Math.PI/s)});return l}getSelfRect(){const s=this._getPoints();let o=s[0].x,l=s[0].y,c=s[0].x,u=s[0].y;return s.forEach(h=>{o=Math.min(o,h.x),l=Math.max(l,h.x),c=Math.min(c,h.y),u=Math.max(u,h.y)}),{x:o,y:c,width:l-o,height:u-c}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(s){this.radius(s/2)}setHeight(s){this.radius(s/2)}};return Wu.RegularPolygon=a,a.prototype.className="RegularPolygon",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["radius"],(0,n._registerNode)(a),e.Factory.addGetterSetter(a,"radius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(a,"sides",0,(0,r.getNumberValidator)()),Wu}var Yu={},r5;function DC(){if(r5)return Yu;r5=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.Ring=void 0;const e=It(),t=gn(),r=$t(),n=Dt(),a=Math.PI*2;let i=class extends t.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.innerRadius(),0,a,!1),o.moveTo(this.outerRadius(),0),o.arc(0,0,this.outerRadius(),a,0,!0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(o){this.outerRadius(o/2)}setHeight(o){this.outerRadius(o/2)}};return Yu.Ring=i,i.prototype.className="Ring",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(i),e.Factory.addGetterSetter(i,"innerRadius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(i,"outerRadius",0,(0,r.getNumberValidator)()),Yu}var Ku={},n5;function IC(){if(n5)return Ku;n5=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.Sprite=void 0;const e=It(),t=gn(),r=Ip(),n=$t(),a=Dt();let i=class extends t.Shape{constructor(o){super(o),this._updated=!0,this.anim=new r.Animation(()=>{const l=this._updated;return this._updated=!1,l}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(o){const l=this.animation(),c=this.frameIndex(),u=c*4,h=this.animations()[l],p=this.frameOffsets(),d=h[u+0],g=h[u+1],y=h[u+2],S=h[u+3],w=this.image();if((this.hasFill()||this.hasStroke())&&(o.beginPath(),o.rect(0,0,y,S),o.closePath(),o.fillStrokeShape(this)),w)if(p){const v=p[l],b=c*2;o.drawImage(w,d,g,y,S,v[b+0],v[b+1],y,S)}else o.drawImage(w,d,g,y,S,0,0,y,S)}_hitFunc(o){const l=this.animation(),c=this.frameIndex(),u=c*4,h=this.animations()[l],p=this.frameOffsets(),d=h[u+2],g=h[u+3];if(o.beginPath(),p){const y=p[l],S=c*2;o.rect(y[S+0],y[S+1],d,g)}else o.rect(0,0,d,g);o.closePath(),o.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const o=this;this.interval=setInterval(function(){o._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const o=this.getLayer();this.anim.setLayers(o),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const o=this.frameIndex(),l=this.animation(),c=this.animations(),u=c[l],h=u.length/4;o<h-1?this.frameIndex(o+1):this.frameIndex(0)}};return Ku.Sprite=i,i.prototype.className="Sprite",(0,a._registerNode)(i),e.Factory.addGetterSetter(i,"animation"),e.Factory.addGetterSetter(i,"animations"),e.Factory.addGetterSetter(i,"frameOffsets"),e.Factory.addGetterSetter(i,"image"),e.Factory.addGetterSetter(i,"frameIndex",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"frameRate",17,(0,n.getNumberValidator)()),e.Factory.backCompat(i,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Ku}var Xu={},a5;function FC(){if(a5)return Xu;a5=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.Star=void 0;const e=It(),t=gn(),r=$t(),n=Dt();let a=class extends t.Shape{_sceneFunc(s){const o=this.innerRadius(),l=this.outerRadius(),c=this.numPoints();s.beginPath(),s.moveTo(0,0-l);for(let u=1;u<c*2;u++){const h=u%2===0?l:o,p=h*Math.sin(u*Math.PI/c),d=-1*h*Math.cos(u*Math.PI/c);s.lineTo(p,d)}s.closePath(),s.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(s){this.outerRadius(s/2)}setHeight(s){this.outerRadius(s/2)}};return Xu.Star=a,a.prototype.className="Star",a.prototype._centroid=!0,a.prototype._attrsAffectingSize=["innerRadius","outerRadius"],(0,n._registerNode)(a),e.Factory.addGetterSetter(a,"numPoints",5,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(a,"innerRadius",0,(0,r.getNumberValidator)()),e.Factory.addGetterSetter(a,"outerRadius",0,(0,r.getNumberValidator)()),Xu}var ul={},i5;function Xb(){if(i5)return ul;i5=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.Text=void 0,ul.stringToArray=s;const e=Nr(),t=It(),r=gn(),n=Dt(),a=$t(),i=Dt();function s($){return[...$].reduce((I,G,J,re)=>{if(new RegExp("\\p{Emoji}","u").test(G)){const _=re[J+1];_&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(_)?(I.push(G+_),re[J+1]=""):I.push(G)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(G+(re[J+1]||""))?I.push(G+re[J+1]):J>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(G)?I[I.length-1]+=G:G&&I.push(G);return I},[])}const o="auto",l="center",c="inherit",u="justify",h="Change.konva",p="2d",d="-",g="left",y="text",S="Text",w="top",v="bottom",b="middle",P="normal",M="px ",F=" ",U="right",O="rtl",R="word",T="char",C="none",E="",x=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],k=x.length;function L($){return $.split(",").map(I=>{I=I.trim();const G=I.indexOf(" ")>=0,J=I.indexOf('"')>=0||I.indexOf("'")>=0;return G&&!J&&(I=`"${I}"`),I}).join(", ")}let D;function q(){return D||(D=e.Util.createCanvasElement().getContext(p),D)}function W($){$.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Q($){$.setAttr("miterLimit",2),$.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function ne($){return $=$||{},!$.fillLinearGradientColorStops&&!$.fillRadialGradientColorStops&&!$.fillPatternImage&&($.fill=$.fill||"black"),$}let oe=class extends r.Shape{constructor(I){super(ne(I)),this._partialTextX=0,this._partialTextY=0;for(let G=0;G<k;G++)this.on(x[G]+h,this._setTextData);this._setTextData()}_sceneFunc(I){const G=this.textArr,J=G.length;if(!this.text())return;let re=this.padding(),_=this.fontSize(),V=this.lineHeight()*_,Z=this.verticalAlign(),fe=this.direction(),le=0,X=this.align(),z=this.getWidth(),se=this.letterSpacing(),B=this.fill(),H=this.textDecoration(),de=H.indexOf("underline")!==-1,ge=H.indexOf("line-through")!==-1,me;fe=fe===c?I.direction:fe;let ve=V/2,Se=b;if(n.Konva._fixTextRendering){const nt=this.measureSize("M");Se="alphabetic",ve=(nt.fontBoundingBoxAscent-nt.fontBoundingBoxDescent)/2+V/2}var Ce=0,ue=0;for(fe===O&&I.setAttr("direction",fe),I.setAttr("font",this._getContextFont()),I.setAttr("textBaseline",Se),I.setAttr("textAlign",g),Z===b?le=(this.getHeight()-J*V-re*2)/2:Z===v&&(le=this.getHeight()-J*V-re*2),I.translate(re,le+re),me=0;me<J;me++){var Ce=0,ue=0,ke=G[me],Me=ke.text,Ve=ke.width,Ze=ke.lastInParagraph,Fe,Qe;if(I.save(),X===U?Ce+=z-Ve-re*2:X===l&&(Ce+=(z-Ve-re*2)/2),de){I.save(),I.beginPath();const Ct=n.Konva._fixTextRendering?Math.round(_/4):Math.round(_/2),ft=Ce,Yt=ve+ue+Ct;I.moveTo(ft,Yt),Fe=Me.split(" ").length-1,Qe=X===u&&!Ze?z-re*2:Ve,I.lineTo(ft+Math.round(Qe),Yt),I.lineWidth=_/15;const _t=this._getLinearGradient();I.strokeStyle=_t||B,I.stroke(),I.restore()}if(ge){I.save(),I.beginPath();const Ct=n.Konva._fixTextRendering?-Math.round(_/4):0;I.moveTo(Ce,ve+ue+Ct),Fe=Me.split(" ").length-1,Qe=X===u&&!Ze?z-re*2:Ve,I.lineTo(Ce+Math.round(Qe),ve+ue+Ct),I.lineWidth=_/15;const ft=this._getLinearGradient();I.strokeStyle=ft||B,I.stroke(),I.restore()}if(fe!==O&&(se!==0||X===u)){Fe=Me.split(" ").length-1;const Ct=s(Me);for(let ft=0;ft<Ct.length;ft++){const Yt=Ct[ft];Yt===" "&&!Ze&&X===u&&(Ce+=(z-re*2-Ve)/Fe),this._partialTextX=Ce,this._partialTextY=ve+ue,this._partialText=Yt,I.fillStrokeShape(this),Ce+=this.measureSize(Yt).width+se}}else se!==0&&I.setAttr("letterSpacing",`${se}px`),this._partialTextX=Ce,this._partialTextY=ve+ue,this._partialText=Me,I.fillStrokeShape(this);I.restore(),J>1&&(ve+=V)}}_hitFunc(I){const G=this.getWidth(),J=this.getHeight();I.beginPath(),I.rect(0,0,G,J),I.closePath(),I.fillStrokeShape(this)}setText(I){const G=e.Util._isString(I)?I:I==null?"":I+"";return this._setAttr(y,G),this}getWidth(){return this.attrs.width===o||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===o||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(I){var G,J,re,_,V,Z,fe,le,X,z,se;let B=q(),H=this.fontSize(),de;B.save(),B.font=this._getContextFont(),de=B.measureText(I),B.restore();const ge=H/100;return{actualBoundingBoxAscent:(G=de.actualBoundingBoxAscent)!==null&&G!==void 0?G:71.58203125*ge,actualBoundingBoxDescent:(J=de.actualBoundingBoxDescent)!==null&&J!==void 0?J:0,actualBoundingBoxLeft:(re=de.actualBoundingBoxLeft)!==null&&re!==void 0?re:-7.421875*ge,actualBoundingBoxRight:(_=de.actualBoundingBoxRight)!==null&&_!==void 0?_:75.732421875*ge,alphabeticBaseline:(V=de.alphabeticBaseline)!==null&&V!==void 0?V:0,emHeightAscent:(Z=de.emHeightAscent)!==null&&Z!==void 0?Z:100*ge,emHeightDescent:(fe=de.emHeightDescent)!==null&&fe!==void 0?fe:-20*ge,fontBoundingBoxAscent:(le=de.fontBoundingBoxAscent)!==null&&le!==void 0?le:91*ge,fontBoundingBoxDescent:(X=de.fontBoundingBoxDescent)!==null&&X!==void 0?X:21*ge,hangingBaseline:(z=de.hangingBaseline)!==null&&z!==void 0?z:72.80000305175781*ge,ideographicBaseline:(se=de.ideographicBaseline)!==null&&se!==void 0?se:-21*ge,width:de.width,height:H}}_getContextFont(){return this.fontStyle()+F+this.fontVariant()+F+(this.fontSize()+M)+L(this.fontFamily())}_addTextLine(I){this.align()===u&&(I=I.trim());const J=this._getTextWidth(I);return this.textArr.push({text:I,width:J,lastInParagraph:!1})}_getTextWidth(I){const G=this.letterSpacing(),J=I.length;return q().measureText(I).width+G*J}_setTextData(){let I=this.text().split(`
`),G=+this.fontSize(),J=0,re=this.lineHeight()*G,_=this.attrs.width,V=this.attrs.height,Z=_!==o&&_!==void 0,fe=V!==o&&V!==void 0,le=this.padding(),X=_-le*2,z=V-le*2,se=0,B=this.wrap(),H=B!==C,de=B!==T&&H,ge=this.ellipsis();this.textArr=[],q().font=this._getContextFont();const me=ge?this._getTextWidth(E):0;for(let ve=0,Se=I.length;ve<Se;++ve){let Ce=I[ve],ue=this._getTextWidth(Ce);if(Z&&ue>X)for(;Ce.length>0;){let ke=0,Me=s(Ce).length,Ve="",Ze=0;for(;ke<Me;){const Fe=ke+Me>>>1,Qe=s(Ce),nt=Qe.slice(0,Fe+1).join(""),Ke=this._getTextWidth(nt);(ge&&fe&&se+re>z?Ke+me:Ke)<=X?(ke=Fe+1,Ve=nt,Ze=Ke):Me=Fe}if(Ve){if(de){const nt=s(Ce),Ke=s(Ve),Ct=nt[Ke.length],ft=Ct===F||Ct===d;let Yt;if(ft&&Ze<=X)Yt=Ke.length;else{const _t=Ke.lastIndexOf(F),Et=Ke.lastIndexOf(d);Yt=Math.max(_t,Et)+1}Yt>0&&(ke=Yt,Ve=nt.slice(0,ke).join(""),Ze=this._getTextWidth(Ve))}if(Ve=Ve.trimRight(),this._addTextLine(Ve),J=Math.max(J,Ze),se+=re,this._shouldHandleEllipsis(se)){this._tryToAddEllipsisToLastLine();break}if(Ce=s(Ce).slice(ke).join("").trimLeft(),Ce.length>0&&(ue=this._getTextWidth(Ce),ue<=X)){this._addTextLine(Ce),se+=re,J=Math.max(J,ue);break}}else break}else this._addTextLine(Ce),se+=re,J=Math.max(J,ue),this._shouldHandleEllipsis(se)&&ve<Se-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),fe&&se+re>z)break}this.textHeight=G,this.textWidth=J}_shouldHandleEllipsis(I){const G=+this.fontSize(),J=this.lineHeight()*G,re=this.attrs.height,_=re!==o&&re!==void 0,V=this.padding(),Z=re-V*2;return!(this.wrap()!==C)||_&&I+J>Z}_tryToAddEllipsisToLastLine(){const I=this.attrs.width,G=I!==o&&I!==void 0,J=this.padding(),re=I-J*2,_=this.ellipsis(),V=this.textArr[this.textArr.length-1];!V||!_||(G&&(this._getTextWidth(V.text+E)<re||(V.text=V.text.slice(0,V.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(V.text+E))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const I=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,G=this.hasShadow();return I&&G?!0:super._useBufferCanvas()}};return ul.Text=oe,oe.prototype._fillFunc=W,oe.prototype._strokeFunc=Q,oe.prototype.className=S,oe.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"],(0,i._registerNode)(oe),t.Factory.overWriteSetter(oe,"width",(0,a.getNumberOrAutoValidator)()),t.Factory.overWriteSetter(oe,"height",(0,a.getNumberOrAutoValidator)()),t.Factory.addGetterSetter(oe,"direction",c),t.Factory.addGetterSetter(oe,"fontFamily","Arial"),t.Factory.addGetterSetter(oe,"fontSize",12,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(oe,"fontStyle",P),t.Factory.addGetterSetter(oe,"fontVariant",P),t.Factory.addGetterSetter(oe,"padding",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(oe,"align",g),t.Factory.addGetterSetter(oe,"verticalAlign",w),t.Factory.addGetterSetter(oe,"lineHeight",1,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(oe,"wrap",R),t.Factory.addGetterSetter(oe,"ellipsis",!1,(0,a.getBooleanValidator)()),t.Factory.addGetterSetter(oe,"letterSpacing",0,(0,a.getNumberValidator)()),t.Factory.addGetterSetter(oe,"text","",(0,a.getStringValidator)()),t.Factory.addGetterSetter(oe,"textDecoration",""),ul}var Ju={},s5;function jC(){if(s5)return Ju;s5=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.TextPath=void 0;const e=Nr(),t=It(),r=gn(),n=Fp(),a=Xb(),i=$t(),s=Dt(),o="",l="normal";function c(p){p.fillText(this.partialText,0,0)}function u(p){p.strokeText(this.partialText,0,0)}let h=class extends r.Shape{constructor(d){super(d),this.dummyCanvas=e.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return n.Path.getPathLength(this.dataArray)}_getPointAtLength(d){if(!this.attrs.data)return null;const g=this.pathLength;return d-1>g?null:n.Path.getPointAtLengthOfDataArray(d,this.dataArray)}_readDataAttribute(){this.dataArray=n.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(d){d.setAttr("font",this._getContextFont()),d.setAttr("textBaseline",this.textBaseline()),d.setAttr("textAlign","left"),d.save();const g=this.textDecoration(),y=this.fill(),S=this.fontSize(),w=this.glyphInfo;g==="underline"&&d.beginPath();for(let v=0;v<w.length;v++){d.save();const b=w[v].p0;d.translate(b.x,b.y),d.rotate(w[v].rotation),this.partialText=w[v].text,d.fillStrokeShape(this),g==="underline"&&(v===0&&d.moveTo(0,S/2+1),d.lineTo(S,S/2+1)),d.restore()}g==="underline"&&(d.strokeStyle=y,d.lineWidth=S/20,d.stroke()),d.restore()}_hitFunc(d){d.beginPath();const g=this.glyphInfo;if(g.length>=1){const y=g[0].p0;d.moveTo(y.x,y.y)}for(let y=0;y<g.length;y++){const S=g[y].p1;d.lineTo(S.x,S.y)}d.setAttr("lineWidth",this.fontSize()),d.setAttr("strokeStyle",this.colorKey),d.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return e.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(d){return a.Text.prototype.setText.call(this,d)}_getContextFont(){return a.Text.prototype._getContextFont.call(this)}_getTextSize(d){const y=this.dummyCanvas.getContext("2d");y.save(),y.font=this._getContextFont();const S=y.measureText(d);return y.restore(),{width:S.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:d,height:g}=this._getTextSize(this.attrs.text);if(this.textWidth=d,this.textHeight=g,this.glyphInfo=[],!this.attrs.data)return null;const y=this.letterSpacing(),S=this.align(),w=this.kerningFunc(),v=Math.max(this.textWidth+((this.attrs.text||"").length-1)*y,0);let b=0;S==="center"&&(b=Math.max(0,this.pathLength/2-v/2)),S==="right"&&(b=Math.max(0,this.pathLength-v));const P=(0,a.stringToArray)(this.text());let M=b;for(let F=0;F<P.length;F++){const U=this._getPointAtLength(M);if(!U)return;let O=this._getTextSize(P[F]).width+y;if(P[F]===" "&&S==="justify"){const k=this.text().split(" ").length-1;O+=(this.pathLength-v)/k}const R=this._getPointAtLength(M+O);if(!R)return;const T=n.Path.getLineLength(U.x,U.y,R.x,R.y);let C=0;if(w)try{C=w(P[F-1],P[F])*this.fontSize()}catch{C=0}U.x+=C,R.x+=C,this.textWidth+=C;const E=n.Path.getPointOnLine(C+T/2,U.x,U.y,R.x,R.y),x=Math.atan2(R.y-U.y,R.x-U.x);this.glyphInfo.push({transposeX:E.x,transposeY:E.y,text:P[F],rotation:x,p0:U,p1:R}),M+=O}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const d=[];this.glyphInfo.forEach(function(M){d.push(M.p0.x),d.push(M.p0.y),d.push(M.p1.x),d.push(M.p1.y)});let g=d[0]||0,y=d[0]||0,S=d[1]||0,w=d[1]||0,v,b;for(let M=0;M<d.length/2;M++)v=d[M*2],b=d[M*2+1],g=Math.min(g,v),y=Math.max(y,v),S=Math.min(S,b),w=Math.max(w,b);const P=this.fontSize();return{x:g-P/2,y:S-P/2,width:y-g+P,height:w-S+P}}destroy(){return e.Util.releaseCanvas(this.dummyCanvas),super.destroy()}};return Ju.TextPath=h,h.prototype._fillFunc=c,h.prototype._strokeFunc=u,h.prototype._fillFuncHit=c,h.prototype._strokeFuncHit=u,h.prototype.className="TextPath",h.prototype._attrsAffectingSize=["text","fontSize","data"],(0,s._registerNode)(h),t.Factory.addGetterSetter(h,"data"),t.Factory.addGetterSetter(h,"fontFamily","Arial"),t.Factory.addGetterSetter(h,"fontSize",12,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(h,"fontStyle",l),t.Factory.addGetterSetter(h,"align","left"),t.Factory.addGetterSetter(h,"letterSpacing",0,(0,i.getNumberValidator)()),t.Factory.addGetterSetter(h,"textBaseline","middle"),t.Factory.addGetterSetter(h,"fontVariant",l),t.Factory.addGetterSetter(h,"text",o),t.Factory.addGetterSetter(h,"textDecoration",""),t.Factory.addGetterSetter(h,"kerningFunc",void 0),Ju}var Qu={},o5;function BC(){if(o5)return Qu;o5=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.Transformer=void 0;const e=Nr(),t=It(),r=$r(),n=gn(),a=Kb(),i=Dp(),s=Dt(),o=$t(),l=Dt(),c="tr-konva",u=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(O=>O+`.${c}`).join(" "),h="nodesRect",p=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],d={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},g="ontouchstart"in s.Konva._global;function y(O,R,T){if(O==="rotater")return T;R+=e.Util.degToRad(d[O]||0);const C=(e.Util.radToDeg(R)%360+360)%360;return e.Util._inRange(C,315+22.5,360)||e.Util._inRange(C,0,22.5)?"ns-resize":e.Util._inRange(C,45-22.5,45+22.5)?"nesw-resize":e.Util._inRange(C,90-22.5,90+22.5)?"ew-resize":e.Util._inRange(C,135-22.5,135+22.5)?"nwse-resize":e.Util._inRange(C,180-22.5,180+22.5)?"ns-resize":e.Util._inRange(C,225-22.5,225+22.5)?"nesw-resize":e.Util._inRange(C,270-22.5,270+22.5)?"ew-resize":e.Util._inRange(C,315-22.5,315+22.5)?"nwse-resize":(e.Util.error("Transformer has unknown angle for cursor detection: "+C),"pointer")}const S=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function w(O){return{x:O.x+O.width/2*Math.cos(O.rotation)+O.height/2*Math.sin(-O.rotation),y:O.y+O.height/2*Math.cos(O.rotation)+O.width/2*Math.sin(O.rotation)}}function v(O,R,T){const C=T.x+(O.x-T.x)*Math.cos(R)-(O.y-T.y)*Math.sin(R),E=T.y+(O.x-T.x)*Math.sin(R)+(O.y-T.y)*Math.cos(R);return{...O,rotation:O.rotation+R,x:C,y:E}}function b(O,R){const T=w(O);return v(O,R,T)}function P(O,R,T){let C=R;for(let E=0;E<O.length;E++){const x=s.Konva.getAngle(O[E]),k=Math.abs(x-R)%(Math.PI*2);Math.min(k,Math.PI*2-k)<T&&(C=x)}return C}let M=0,F=class extends i.Group{constructor(R){super(R),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(u,this.update),this.getNode()&&this.update()}attachTo(R){return this.setNode(R),this}setNode(R){return e.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([R])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return c+this._id}setNodes(R=[]){this._nodes&&this._nodes.length&&this.detach();const T=R.filter(E=>E.isAncestorOf(this)?(e.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=R=T,R.length===1&&this.useSingleNodeRotation()?this.rotation(R[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(E=>{const x=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(E._attrsAffectingSize.length){const k=E._attrsAffectingSize.map(L=>L+"Change."+this._getEventNamespace()).join(" ");E.on(k,x)}E.on(p.map(k=>k+`.${this._getEventNamespace()}`).join(" "),x),E.on(`absoluteTransformChange.${this._getEventNamespace()}`,x),this._proxyDrag(E)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(R){let T;R.on(`dragstart.${this._getEventNamespace()}`,C=>{T=R.getAbsolutePosition(),!this.isDragging()&&R!==this.findOne(".back")&&this.startDrag(C,!1)}),R.on(`dragmove.${this._getEventNamespace()}`,C=>{if(!T)return;const E=R.getAbsolutePosition(),x=E.x-T.x,k=E.y-T.y;this.nodes().forEach(L=>{if(L===R||L.isDragging())return;const D=L.getAbsolutePosition();L.setAbsolutePosition({x:D.x+x,y:D.y+k}),L.startDrag(C)}),T=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(R=>{R.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(h),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(h,this.__getNodeRect)}__getNodeShape(R,T=this.rotation(),C){const E=R.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),x=R.getAbsoluteScale(C),k=R.getAbsolutePosition(C),L=E.x*x.x-R.offsetX()*x.x,D=E.y*x.y-R.offsetY()*x.y,q=(s.Konva.getAngle(R.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),W={x:k.x+L*Math.cos(q)+D*Math.sin(-q),y:k.y+D*Math.cos(q)+L*Math.sin(q),width:E.width*x.x,height:E.height*x.y,rotation:q};return v(W,-s.Konva.getAngle(T),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const T=[];this.nodes().map(q=>{const W=q.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),Q=[{x:W.x,y:W.y},{x:W.x+W.width,y:W.y},{x:W.x+W.width,y:W.y+W.height},{x:W.x,y:W.y+W.height}],ne=q.getAbsoluteTransform();Q.forEach(function(oe){const $=ne.point(oe);T.push($)})});const C=new e.Transform;C.rotate(-s.Konva.getAngle(this.rotation()));let E=1/0,x=1/0,k=-1/0,L=-1/0;T.forEach(function(q){const W=C.point(q);E===void 0&&(E=k=W.x,x=L=W.y),E=Math.min(E,W.x),x=Math.min(x,W.y),k=Math.max(k,W.x),L=Math.max(L,W.y)}),C.invert();const D=C.point({x:E,y:x});return{x:D.x,y:D.y,width:k-E,height:L-x,rotation:s.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),S.forEach(R=>{this._createAnchor(R)}),this._createAnchor("rotater")}_createAnchor(R){const T=new a.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:R+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:g?10:"auto"}),C=this;T.on("mousedown touchstart",function(E){C._handleMouseDown(E)}),T.on("dragstart",E=>{T.stopDrag(),E.cancelBubble=!0}),T.on("dragend",E=>{E.cancelBubble=!0}),T.on("mouseenter",()=>{const E=s.Konva.getAngle(this.rotation()),x=this.rotateAnchorCursor(),k=y(R,E,x);T.getStage().content&&(T.getStage().content.style.cursor=k),this._cursorChange=!0}),T.on("mouseout",()=>{T.getStage().content&&(T.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(T)}_createBack(){const R=new n.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(T,C){const E=C.getParent(),x=E.padding();T.beginPath(),T.rect(-x,-x,C.width()+x*2,C.height()+x*2),T.moveTo(C.width()/2,-x),E.rotateEnabled()&&E.rotateLineVisible()&&T.lineTo(C.width()/2,-E.rotateAnchorOffset()*e.Util._sign(C.height())-x),T.fillStrokeShape(C)},hitFunc:(T,C)=>{if(!this.shouldOverdrawWholeArea())return;const E=this.padding();T.beginPath(),T.rect(-E,-E,C.width()+E*2,C.height()+E*2),T.fillStrokeShape(C)}});this.add(R),this._proxyDrag(R),R.on("dragstart",T=>{T.cancelBubble=!0}),R.on("dragmove",T=>{T.cancelBubble=!0}),R.on("dragend",T=>{T.cancelBubble=!0}),this.on("dragmove",T=>{this.update()})}_handleMouseDown(R){if(this._transforming)return;this._movingAnchorName=R.target.name().split(" ")[0];const T=this._getNodeRect(),C=T.width,E=T.height,x=Math.sqrt(Math.pow(C,2)+Math.pow(E,2));this.sin=Math.abs(E/x),this.cos=Math.abs(C/x),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const k=R.target.getAbsolutePosition(),L=R.target.getStage().getPointerPosition();this._anchorDragOffset={x:L.x-k.x,y:L.y-k.y},M++,this._fire("transformstart",{evt:R.evt,target:this.getNode()}),this._nodes.forEach(D=>{D._fire("transformstart",{evt:R.evt,target:D})})}_handleMouseMove(R){let T,C,E;const x=this.findOne("."+this._movingAnchorName),k=x.getStage();k.setPointersPositions(R);const L=k.getPointerPosition();let D={x:L.x-this._anchorDragOffset.x,y:L.y-this._anchorDragOffset.y};const q=x.getAbsolutePosition();this.anchorDragBoundFunc()&&(D=this.anchorDragBoundFunc()(q,D,R)),x.setAbsolutePosition(D);const W=x.getAbsolutePosition();if(q.x===W.x&&q.y===W.y)return;if(this._movingAnchorName==="rotater"){const Z=this._getNodeRect();T=x.x()-Z.width/2,C=-x.y()+Z.height/2;let fe=Math.atan2(-C,T)+Math.PI/2;Z.height<0&&(fe-=Math.PI);const X=s.Konva.getAngle(this.rotation())+fe,z=s.Konva.getAngle(this.rotationSnapTolerance()),B=P(this.rotationSnaps(),X,z)-Z.rotation,H=b(Z,B);this._fitNodesInto(H,R);return}const Q=this.shiftBehavior();let ne;Q==="inverted"?ne=this.keepRatio()&&!R.shiftKey:Q==="none"?ne=this.keepRatio():ne=this.keepRatio()||R.shiftKey;var J=this.centeredScaling()||R.altKey;if(this._movingAnchorName==="top-left"){if(ne){var oe=J?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};E=Math.sqrt(Math.pow(oe.x-x.x(),2)+Math.pow(oe.y-x.y(),2));var $=this.findOne(".top-left").x()>oe.x?-1:1,I=this.findOne(".top-left").y()>oe.y?-1:1;T=E*this.cos*$,C=E*this.sin*I,this.findOne(".top-left").x(oe.x-T),this.findOne(".top-left").y(oe.y-C)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(x.y());else if(this._movingAnchorName==="top-right"){if(ne){var oe=J?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};E=Math.sqrt(Math.pow(x.x()-oe.x,2)+Math.pow(oe.y-x.y(),2));var $=this.findOne(".top-right").x()<oe.x?-1:1,I=this.findOne(".top-right").y()>oe.y?-1:1;T=E*this.cos*$,C=E*this.sin*I,this.findOne(".top-right").x(oe.x+T),this.findOne(".top-right").y(oe.y-C)}var G=x.position();this.findOne(".top-left").y(G.y),this.findOne(".bottom-right").x(G.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(x.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(x.x());else if(this._movingAnchorName==="bottom-left"){if(ne){var oe=J?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};E=Math.sqrt(Math.pow(oe.x-x.x(),2)+Math.pow(x.y()-oe.y,2));var $=oe.x<x.x()?-1:1,I=x.y()<oe.y?-1:1;T=E*this.cos*$,C=E*this.sin*I,x.x(oe.x-T),x.y(oe.y+C)}G=x.position(),this.findOne(".top-left").x(G.x),this.findOne(".bottom-right").y(G.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(x.y());else if(this._movingAnchorName==="bottom-right"){if(ne){var oe=J?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};E=Math.sqrt(Math.pow(x.x()-oe.x,2)+Math.pow(x.y()-oe.y,2));var $=this.findOne(".bottom-right").x()<oe.x?-1:1,I=this.findOne(".bottom-right").y()<oe.y?-1:1;T=E*this.cos*$,C=E*this.sin*I,this.findOne(".bottom-right").x(oe.x+T),this.findOne(".bottom-right").y(oe.y+C)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var J=this.centeredScaling()||R.altKey;if(J){const Z=this.findOne(".top-left"),fe=this.findOne(".bottom-right"),le=Z.x(),X=Z.y(),z=this.getWidth()-fe.x(),se=this.getHeight()-fe.y();fe.move({x:-le,y:-X}),Z.move({x:z,y:se})}const re=this.findOne(".top-left").getAbsolutePosition();T=re.x,C=re.y;const _=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),V=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:T,y:C,width:_,height:V,rotation:s.Konva.getAngle(this.rotation())},R)}_handleMouseUp(R){this._removeEvents(R)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(R){var T;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const C=this.getNode();M--,this._fire("transformend",{evt:R,target:C}),(T=this.getLayer())===null||T===void 0||T.batchDraw(),C&&this._nodes.forEach(E=>{var x;E._fire("transformend",{evt:R,target:E}),(x=E.getLayer())===null||x===void 0||x.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(R,T){const C=this._getNodeRect(),E=1;if(e.Util._inRange(R.width,-this.padding()*2-E,E)){this.update();return}if(e.Util._inRange(R.height,-this.padding()*2-E,E)){this.update();return}const x=new e.Transform;if(x.rotate(s.Konva.getAngle(this.rotation())),this._movingAnchorName&&R.width<0&&this._movingAnchorName.indexOf("left")>=0){const ne=x.point({x:-this.padding()*2,y:0});R.x+=ne.x,R.y+=ne.y,R.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=ne.x,this._anchorDragOffset.y-=ne.y}else if(this._movingAnchorName&&R.width<0&&this._movingAnchorName.indexOf("right")>=0){const ne=x.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=ne.x,this._anchorDragOffset.y-=ne.y,R.width+=this.padding()*2}if(this._movingAnchorName&&R.height<0&&this._movingAnchorName.indexOf("top")>=0){const ne=x.point({x:0,y:-this.padding()*2});R.x+=ne.x,R.y+=ne.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=ne.x,this._anchorDragOffset.y-=ne.y,R.height+=this.padding()*2}else if(this._movingAnchorName&&R.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const ne=x.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=ne.x,this._anchorDragOffset.y-=ne.y,R.height+=this.padding()*2}if(this.boundBoxFunc()){const ne=this.boundBoxFunc()(C,R);ne?R=ne:e.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const k=1e7,L=new e.Transform;L.translate(C.x,C.y),L.rotate(C.rotation),L.scale(C.width/k,C.height/k);const D=new e.Transform,q=R.width/k,W=R.height/k;this.flipEnabled()===!1?(D.translate(R.x,R.y),D.rotate(R.rotation),D.translate(R.width<0?R.width:0,R.height<0?R.height:0),D.scale(Math.abs(q),Math.abs(W))):(D.translate(R.x,R.y),D.rotate(R.rotation),D.scale(q,W));const Q=D.multiply(L.invert());this._nodes.forEach(ne=>{var oe;const $=ne.getParent().getAbsoluteTransform(),I=ne.getTransform().copy();I.translate(ne.offsetX(),ne.offsetY());const G=new e.Transform;G.multiply($.copy().invert()).multiply(Q).multiply($).multiply(I);const J=G.decompose();ne.setAttrs(J),(oe=ne.getLayer())===null||oe===void 0||oe.batchDraw()}),this.rotation(e.Util._getRotation(R.rotation)),this._nodes.forEach(ne=>{this._fire("transform",{evt:T,target:ne}),ne._fire("transform",{evt:T,target:ne})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(R,T){this.findOne(R).setAttrs(T)}update(){var R;const T=this._getNodeRect();this.rotation(e.Util._getRotation(T.rotation));const C=T.width,E=T.height,x=this.enabledAnchors(),k=this.resizeEnabled(),L=this.padding(),D=this.anchorSize(),q=this.find("._anchor");q.forEach(Q=>{Q.setAttrs({width:D,height:D,offsetX:D/2,offsetY:D/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:D/2+L,offsetY:D/2+L,visible:k&&x.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:C/2,y:0,offsetY:D/2+L,visible:k&&x.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:C,y:0,offsetX:D/2-L,offsetY:D/2+L,visible:k&&x.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:E/2,offsetX:D/2+L,visible:k&&x.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:C,y:E/2,offsetX:D/2-L,visible:k&&x.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:E,offsetX:D/2+L,offsetY:D/2-L,visible:k&&x.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:C/2,y:E,offsetY:D/2-L,visible:k&&x.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:C,y:E,offsetX:D/2-L,offsetY:D/2-L,visible:k&&x.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:C/2,y:-this.rotateAnchorOffset()*e.Util._sign(E)-L,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:C,height:E,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const W=this.anchorStyleFunc();W&&q.forEach(Q=>{W(Q)}),(R=this.getLayer())===null||R===void 0||R.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const R=this.findOne("."+this._movingAnchorName);R&&R.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),i.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return r.Node.prototype.toObject.call(this)}clone(R){return r.Node.prototype.clone.call(this,R)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Qu.Transformer=F,F.isTransforming=()=>M>0;function U(O){return O instanceof Array||e.Util.warn("enabledAnchors value should be an array"),O instanceof Array&&O.forEach(function(R){S.indexOf(R)===-1&&e.Util.warn("Unknown anchor name: "+R+". Available names are: "+S.join(", "))}),O||[]}return F.prototype.className="Transformer",(0,l._registerNode)(F),t.Factory.addGetterSetter(F,"enabledAnchors",S,U),t.Factory.addGetterSetter(F,"flipEnabled",!0,(0,o.getBooleanValidator)()),t.Factory.addGetterSetter(F,"resizeEnabled",!0),t.Factory.addGetterSetter(F,"anchorSize",10,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(F,"rotateEnabled",!0),t.Factory.addGetterSetter(F,"rotateLineVisible",!0),t.Factory.addGetterSetter(F,"rotationSnaps",[]),t.Factory.addGetterSetter(F,"rotateAnchorOffset",50,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(F,"rotateAnchorCursor","crosshair"),t.Factory.addGetterSetter(F,"rotationSnapTolerance",5,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(F,"borderEnabled",!0),t.Factory.addGetterSetter(F,"anchorStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(F,"anchorStrokeWidth",1,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(F,"anchorFill","white"),t.Factory.addGetterSetter(F,"anchorCornerRadius",0,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(F,"borderStroke","rgb(0, 161, 255)"),t.Factory.addGetterSetter(F,"borderStrokeWidth",1,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(F,"borderDash"),t.Factory.addGetterSetter(F,"keepRatio",!0),t.Factory.addGetterSetter(F,"shiftBehavior","default"),t.Factory.addGetterSetter(F,"centeredScaling",!1),t.Factory.addGetterSetter(F,"ignoreStroke",!1),t.Factory.addGetterSetter(F,"padding",0,(0,o.getNumberValidator)()),t.Factory.addGetterSetter(F,"nodes"),t.Factory.addGetterSetter(F,"node"),t.Factory.addGetterSetter(F,"boundBoxFunc"),t.Factory.addGetterSetter(F,"anchorDragBoundFunc"),t.Factory.addGetterSetter(F,"anchorStyleFunc"),t.Factory.addGetterSetter(F,"shouldOverdrawWholeArea",!1),t.Factory.addGetterSetter(F,"useSingleNodeRotation",!0),t.Factory.backCompat(F,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),Qu}var Zu={},l5;function qC(){if(l5)return Zu;l5=1,Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.Wedge=void 0;const e=It(),t=gn(),r=Dt(),n=$t(),a=Dt();let i=class extends t.Shape{_sceneFunc(o){o.beginPath(),o.arc(0,0,this.radius(),0,r.Konva.getAngle(this.angle()),this.clockwise()),o.lineTo(0,0),o.closePath(),o.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(o){this.radius(o/2)}setHeight(o){this.radius(o/2)}};return Zu.Wedge=i,i.prototype.className="Wedge",i.prototype._centroid=!0,i.prototype._attrsAffectingSize=["radius"],(0,a._registerNode)(i),e.Factory.addGetterSetter(i,"radius",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"angle",0,(0,n.getNumberValidator)()),e.Factory.addGetterSetter(i,"clockwise",!1),e.Factory.backCompat(i,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Zu}var ec={},u5;function $C(){if(u5)return ec;u5=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.Blur=void 0;const e=It(),t=$r(),r=$t();function n(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],i=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function s(l,c){const u=l.data,h=l.width,p=l.height;let d,g,y,S,w,v,b,P,M,F,U,O,R,T,C,E,x,k,L,D,q,W,Q,ne;const oe=c+c+1,$=h-1,I=p-1,G=c+1,J=G*(G+1)/2,re=new n,_=a[c],V=i[c];let Z=null,fe=re,le=null,X=null;for(y=1;y<oe;y++)fe=fe.next=new n,y===G&&(Z=fe);for(fe.next=re,b=v=0,g=0;g<p;g++){for(E=x=k=L=P=M=F=U=0,O=G*(D=u[v]),R=G*(q=u[v+1]),T=G*(W=u[v+2]),C=G*(Q=u[v+3]),P+=J*D,M+=J*q,F+=J*W,U+=J*Q,fe=re,y=0;y<G;y++)fe.r=D,fe.g=q,fe.b=W,fe.a=Q,fe=fe.next;for(y=1;y<G;y++)S=v+(($<y?$:y)<<2),P+=(fe.r=D=u[S])*(ne=G-y),M+=(fe.g=q=u[S+1])*ne,F+=(fe.b=W=u[S+2])*ne,U+=(fe.a=Q=u[S+3])*ne,E+=D,x+=q,k+=W,L+=Q,fe=fe.next;for(le=re,X=Z,d=0;d<h;d++)u[v+3]=Q=U*_>>V,Q!==0?(Q=255/Q,u[v]=(P*_>>V)*Q,u[v+1]=(M*_>>V)*Q,u[v+2]=(F*_>>V)*Q):u[v]=u[v+1]=u[v+2]=0,P-=O,M-=R,F-=T,U-=C,O-=le.r,R-=le.g,T-=le.b,C-=le.a,S=b+((S=d+c+1)<$?S:$)<<2,E+=le.r=u[S],x+=le.g=u[S+1],k+=le.b=u[S+2],L+=le.a=u[S+3],P+=E,M+=x,F+=k,U+=L,le=le.next,O+=D=X.r,R+=q=X.g,T+=W=X.b,C+=Q=X.a,E-=D,x-=q,k-=W,L-=Q,X=X.next,v+=4;b+=h}for(d=0;d<h;d++){for(x=k=L=E=M=F=U=P=0,v=d<<2,O=G*(D=u[v]),R=G*(q=u[v+1]),T=G*(W=u[v+2]),C=G*(Q=u[v+3]),P+=J*D,M+=J*q,F+=J*W,U+=J*Q,fe=re,y=0;y<G;y++)fe.r=D,fe.g=q,fe.b=W,fe.a=Q,fe=fe.next;for(w=h,y=1;y<=c;y++)v=w+d<<2,P+=(fe.r=D=u[v])*(ne=G-y),M+=(fe.g=q=u[v+1])*ne,F+=(fe.b=W=u[v+2])*ne,U+=(fe.a=Q=u[v+3])*ne,E+=D,x+=q,k+=W,L+=Q,fe=fe.next,y<I&&(w+=h);for(v=d,le=re,X=Z,g=0;g<p;g++)S=v<<2,u[S+3]=Q=U*_>>V,Q>0?(Q=255/Q,u[S]=(P*_>>V)*Q,u[S+1]=(M*_>>V)*Q,u[S+2]=(F*_>>V)*Q):u[S]=u[S+1]=u[S+2]=0,P-=O,M-=R,F-=T,U-=C,O-=le.r,R-=le.g,T-=le.b,C-=le.a,S=d+((S=g+G)<I?S:I)*h<<2,P+=E+=le.r=u[S],M+=x+=le.g=u[S+1],F+=k+=le.b=u[S+2],U+=L+=le.a=u[S+3],le=le.next,O+=D=X.r,R+=q=X.g,T+=W=X.b,C+=Q=X.a,E-=D,x-=q,k-=W,L-=Q,X=X.next,v+=h}}const o=function(c){const u=Math.round(this.blurRadius());u>0&&s(c,u)};return ec.Blur=o,e.Factory.addGetterSetter(t.Node,"blurRadius",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),ec}var tc={},c5;function UC(){if(c5)return tc;c5=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.Brighten=void 0;const e=It(),t=$r(),r=$t(),n=function(a){const i=this.brightness()*255,s=a.data,o=s.length;for(let l=0;l<o;l+=4)s[l]+=i,s[l+1]+=i,s[l+2]+=i};return tc.Brighten=n,e.Factory.addGetterSetter(t.Node,"brightness",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),tc}var rc={},d5;function VC(){if(d5)return rc;d5=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.Contrast=void 0;const e=It(),t=$r(),r=$t(),n=function(a){const i=Math.pow((this.contrast()+100)/100,2),s=a.data,o=s.length;let l=150,c=150,u=150;for(let h=0;h<o;h+=4)l=s[h],c=s[h+1],u=s[h+2],l/=255,l-=.5,l*=i,l+=.5,l*=255,c/=255,c-=.5,c*=i,c+=.5,c*=255,u/=255,u-=.5,u*=i,u+=.5,u*=255,l=l<0?0:l>255?255:l,c=c<0?0:c>255?255:c,u=u<0?0:u>255?255:u,s[h]=l,s[h+1]=c,s[h+2]=u};return rc.Contrast=n,e.Factory.addGetterSetter(t.Node,"contrast",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),rc}var nc={},h5;function GC(){if(h5)return nc;h5=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.Emboss=void 0;const e=It(),t=$r(),r=Nr(),n=$t(),a=function(i){const s=this.embossStrength()*10,o=this.embossWhiteLevel()*255,l=this.embossDirection(),c=this.embossBlend(),u=i.data,h=i.width,p=i.height,d=h*4;let g=0,y=0,S=p;switch(l){case"top-left":g=-1,y=-1;break;case"top":g=-1,y=0;break;case"top-right":g=-1,y=1;break;case"right":g=0,y=1;break;case"bottom-right":g=1,y=1;break;case"bottom":g=1,y=0;break;case"bottom-left":g=1,y=-1;break;case"left":g=0,y=-1;break;default:r.Util.error("Unknown emboss direction: "+l)}do{const w=(S-1)*d;let v=g;S+v<1&&(v=0),S+v>p&&(v=0);const b=(S-1+v)*h*4;let P=h;do{const M=w+(P-1)*4;let F=y;P+F<1&&(F=0),P+F>h&&(F=0);const U=b+(P-1+F)*4,O=u[M]-u[U],R=u[M+1]-u[U+1],T=u[M+2]-u[U+2];let C=O;const E=C>0?C:-C,x=R>0?R:-R,k=T>0?T:-T;if(x>E&&(C=R),k>E&&(C=T),C*=s,c){const L=u[M]+C,D=u[M+1]+C,q=u[M+2]+C;u[M]=L>255?255:L<0?0:L,u[M+1]=D>255?255:D<0?0:D,u[M+2]=q>255?255:q<0?0:q}else{let L=o-C;L<0?L=0:L>255&&(L=255),u[M]=u[M+1]=u[M+2]=L}}while(--P)}while(--S)};return nc.Emboss=a,e.Factory.addGetterSetter(t.Node,"embossStrength",.5,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossWhiteLevel",.5,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossDirection","top-left",void 0,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"embossBlend",!1,void 0,e.Factory.afterSetFilter),nc}var ac={},f5;function HC(){if(f5)return ac;f5=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.Enhance=void 0;const e=It(),t=$r(),r=$t();function n(i,s,o,l,c){const u=o-s,h=c-l;if(u===0)return l+h/2;if(h===0)return l;let p=(i-s)/u;return p=h*p+l,p}const a=function(i){const s=i.data,o=s.length;let l=s[0],c=l,u,h=s[1],p=h,d,g=s[2],y=g,S;const w=this.enhance();if(w===0)return;for(let C=0;C<o;C+=4)u=s[C+0],u<l?l=u:u>c&&(c=u),d=s[C+1],d<h?h=d:d>p&&(p=d),S=s[C+2],S<g?g=S:S>y&&(y=S);c===l&&(c=255,l=0),p===h&&(p=255,h=0),y===g&&(y=255,g=0);let v,b,P,M,F,U,O,R,T;w>0?(b=c+w*(255-c),P=l-w*(l-0),F=p+w*(255-p),U=h-w*(h-0),R=y+w*(255-y),T=g-w*(g-0)):(v=(c+l)*.5,b=c+w*(c-v),P=l+w*(l-v),M=(p+h)*.5,F=p+w*(p-M),U=h+w*(h-M),O=(y+g)*.5,R=y+w*(y-O),T=g+w*(g-O));for(let C=0;C<o;C+=4)s[C+0]=n(s[C+0],l,c,P,b),s[C+1]=n(s[C+1],h,p,U,F),s[C+2]=n(s[C+2],g,y,T,R)};return ac.Enhance=a,e.Factory.addGetterSetter(t.Node,"enhance",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),ac}var ic={},p5;function zC(){if(p5)return ic;p5=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.Grayscale=void 0;const e=function(t){const r=t.data,n=r.length;for(let a=0;a<n;a+=4){const i=.34*r[a]+.5*r[a+1]+.16*r[a+2];r[a]=i,r[a+1]=i,r[a+2]=i}};return ic.Grayscale=e,ic}var sc={},g5;function WC(){if(g5)return sc;g5=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.HSL=void 0;const e=It(),t=$r(),r=$t();e.Factory.addGetterSetter(t.Node,"hue",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"luminance",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter);const n=function(a){const i=a.data,s=i.length,o=1,l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,u=this.luminance()*127,h=o*l*Math.cos(c*Math.PI/180),p=o*l*Math.sin(c*Math.PI/180),d=.299*o+.701*h+.167*p,g=.587*o-.587*h+.33*p,y=.114*o-.114*h-.497*p,S=.299*o-.299*h-.328*p,w=.587*o+.413*h+.035*p,v=.114*o-.114*h+.293*p,b=.299*o-.3*h+1.25*p,P=.587*o-.586*h-1.05*p,M=.114*o+.886*h-.2*p;let F,U,O,R;for(let T=0;T<s;T+=4)F=i[T+0],U=i[T+1],O=i[T+2],R=i[T+3],i[T+0]=d*F+g*U+y*O+u,i[T+1]=S*F+w*U+v*O+u,i[T+2]=b*F+P*U+M*O+u,i[T+3]=R};return sc.HSL=n,sc}var oc={},m5;function YC(){if(m5)return oc;m5=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.HSV=void 0;const e=It(),t=$r(),r=$t(),n=function(a){const i=a.data,s=i.length,o=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),c=Math.abs(this.hue()+360)%360,u=o*l*Math.cos(c*Math.PI/180),h=o*l*Math.sin(c*Math.PI/180),p=.299*o+.701*u+.167*h,d=.587*o-.587*u+.33*h,g=.114*o-.114*u-.497*h,y=.299*o-.299*u-.328*h,S=.587*o+.413*u+.035*h,w=.114*o-.114*u+.293*h,v=.299*o-.3*u+1.25*h,b=.587*o-.586*u-1.05*h,P=.114*o+.886*u-.2*h;let M,F,U,O;for(let R=0;R<s;R+=4)M=i[R+0],F=i[R+1],U=i[R+2],O=i[R+3],i[R+0]=p*M+d*F+g*U,i[R+1]=y*M+S*F+w*U,i[R+2]=v*M+b*F+P*U,i[R+3]=O};return oc.HSV=n,e.Factory.addGetterSetter(t.Node,"hue",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"saturation",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"value",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),oc}var lc={},v5;function KC(){if(v5)return lc;v5=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.Invert=void 0;const e=function(t){const r=t.data,n=r.length;for(let a=0;a<n;a+=4)r[a]=255-r[a],r[a+1]=255-r[a+1],r[a+2]=255-r[a+2]};return lc.Invert=e,lc}var uc={},y5;function XC(){if(y5)return uc;y5=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.Kaleidoscope=void 0;const e=It(),t=$r(),r=Nr(),n=$t(),a=function(o,l,c){const u=o.data,h=l.data,p=o.width,d=o.height,g=c.polarCenterX||p/2,y=c.polarCenterY||d/2;let S=Math.sqrt(g*g+y*y),w=p-g,v=d-y;const b=Math.sqrt(w*w+v*v);S=b>S?b:S;const P=d,M=p,F=360/M*Math.PI/180;for(let U=0;U<M;U+=1){const O=Math.sin(U*F),R=Math.cos(U*F);for(let T=0;T<P;T+=1){w=Math.floor(g+S*T/P*R),v=Math.floor(y+S*T/P*O);let C=(v*p+w)*4;const E=u[C+0],x=u[C+1],k=u[C+2],L=u[C+3];C=(U+T*p)*4,h[C+0]=E,h[C+1]=x,h[C+2]=k,h[C+3]=L}}},i=function(o,l,c){const u=o.data,h=l.data,p=o.width,d=o.height,g=c.polarCenterX||p/2,y=c.polarCenterY||d/2;let S=Math.sqrt(g*g+y*y),w=p-g,v=d-y;const b=Math.sqrt(w*w+v*v);S=b>S?b:S;const P=d,M=p,F=0;let U,O;for(w=0;w<p;w+=1)for(v=0;v<d;v+=1){const R=w-g,T=v-y,C=Math.sqrt(R*R+T*T)*P/S;let E=(Math.atan2(T,R)*180/Math.PI+360+F)%360;E=E*M/360,U=Math.floor(E),O=Math.floor(C);let x=(O*p+U)*4;const k=u[x+0],L=u[x+1],D=u[x+2],q=u[x+3];x=(v*p+w)*4,h[x+0]=k,h[x+1]=L,h[x+2]=D,h[x+3]=q}},s=function(o){const l=o.width,c=o.height;let u,h,p,d,g,y,S,w,v,b,P=Math.round(this.kaleidoscopePower());const M=Math.round(this.kaleidoscopeAngle()),F=Math.floor(l*(M%360)/360);if(P<1)return;const U=r.Util.createCanvasElement();U.width=l,U.height=c;const O=U.getContext("2d").getImageData(0,0,l,c);r.Util.releaseCanvas(U),a(o,O,{polarCenterX:l/2,polarCenterY:c/2});let R=l/Math.pow(2,P);for(;R<=8;)R=R*2,P-=1;R=Math.ceil(R);let T=R,C=0,E=T,x=1;for(F+R>l&&(C=T,E=0,x=-1),h=0;h<c;h+=1)for(u=C;u!==E;u+=x)p=Math.round(u+F)%l,v=(l*h+p)*4,g=O.data[v+0],y=O.data[v+1],S=O.data[v+2],w=O.data[v+3],b=(l*h+u)*4,O.data[b+0]=g,O.data[b+1]=y,O.data[b+2]=S,O.data[b+3]=w;for(h=0;h<c;h+=1)for(T=Math.floor(R),d=0;d<P;d+=1){for(u=0;u<T+1;u+=1)v=(l*h+u)*4,g=O.data[v+0],y=O.data[v+1],S=O.data[v+2],w=O.data[v+3],b=(l*h+T*2-u-1)*4,O.data[b+0]=g,O.data[b+1]=y,O.data[b+2]=S,O.data[b+3]=w;T*=2}i(O,o,{})};return uc.Kaleidoscope=s,e.Factory.addGetterSetter(t.Node,"kaleidoscopePower",2,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"kaleidoscopeAngle",0,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),uc}var cc={},b5;function JC(){if(b5)return cc;b5=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.Mask=void 0;const e=It(),t=$r(),r=$t();function n(p,d,g){let y=(g*p.width+d)*4;const S=[];return S.push(p.data[y++],p.data[y++],p.data[y++],p.data[y++]),S}function a(p,d){return Math.sqrt(Math.pow(p[0]-d[0],2)+Math.pow(p[1]-d[1],2)+Math.pow(p[2]-d[2],2))}function i(p){const d=[0,0,0];for(let g=0;g<p.length;g++)d[0]+=p[g][0],d[1]+=p[g][1],d[2]+=p[g][2];return d[0]/=p.length,d[1]/=p.length,d[2]/=p.length,d}function s(p,d){const g=n(p,0,0),y=n(p,p.width-1,0),S=n(p,0,p.height-1),w=n(p,p.width-1,p.height-1),v=d||10;if(a(g,y)<v&&a(y,w)<v&&a(w,S)<v&&a(S,g)<v){const b=i([y,g,w,S]),P=[];for(let M=0;M<p.width*p.height;M++){const F=a(b,[p.data[M*4],p.data[M*4+1],p.data[M*4+2]]);P[M]=F<v?0:255}return P}}function o(p,d){for(let g=0;g<p.width*p.height;g++)p.data[4*g+3]=d[g]}function l(p,d,g){const y=[1,1,1,1,0,1,1,1,1],S=Math.round(Math.sqrt(y.length)),w=Math.floor(S/2),v=[];for(let b=0;b<g;b++)for(let P=0;P<d;P++){const M=b*d+P;let F=0;for(let U=0;U<S;U++)for(let O=0;O<S;O++){const R=b+U-w,T=P+O-w;if(R>=0&&R<g&&T>=0&&T<d){const C=R*d+T,E=y[U*S+O];F+=p[C]*E}}v[M]=F===255*8?255:0}return v}function c(p,d,g){const y=[1,1,1,1,1,1,1,1,1],S=Math.round(Math.sqrt(y.length)),w=Math.floor(S/2),v=[];for(let b=0;b<g;b++)for(let P=0;P<d;P++){const M=b*d+P;let F=0;for(let U=0;U<S;U++)for(let O=0;O<S;O++){const R=b+U-w,T=P+O-w;if(R>=0&&R<g&&T>=0&&T<d){const C=R*d+T,E=y[U*S+O];F+=p[C]*E}}v[M]=F>=255*4?255:0}return v}function u(p,d,g){const y=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],S=Math.round(Math.sqrt(y.length)),w=Math.floor(S/2),v=[];for(let b=0;b<g;b++)for(let P=0;P<d;P++){const M=b*d+P;let F=0;for(let U=0;U<S;U++)for(let O=0;O<S;O++){const R=b+U-w,T=P+O-w;if(R>=0&&R<g&&T>=0&&T<d){const C=R*d+T,E=y[U*S+O];F+=p[C]*E}}v[M]=F}return v}const h=function(p){const d=this.threshold();let g=s(p,d);return g&&(g=l(g,p.width,p.height),g=c(g,p.width,p.height),g=u(g,p.width,p.height),o(p,g)),p};return cc.Mask=h,e.Factory.addGetterSetter(t.Node,"threshold",0,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),cc}var dc={},_5;function QC(){if(_5)return dc;_5=1,Object.defineProperty(dc,"__esModule",{value:!0}),dc.Noise=void 0;const e=It(),t=$r(),r=$t(),n=function(a){const i=this.noise()*255,s=a.data,o=s.length,l=i/2;for(let c=0;c<o;c+=4)s[c+0]+=l-2*l*Math.random(),s[c+1]+=l-2*l*Math.random(),s[c+2]+=l-2*l*Math.random()};return dc.Noise=n,e.Factory.addGetterSetter(t.Node,"noise",.2,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),dc}var hc={},w5;function ZC(){if(w5)return hc;w5=1,Object.defineProperty(hc,"__esModule",{value:!0}),hc.Pixelate=void 0;const e=It(),t=Nr(),r=$r(),n=$t(),a=function(i){let s=Math.ceil(this.pixelSize()),o=i.width,l=i.height,c,u,h,p,d,g,y,S=Math.ceil(o/s),w=Math.ceil(l/s),v,b,P,M,F,U,O,R=i.data;if(s<=0){t.Util.error("pixelSize value can not be <= 0");return}for(F=0;F<S;F+=1)for(U=0;U<w;U+=1){for(p=0,d=0,g=0,y=0,v=F*s,b=v+s,P=U*s,M=P+s,O=0,c=v;c<b;c+=1)if(!(c>=o))for(u=P;u<M;u+=1)u>=l||(h=(o*u+c)*4,p+=R[h+0],d+=R[h+1],g+=R[h+2],y+=R[h+3],O+=1);for(p=p/O,d=d/O,g=g/O,y=y/O,c=v;c<b;c+=1)if(!(c>=o))for(u=P;u<M;u+=1)u>=l||(h=(o*u+c)*4,R[h+0]=p,R[h+1]=d,R[h+2]=g,R[h+3]=y)}};return hc.Pixelate=a,e.Factory.addGetterSetter(r.Node,"pixelSize",8,(0,n.getNumberValidator)(),e.Factory.afterSetFilter),hc}var fc={},S5;function eL(){if(S5)return fc;S5=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.Posterize=void 0;const e=It(),t=$r(),r=$t(),n=function(a){const i=Math.round(this.levels()*254)+1,s=a.data,o=s.length,l=255/i;for(let c=0;c<o;c+=1)s[c]=Math.floor(s[c]/l)*l};return fc.Posterize=n,e.Factory.addGetterSetter(t.Node,"levels",.5,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),fc}var pc={},x5;function tL(){if(x5)return pc;x5=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.RGB=void 0;const e=It(),t=$r(),r=$t(),n=function(a){const i=a.data,s=i.length,o=this.red(),l=this.green(),c=this.blue();for(let u=0;u<s;u+=4){const h=(.34*i[u]+.5*i[u+1]+.16*i[u+2])/255;i[u]=h*o,i[u+1]=h*l,i[u+2]=h*c,i[u+3]=i[u+3]}};return pc.RGB=n,e.Factory.addGetterSetter(t.Node,"red",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),e.Factory.addGetterSetter(t.Node,"green",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),e.Factory.addGetterSetter(t.Node,"blue",0,r.RGBComponent,e.Factory.afterSetFilter),pc}var gc={},k5;function rL(){if(k5)return gc;k5=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.RGBA=void 0;const e=It(),t=$r(),r=$t(),n=function(a){const i=a.data,s=i.length,o=this.red(),l=this.green(),c=this.blue(),u=this.alpha();for(let h=0;h<s;h+=4){const p=1-u;i[h]=o*u+i[h]*p,i[h+1]=l*u+i[h+1]*p,i[h+2]=c*u+i[h+2]*p}};return gc.RGBA=n,e.Factory.addGetterSetter(t.Node,"red",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),e.Factory.addGetterSetter(t.Node,"green",0,function(a){return this._filterUpToDate=!1,a>255?255:a<0?0:Math.round(a)}),e.Factory.addGetterSetter(t.Node,"blue",0,r.RGBComponent,e.Factory.afterSetFilter),e.Factory.addGetterSetter(t.Node,"alpha",1,function(a){return this._filterUpToDate=!1,a>1?1:a<0?0:a}),gc}var mc={},A5;function nL(){if(A5)return mc;A5=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.Sepia=void 0;const e=function(t){const r=t.data,n=r.length;for(let a=0;a<n;a+=4){const i=r[a+0],s=r[a+1],o=r[a+2];r[a+0]=Math.min(255,i*.393+s*.769+o*.189),r[a+1]=Math.min(255,i*.349+s*.686+o*.168),r[a+2]=Math.min(255,i*.272+s*.534+o*.131)}};return mc.Sepia=e,mc}var vc={},P5;function aL(){if(P5)return vc;P5=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.Solarize=void 0;const e=function(t){const r=t.data,n=t.width,a=t.height,i=n*4;let s=a;do{const o=(s-1)*i;let l=n;do{const c=o+(l-1)*4;let u=r[c],h=r[c+1],p=r[c+2];u>127&&(u=255-u),h>127&&(h=255-h),p>127&&(p=255-p),r[c]=u,r[c+1]=h,r[c+2]=p}while(--l)}while(--s)};return vc.Solarize=e,vc}var yc={},C5;function iL(){if(C5)return yc;C5=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.Threshold=void 0;const e=It(),t=$r(),r=$t(),n=function(a){const i=this.threshold()*255,s=a.data,o=s.length;for(let l=0;l<o;l+=1)s[l]=s[l]<i?0:255};return yc.Threshold=n,e.Factory.addGetterSetter(t.Node,"threshold",.5,(0,r.getNumberValidator)(),e.Factory.afterSetFilter),yc}var L5;function sL(){if(L5)return Eu;L5=1,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.Konva=void 0;const e=PC(),t=CC(),r=NC(),n=TC(),a=OC(),i=EC(),s=RC(),o=Yb(),l=Fp(),c=Kb(),u=MC(),h=DC(),p=IC(),d=FC(),g=Xb(),y=jC(),S=BC(),w=qC(),v=$C(),b=UC(),P=VC(),M=GC(),F=HC(),U=zC(),O=WC(),R=YC(),T=KC(),C=XC(),E=JC(),x=QC(),k=ZC(),L=eL(),D=tL(),q=rL(),W=nL(),Q=aL(),ne=iL();return Eu.Konva=e.Konva.Util._assign(e.Konva,{Arc:t.Arc,Arrow:r.Arrow,Circle:n.Circle,Ellipse:a.Ellipse,Image:i.Image,Label:s.Label,Tag:s.Tag,Line:o.Line,Path:l.Path,Rect:c.Rect,RegularPolygon:u.RegularPolygon,Ring:h.Ring,Sprite:p.Sprite,Star:d.Star,Text:g.Text,TextPath:y.TextPath,Transformer:S.Transformer,Wedge:w.Wedge,Filters:{Blur:v.Blur,Brighten:b.Brighten,Contrast:P.Contrast,Emboss:M.Emboss,Enhance:F.Enhance,Grayscale:U.Grayscale,HSL:O.HSL,HSV:R.HSV,Invert:T.Invert,Kaleidoscope:C.Kaleidoscope,Mask:E.Mask,Noise:x.Noise,Pixelate:k.Pixelate,Posterize:L.Posterize,RGB:D.RGB,RGBA:q.RGBA,Sepia:W.Sepia,Solarize:Q.Solarize,Threshold:ne.Threshold}}),Eu}var oL=xh.exports,N5;function lL(){if(N5)return xh.exports;N5=1,Object.defineProperty(oL,"__esModule",{value:!0});const e=sL();return xh.exports=e.Konva,xh.exports}var uL=lL();const br=hy(uL);function jh(e){if(!br.autoDrawEnabled){const t=e.getLayer()||e.getStage();t&&t.batchDraw()}}const T5={key:!0,style:!0,elm:!0,isRootInsert:!0},Z0=".vue-konva-event";function Jb(e,t,r,n){const a=e.__konvaNode,i={};let s=!1;for(let o in r){if(T5.hasOwnProperty(o))continue;const l=o.slice(0,2)==="on",c=r[o]!==t[o];if(l&&c){let u=o.slice(2).toLowerCase();u.slice(0,7)==="content"&&(u="content"+u.slice(7,1).toUpperCase()+u.slice(8)),a==null||a.off(u+Z0,r[o])}!t.hasOwnProperty(o)&&(a==null||a.setAttr(o,void 0))}for(let o in t){if(T5.hasOwnProperty(o))continue;let l=o.slice(0,2)==="on";const c=r[o]!==t[o];if(l&&c){let u=o.slice(2).toLowerCase();u.slice(0,7)==="content"&&(u="content"+u.slice(7,1).toUpperCase()+u.slice(8)),t[o]&&(a==null||a.off(u+Z0),a==null||a.on(u+Z0,t[o]))}!l&&(t[o]!==r[o]||n&&t[o]!==(a==null?void 0:a.getAttr(o)))&&(s=!0,i[o]=t[o])}s&&a&&(a.setAttrs(i),jh(a))}const cL="v";function dL(e){function t(r){return r!=null&&r.__konvaNode?r:r!=null&&r.parent?t(r.parent):(console.error("vue-konva error: Can not find parent node"),null)}return t(e.parent)}function Qb(e){return e.component?e.component.__konvaNode||Qb(e.component.subTree):null}function hL(e){const{el:t,component:r}=e,n=Qb(e);if(t!=null&&t.tagName&&r&&!n){const a=t.tagName.toLowerCase();return console.error(`vue-konva error: You are trying to render "${a}" inside your component tree. Looks like it is not a Konva node. You can render only Konva components inside the Stage.`),null}return n}function fL(e){const t=a=>!!(a!=null&&a.hasOwnProperty("component")),r=a=>Array.isArray(a),n=a=>t(a)?[a,...n(a.children)]:r(a)?a.flatMap(n):[];return n(e.children)}function Zb(e,t){const r=fL(e),n=[];r.forEach(i=>{const s=hL(i);s&&n.push(s)});let a=!1;n.forEach((i,s)=>{i.getZIndex()!==s&&(i.setZIndex(s),a=!0)}),a&&jh(t)}const pL=qr({name:"Stage",props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},inheritAttrs:!1,setup(e,{attrs:t,slots:r,expose:n}){const a=Zc();if(!a)return;const i=ga({}),s=Ie(null),o=new br.Stage({width:e.config.width,height:e.config.height,container:document.createElement("div")});a.__konvaNode=o,u();function l(){return a==null?void 0:a.__konvaNode}function c(){return a==null?void 0:a.__konvaNode}function u(){if(!a)return;const h=i||{},p={...t,...e.config};Jb(a,p,h,e.__useStrictMode),Object.assign(i,p)}return nr(()=>{s.value&&(s.value.innerHTML="",o.container(s.value)),u()}),ep(()=>{u(),Zb(a.subTree,o)}),tp(()=>{o.destroy()}),Zr(()=>e.config,u,{deep:!0}),n({getStage:c,getNode:l}),console.log(t),()=>{var h;return Vi("div",{ref:s,style:t==null?void 0:t.style},(h=r.default)==null?void 0:h.call(r))}}}),gL=".vue-konva-event",mL={Group:!0,Layer:!0,FastLayer:!0,Label:!0};function vL(e,t){return qr({name:e,props:{config:{type:Object,default:function(){return{}}},__useStrictMode:{type:Boolean}},setup(r,{attrs:n,slots:a,expose:i}){const s=Zc();if(!s)return;const o=ga({}),l=new t;s.__konvaNode=l,s.vnode.__konvaNode=l,h();function c(){return s==null?void 0:s.__konvaNode}function u(){return s==null?void 0:s.__konvaNode}function h(){if(!s)return;const d={};for(const S in s==null?void 0:s.vnode.props)S.slice(0,2)==="on"&&(d[S]=s.vnode.props[S]);const g=o||{},y={...n,...r.config,...d};Jb(s,y,g,r.__useStrictMode),Object.assign(o,y)}nr(()=>{var d;const g=(d=dL(s))==null?void 0:d.__konvaNode;g&&"add"in g&&g.add(l),jh(l)}),bi(()=>{jh(l),l.destroy(),l.off(gL)}),ep(()=>{h(),Zb(s.subTree,l)}),Zr(()=>r.config,h,{deep:!0}),i({getStage:u,getNode:c});const p=mL.hasOwnProperty(e);return()=>{var d;return p?Vi("template",{},(d=a.default)==null?void 0:d.call(a)):null}}})}typeof window<"u"&&!window.Konva&&require("konva");const yL={install:(e,t)=>{const r=(t==null?void 0:t.prefix)||cL,n={Arc:br.Arc,Arrow:br.Arrow,Circle:br.Circle,Ellipse:br.Ellipse,FastLayer:br.FastLayer,Group:br.Group,Image:br.Image,Label:br.Label,Layer:br.Layer,Line:br.Line,Path:br.Path,Rect:br.Rect,RegularPolygon:br.RegularPolygon,Ring:br.Ring,Shape:br.Shape,Sprite:br.Sprite,Star:br.Star,Tag:br.Tag,Text:br.Text,TextPath:br.TextPath,Transformer:br.Transformer,Wedge:br.Wedge,...t==null?void 0:t.customNodes};[pL,...Object.entries(n).map(([a,i])=>vL(a,i))].forEach(a=>{e.component(`${r}${a.name}`,a)})}},jp=sw(dw);jp.use(yL);jp.use(Gb);jp.mount("#app");export{tr as _,mg as c,hy as g};
